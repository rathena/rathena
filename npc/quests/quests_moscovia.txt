//===== rAthena Script ======================================= 
//= Moscovia Quests
//===== By: ================================================== 
//= Kisuka
//===== Current Version: ===================================== 
//= 3.0
//===== Compatible With: ===================================== 
//= rAthena Project
//===== Description: ========================================= 
//= Quests for Moscovia.
//= The Moving Island, Help Mikhail, Acorn Exchange,
//= Banish Winter, Shafka Hat, Koshei the Immortal.
//===== Additional Comments: ================================= 
//= 1.0 First version. [Kisuka]
//= 1.1 Small fixes on The Moving Island. [Kisuka]
//= 1.2 Fixed a "player not attached" error. [brianluau]
//= 1.3 Replaced occurrences of PcName. [brianluau]
//= 1.4 Added 'Koshei the Immortal' quest. [Kisuka]
//= 1.5 Fixes to 'Koshei the Immortal' quest. [Kisuka]
//= 1.6 Added 'tides' to Ibanoff & Fixed time check for Marozka. [Kisuka]
//= 1.7 Fixes on donpcevents and fixed some left over aegis stuff. [Kisuka]
//= 1.8 Fixed some condition checks. [Gepard]
//= 1.9 Corrected NPC counting mobs for the wrong NPC. (bugreport:4736) [L0ne_W0lf]
//= 2.0 Optimized. [Joseph]
//= 2.0a Bug fixes. [Euphy]
//= 2.0b Bug fixes. [Lemongrass]
//= 2.1 Fixed incorrect use of 'close'. [Joseph]
//= 2.2 Updated RE/Pre-RE EXP. [Euphy]
//= 2.3 Added GM management NPC. [Euphy]
//= 3.0 Bug fixes. Added questlog support. [Capuche]
//============================================================ 

// The Moving Island :: mos_whale_edq
//============================================================

//----------------------------------------------------------------------------
// Berbayeff - Starting Point
//----------------------------------------------------------------------------
moscovia,171,71,3	script	Berbayeff#npc	4_M_RUSMAN2,{
	if (!mos_whale_edq) {
		emotion ET_FRET;
		mes "[Berbayeff]";
		mes "This..and..that...";
		mes "All guys...are distrustful.";
		mes "Makes me a braggart.";
		next;
		select("Do you have a problem?");
		mes "[Berbayeff]";
		mes "I haven't seen you before.";
		mes "Are you a traveler?";
		mes "If so, then you may have";
		mes "seen many marvelous things";
		mes "from near and far.";
		next;
		mes "[Berbayeff]";
		mes "I'm sure you'll probably";
		mes "be interested in my story.";
		mes "All the villagers are blockheads,";
		mes "so they treat me like an idiot.";
		if (isbegin_quest(18100) == 0)
			setquest 18100;
		next;
		if(select("I'm not interested in any story.:Tell me.") == 1) {
			mes "[Berbayeff]";
			mes "Indeed... You are not interested...";
			mes "That's ok.";
			next;
			mes "[Berbayeff]";
			mes "If you change your mind,";
			mes "you can talk to me whenever.";
			close;
		}
		emotion ET_BEST;
		mes "[Berbayeff]";
		mes "Good, I have been thinking that";
		mes "I would tell you this story from the start.";
		next;
		mes "[Berbayeff]";
		mes "You seem to have spent";
		mes "only a few days here.";
		mes "Have you ever heard";
		mes "about The Moving Island?";
		next;
		mes "[Berbayeff]";
		mes "In Moscovia,";
		mes "a story is handed down";
		mes "from the ancients, like legends.";
		next;
		mes "[Berbayeff]";
		mes "It is said that";
		mes "there is an island";
		mes "which sometimes moves,";
		mes "not far out at sea.";
		next;
		mes "[Berbayeff]";
		mes "But, nobody has seen";
		mes "the island before.";
		mes "So, few people have";
		mes "believed the legend.";
		next;
		mes "[Berbayeff]";
		mes "Actually, I thought that";
		mes "it might be a kind of";
		mes "old story... nothing more.";
		mes "But then... I saw...";
		next;
		mes "[Berbayeff]";
		mes "Actually, I thought that";
		mes "it might be a kind of";
		mes "old story... nothing more.";
		mes "But then... I saw...";
		mes "The Moving Island!!!";
		next;
		mes "[Berbayeff]";
		mes "Surprised? Right...";
		mes "It is so surprising.";
		mes "Frankly, you don't believe";
		mes "any of this story either.";
		next;
		mes "[Berbayeff]";
		mes "I saw the island";
		mes "from the middle of";
		mes "the village's south shore.";
		next;
		mes "[Berbayeff]";
		mes "At first, I doubted my eyes.";
		mes "I have never heard that that island";
		mes "really existed here, even though I";
		mes "have lived here all my life!";
		next;
		mes "[Berbayeff]";
		mes "I tried to go up";
		mes "to look at it from";
		mes "higher ground, but";
		mes "the island receded";
		mes "and disappeared...";
		mes "back to the sea.";
		next;
		select("The island doesn't appear anymore?");
		mes "[Berbayeff]";
		mes "If it does,";
		mes "one might just think";
		mes "that they've looked";
		mes "at an apparition.";
		next;
		mes "[Berbayeff]";
		mes "But a few nights ago...";
		mes "Finally, the island appeared";
		mes "in front of me again,";
		mes "while I was driving my ship to go home.";
		next;
		mes "[Berbayeff]";
		mes "At that time, I tried to";
		mes "get near the island again,";
		mes "slowly, but it disappeared...";
		mes "beyond the sea once more.";
		next;
		mes "[Berbayeff]";
		mes "It was then, I couldn't help";
		mes "to finally believe";
		mes "in the existence of";
		mes "The Moving Island!";
		next;
		mes "[Berbayeff]";
		mes "Surely, this must be";
		mes "a great discovery!";
		mes "Don't you think??";
		mes "Doesn't your heart shout out in";
		mes "hopes of adventuring out to the island?";
		next;
		mes "[Berbayeff]";
		mes "I haven't given up yet!";
		mes "Certainly, it'll appear again";
		mes "right in front of us!";
		next;
		mes "[Berbayeff]";
		mes "And on that day,";
		mes "I'll definitely go up to that";
		mes "island... and verify it with my own eyes!";
		changequest 18100,18101;
		mos_whale_edq = 1;
		close;
	} else if (mos_whale_edq == 1) {
		.@speak = rand(1,5);
		if (.@speak < 3) {
			mes "[Berbayeff]";
			mes "Clearly, I want to prove";
			mes "the existence of that island to everyone...";
			next;
			mes "[Berbayeff]";
			mes "If the island appears again,";
			mes "I should certify its identity.";
			mes "Would you like to try it?";
			close;
		}
		mes "[Berbayeff]";
		mes "The best way to find the";
		mes "island is by direct contact";
		mes "with a ship in the sea.";
		next;
		mes "[Berbayeff]";
		mes "Me?";
		mes "Of course I have a ship.";
		mes "I am a fisherman after all...";
		next;
		mes "[Berbayeff]";
		mes "Ah, you do? You need...";
		mes "a ship? Hm...too bad.";
		mes "I can't lend my ship to you...";
		next;
		mes "[Berbayeff]";
		mes "But maybe Mr. Ibanoff";
		mes "can lend his ship to you";
		mes "He likes going around";
		mes "adventuring like me.";
		mes "He seems to enjoy his youth...";
		next;
		mes "[Berbayeff]";
		mes "Mr. Ibanoff also traveled and";
		mes "adventured all over the world";
		mes "like you, so he might understand";
		mes "your sentiments well.";
		next;
		mes "[Berbayeff]";
		mes "If you want to find the island";
		mes "by ship, go to Mr. Ibanoff";
		mes "and ask for a favor.";
		changequest 18101,18102;
		close;
	} else if (mos_whale_edq > 2 && mos_whale_edq < 42) {
		emotion ET_HUK;
		mes "[Berbayeff]";
		mes "Are you serious? Did you say";
		mes "you've found The Moving Island?";
		next;
		emotion ET_BEST;
		mes "[Berbayeff]";
		mes "The legend is true!!";
		mes "I was right, wasn't I?";
		mes "You must be a great adventurer.";
		close;
	}
	mes "[Berbayeff]";
	mes "Welcome to Moscovia.";
	mes "What's your impression thus far?";
	mes "Looks gorgeous, huh?";
	next;
	mes "[Berbayeff]";
	mes "Most travelers and strangers";
	mes "like our village.";
	mes "I want you to visit places here and";
	mes "there. You'll probably love this town.";
	close;
}

//----------------------------------------------------------------------------
// Bulletin Board - List Tide Times
//----------------------------------------------------------------------------
moscovia,135,52,0	script	Bulletin Board#npc	2_BULLETIN_BOARD,{
	mes "[Charabel Schedule]";
	mes "NOTICE, due to the varying";
	mes "tides here in Moscovia,";
	mes "the charabel can only";
	mes "depart when the tide is low.";
	next;
	mes "[Charabel Schedule]";
	mes "The Charabel can depart";
	mes "between the following times:";
	mes "^0000FF12:00am PST^000000 to ^0000FF3:00am PST";
	mes "^0000FF6:00am PST^000000 to ^0000FF9:00am PST";
	mes "^0000FF12:00pm PST^000000 to ^0000FF3:00pm PST";
	mes "^0000FF6:00pm PST^000000 to ^0000FF9:00pm PST";
	close;
}

//----------------------------------------------------------------------------
// Mr. Ibanoff - Docks
//----------------------------------------------------------------------------
moscovia,135,49,5	script	Mr. Ibanoff#npc	4_M_RUSBALD,{
	if (mos_whale_edq == 0) {
		mes "[Mr. Ibanoff]";
		mes "You are also an adventurer from another province. I also was a great adventurer.";
		next;
		mes "[Mr. Ibanoff]";
		mes "Uf...I just want to be 20 years younger, so I can travel here and there with invigorating youth such as you... Time is an enemy. Hahahahaha!";
		close;
	} else if (mos_whale_edq == 1 || mos_whale_edq == 2) {
		mes "["+strcharinfo(0)+"]";
		mes "Hello. Are you Mr. Ibanoff?";
		next;
		mes "[Mr. Ibanoff]";
		mes "Yes. I am Mr. Ibanoff.";
		mes "What's up?";
		next;
		if(select("Tell me an adventure story.:Lend me your ship.") == 1) {
			mes "[Mr. Ibanoff]";
			mes "You are an adventurer, right?";
			mes "You come from a strange land?";
			mes "Well, well, well...";
			mes "You are welcome here.";
			next;
			mes "[Mr. Ibanoff]";
			mes "When I adventured around";
			mes "Rune-Midgarts, maybe it was";
			mes "well before you were born.";
			mes "Ah... I miss those days...";
			next;
			mes "[Mr. Ibanoff]";
			mes "Now, I'm so tired;";
			mes "my body and my heart.";
			mes "I get reminded of fond";
			mes "memories just by looking at the sea...";
			next;
			mes "[Mr. Ibanoff]";
			mes "Um... Stories...";
			mes "What to talk about first?";
			mes "Right, I'll talk about that time I";
			mes "fought against a huge flock of Porings...";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Hahaha...";
			next;
			mes "[Mr. Ibanoff]";
			mes "You'll be happy that you";
			mes "listened to the adventure story.";
			mes "Well, well, well...";
			mes "When I was 24 years old...";
			mes "My colleagues and I were passing by";
			mes "a forest near Payon...";
			next;
			mes "when...";
			next;
			mes "and....";
			next;
			mes "then.....";
			next;
			mes "Finally......";
			next;
			mes "[Mr. Ibanoff]";
			mes "I did a very good";
			mes "job in the fight, so";
			mes "my colleagues and I were";
			mes "able to get back safely.";
			next;
			mes "[Mr. Ibanoff]";
			mes "What did you think?";
			mes "Next... Let's talk about";
			mes "the haunting of a Goblin mob...!";
			if (isbegin_quest(18102))
				changequest 18102,18103;
			else if (isbegin_quest(18101))
				changequest 18101,18103;
			next;
			if(select("I'll listen next time...:Interesting. Keep talking.") == 1) {
				mes "[Mr. Ibanoff]";
				mes "If not...Ooo, I can just";
				mes "keep going and going...";
				mes "No? Too bad... Hehe...";
				mes "Let's talk next time.";
				close;
			}
			mes "[Mr. Ibanoff]";
			mes "Yeah? Ohohoh... my friend,";
			mes "we are in sync with each other...!";
			next;
			mes "[Mr. Ibanoff]";
			mes "Ok, this time I'll talk";
			mes "about the bloody fight at the";
			mes "haunting of a Goblin mob...";
			next;
			mes "You see...";
			next;
			mes "and....";
			next;
			mes "also.....";
			next;
			mes "Lastly......";
			next;
			mes "[Mr. Ibanoff]";
			mes "So, the day's great bloody";
			mes "fight was over like that...";
			mes "Ohwee...";
			next;
			mes "[Mr. Ibanoff]";
			mes "Hah! You are the first";
			mes "to listen carefully to";
			mes "my stories, for a long time.";
			mes "Feels so good...";
			next;
			mes "[Mr. Ibanoff]";
			mes "You absolutely have talent,";
			mes "as a great adventurer.";
			mes "You can become a good friend to me.";
			next;
			mes "[Mr. Ibanoff]";
			mes "Next time, we talk about your";
			mes "adventure story... eh? ~";
			mes "If you ever need anything,";
			mes "come talk to me whenever, hahaha!";
			mos_whale_edq = 2;
			if (isbegin_quest(18103))
				changequest 18103,18104;
			close;
		}
		if (mos_whale_edq == 2) {
			mes "[Mr. Ibanoff]";
			mes "Ah! The good listener!";
			mes "What will you do if you";
			mes "borrow my ship? I wonder...";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "I'm going to adventure out";
			mes "to sea, to find a moving";
			mes "island which has brought";
			mes "many a legend to this neighboring village.";
			next;
			mes "[Mr. Ibanoff]";
			mes "The Moving Island?";
			mes "I have never seen that really...";
			mes "You are young! Hawhawhaw!";
			next;
			mes "[Mr. Ibanoff]";
			mes "I hope that you find";
			mes "the island without fail,";
			mes "and that you bring back";
			mes "surprising news to us!";
			next;
			mes "[Mr. Ibanoff]";
			mes "Let it be so!";
			mes "First, I should check";
			mes "the state of the ship...";
			mes "You have some work to do,";
			mes "if you want to help me.";
			next;
			mes "[Mr. Ibanoff]";
			mes "She has not floated";
			mes "for a long time,";
			mes "so we should check";
			mes "and repair the parts";
			mes "that power her up.";
			next;
			mes "[Mr. Ibanoff]";
			mes "Preparing the tools for repairs, in";
			mes "this place, takes several days...";
			mes "if you can possibly prepare them.";
			next;
			mes "[Mr. Ibanoff]";
			mes "The materials needed are:";
			mes "^0000FFStrange Steel Piece 10, Rusty Screw 10, Flexible Tube 5, Jubilee 10^000000.";
			next;
			mes "[Mr. Ibanoff]";
			mes "When you've prepared all the";
			mes "materials, bring them to me. I'll";
			mes "repair the ship.";
			mos_whale_edq = 3;
			changequest 18104,18105;
			close;
		}
		emotion ET_ANGER;
		mes "[Mr. Ibanoff]";
		mes "You want to borrow";
		mes "my ship so spontaneously??";
		mes "I don't even know you!!";
		mes "You are more rude than you look.";
		next;
		mes "[Mr. Ibanoff]";
		mes "I don't know, how you know";
		mes "that I have a ship...";
		mes "Anyway, I can't lend my ship";
		mes "willingly to strangers.";
		if (isbegin_quest(18102))
			changequest 18102,18103;
		else if (isbegin_quest(18101))
			changequest 18101,18103;
		close;
	} else if (mos_whale_edq == 3) {
		mes "[Mr. Ibanoff]";
		mes "Did you bring all the materials?";
		mes "If we have all the materials,";
		mes "we can prepare for departure!";
		next;
		if (countitem(7167) > 9 && countitem(7317) > 9 && countitem(7325) > 4 && countitem(7312) > 9) {
			mes "[Mr. Ibanoff]";
			mes "Oh! You got the all materials.";
			mes "It's enough.";
			next;
			delitem 7167,10;	// Mystery_Iron_Bit
			delitem 7317,10;	// Screw
			delitem 7325,5;		// Tube
			delitem 7312,10;	// Jubilee
			mos_whale_edq = 4;
			mes "[Mr. Ibanoff]";
			mes "Okay, we are at the ready.";
			mes "When would you like to depart?";
			mes "I'll say one thing...";
			mes "It's difficult to keep this";
			mes "ship afloat after the sun has set.";
			next;
			mes "[Mr. Ibanoff]";
			mes "In these neighboring waters,";
			mes "there are many raging waves.";
			mes "After the sun sets, the tide does";
			mes "not get any easier... even for an";
			mes "expert seaman.";
			next;
			mes "[Mr. Ibanoff]";
			mes "Remember, the poor condition of";
			mes "this ship also factors when";
			mes "attempting to plow through the";
			mes "raging waves.";
			next;
			mes "[Mr. Ibanoff]";
			mes "If you are ready to depart, tell";
			mes "me, and we can check the tides.";
			changequest 18105,18106;
			close;
		}
		mes "[Mr. Ibanoff]";
		mes "These materials are insufficient.";
		mes "Perhaps you forgot some of them?";
		next;
		mes "[Mr. Ibanoff]";
		mes "The materials needed are:";
		mes "^0000FFStrange Steel Piece 10, Rusty Screw 10, Flexible Tube 5, Jubilee 10^000000.";
		close;
	} else if (mos_whale_edq == 4) {
		mes "[Mr. Ibanoff]";
		mes "Oh. Are you ready to depart?";
		mes "Good, let's see...";
		next;
		if ((gettime(DT_HOUR) >= 0 && gettime(DT_HOUR) < 3) || (gettime(DT_HOUR) >= 6 && gettime(DT_HOUR) < 9) || (gettime(DT_HOUR) >= 12 && gettime(DT_HOUR) < 15) || (gettime(DT_HOUR) >= 18 && gettime(DT_HOUR) < 21)) {
			// if (isbegin_quest(18106))
				// changequest 18106,18107;
			mes "[Mr. Ibanoff]";
			mes "Hmm. It's not a bad time.";
			mes "We should hurry up";
			mes "while the tides are low.";
			mes "The ship is prepared already";
			mes "at a dock nearby, so we can depart";
			mes "right away.";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
	} else if (mos_whale_edq < 15) {
		mes "[Mr. Ibanoff]";
		mes "That last sailing was tough...";
		mes "But, all adventures";
		mes "are like that...";
		mes "Hahaha!";
		next;
		mes "[Mr. Ibanoff]";
		mes "If you keep a mind to";
		mes "depart again... tell me";
		mes "and we can check the tides.";
		next;
		mes "[Mr. Ibanoff]";
		mes "Will you depart?";
		next;
		if(select("I'm not ready.:Let's go.") == 1) {
			mes "[Mr. Ibanoff]";
			mes "When you are ready to depart, tell me.";
			close;
		}
		if ((gettime(DT_HOUR) >= 0 && gettime(DT_HOUR) < 3) || (gettime(DT_HOUR) >= 6 && gettime(DT_HOUR) < 9) || (gettime(DT_HOUR) >= 12 && gettime(DT_HOUR) < 15) || (gettime(DT_HOUR) >= 18 && gettime(DT_HOUR) < 21)) {
			mos_whale_edq = 4;
			mes "[Mr. Ibanoff]";
			mes "Hmm. It's not a bad time.";
			mes "We should hurry up";
			mes "while the tides are low.";
			mes "The ship is prepared already";
			mes "at a dock nearby, so we can depart";
			mes "right away.";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
	} else if (mos_whale_edq == 15) {
		mes "[Mr. Ibanoff]";
		mes "Hey you... You are alive!";
		mes "When you were swept away by the";
		mes "waves, I thought that was the last";
		mes "I would ever see of you!";
		next;
		mes "[Mr. Ibanoff]";
		mes "Anyway, where were you all this time?";
		next;
		select("Explain the whole story.");
		mes "[Mr. Ibanoff]";
		mes "Oh... that's really marvelous.";
		mes "Well I never...";
		mes "The island truly exists...?";
		next;
		mes "[Mr. Ibanoff]";
		mes "What's more...";
		mes "The island is not an island?!?";
		mes "It's a gigantic whale???";
		next;
		mes "[Mr. Ibanoff]";
		mes "And trees grow... and water";
		mes "streams... along the whale's";
		mes "back!!?";
		next;
		mes "[Mr. Ibanoff]";
		mes "That's unbelievable!";
		mes "The most marvelous incident I have";
		mes "ever heard in my lifetime!";
		next;
		mes "[Mr. Ibanoff]";
		mes "Also, I am surprised at the";
		mes "presence of an aged person on Whale";
		mes "Island!";
		next;
		mes "[Mr. Ibanoff]";
		mes "He must be a man strong in";
		mes "spirit... with experience and high";
		mes "discipline.";
		next;
		mes "[Mr. Ibanoff]";
		mes "The story of the island has";
		mes "advanced enough until this part.";
		mes "Why don't you announce your";
		mes "findings to our dearest Csar";
		mes "and receive aid to find Whale";
		mes "Island?";
		next;
		mes "[Mr. Ibanoff]";
		mes "Our dear Csar likes it very";
		mes "much to hear stories about";
		mes "valuable things, so if he";
		mes "listens to your story, he may give";
		mes "you a prize...";
		next;
		mes "[Mr. Ibanoff]";
		mes "And if you have any plans to go";
		mes "back to the island, I want to go";
		mes "together with you! Eh? Hahaha!";
		mos_whale_edq = 16;
		if (isbegin_quest(18111))
			changequest 18111,18112;
		close;
	} else if (mos_whale_edq < 18) {
		mes "[Mr. Ibanoff]";
		mes "If our dear Csar listens to this";
		mes "kind of story, he would find it a";
		mes "pleasure.";
		next;
		mes "[Mr. Ibanoff]";
		mes "He might even give you a prize...";
		close;
	} else if (mos_whale_edq == 18) {
		mes "[Mr. Ibanoff]";
		mes "Hm. Our dear Csar requested";
		mes "evidence of the whale island?...";
		next;
		mes "[Mr. Ibanoff]";
		mes "That may prove a little";
		mes "difficult...";
		next;
		mes "[Mr. Ibanoff]";
		mes "Do you have a guarantee that you";
		mes "can find Whale Island again?";
		next;
		mes "[Mr. Ibanoff]";
		mes "I think you won't give up.";
		mes "How about if we depart";
		mes "once more, and I will gladly help";
		mes "you find Whale Island!";
		next;
		if(select("Try again to find Whale Island.:Give up.") == 1) {
			mes "[Mr. Ibanoff]";
			mes "That does it! I expected it.";
			mes "I knew you weren't the type to give up an adventure!";
			next;
			mes "[Mr. Ibanoff]";
			mes "Again, let's get the ship ready and sail before the sun sets!";
			mos_whale_edq = 19;
			if (isbegin_quest(18113))
				changequest 18113,18114;
			close;
		}
		mes "[Mr. Ibanoff]";
		mes "I see...";
		mes "Even though you like adventure,";
		mes "it might be impossible to find";
		mes "Whale Island again...";
		next;
		mes "[Mr. Ibanoff]";
		mes "If you change your mind,";
		mes "anytime, come tell me.";
		mes "Frankly, I would love to see you";
		mes "prove the existence of Whale Island";
		mes "to our dear Csar.";
		close;
	} else if (mos_whale_edq == 19) {
		mes "[Mr. Ibanoff]";
		mes "Oh! Are you ready to depart?";
		next;
		if(select("I'm not ready.:Let's go.") == 1) {
			mes "[Mr. Ibanoff]";
			mes "When you are ready to depart, tell me.";
			close;
		}
		if ((gettime(DT_HOUR) >= 0 && gettime(DT_HOUR) < 3) || (gettime(DT_HOUR) >= 6 && gettime(DT_HOUR) < 9) || (gettime(DT_HOUR) >= 12 && gettime(DT_HOUR) < 15) || (gettime(DT_HOUR) >= 18 && gettime(DT_HOUR) < 21)) {
			mes "[Mr. Ibanoff]";
			mes "Hmm. It's not a bad time.";
			mes "We should hurry up";
			mes "while the tides are low.";
			mes "The ship is prepared already";
			mes "at a dock nearby, so we can depart";
			mes "right away.";
			close2;
			// if (isbegin_quest(18114))
			//	changequest 18114,18115;
			warp "mosk_ship",94,110;
			end;
		}
	} else if (mos_whale_edq < 32) {
		mes "[Mr. Ibanoff]";
		mes "What a surprise!!";
		mes "Where have you been??";
		mes "I was worried that you had";
		mes "disappeared forever!";
		next;
		mes "[Mr. Ibanoff]";
		mes "I don't care... Wherever you have";
		mes "been, it's very good to see you";
		mes "again.";
		mos_whale_edq = 19;
		// changequest 18113,18114;
		next;
		mes "[Mr. Ibanoff]";
		mes "I can guess you'd like to go to";
		mes "Whale Island once again...";
		next;
		if ((gettime(DT_HOUR) >= 0 && gettime(DT_HOUR) < 3) || (gettime(DT_HOUR) >= 6 && gettime(DT_HOUR) < 9) || (gettime(DT_HOUR) >= 12 && gettime(DT_HOUR) < 15) || (gettime(DT_HOUR) >= 18 && gettime(DT_HOUR) < 21)) {
			mes "[Mr. Ibanoff]";
			mes "Hmm. It's not a bad time.";
			mes "We should hurry up";
			mes "while the tides are low.";
			mes "The ship is prepared already";
			mes "at a dock nearby, so we can depart";
			mes "right away.";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
	} else if (mos_whale_edq == 32) {
		mes "[Mr. Ibanoff]";
		mes "Oh. You came back!";
		mes "So, how did you do?";
		next;
		mes "[Mr. Ibanoff]";
		mes "You say...";
		mes "If you bring the materials, the old";
		mes "man makes the instrument...";
		next;
		mes "[Mr. Ibanoff]";
		mes "And he promised that he won't move";
		mes "the island until you go back";
		mes "again...";
		next;
		mes "[Mr. Ibanoff]";
		mes "I see. I remember the exact";
		mes "directions. Let's leave";
		mes "immediately, as soon as you are";
		mes "ready.";
		mos_whale_edq = 33;
		close;
	} else if (mos_whale_edq < 39) {
		mes "[Mr. Ibanoff]";
		mes "Oh. Did you get all the";
		mes "materials you needed?";
		next;
		mes "[Mr. Ibanoff]";
		mes "If so, do you want to go now?";
		next;
		if(select("Not yet.:Let's go.") == 1) {
			mes "[Mr. Ibanoff]";
			mes "I see. I will wait.";
			close;
		}
		mes "[Mr. Ibanoff]";
		mes "Ok, let's go!";
		close2;
		warp "mosk_fild01",93,94;
		end;
	} else if (mos_whale_edq < 41) {
		mes "[Mr. Ibanoff]";
		mes "Finally, everything has ended";
		mes "successfully. With this, I add 1";
		mes "more page to my... no, OUR adventure story!";
		next;
		mes "[Mr. Ibanoff]";
		mes "Someday, I want to have another";
		mes "chance to have another fantastic";
		mes "adventure with a person like you!";
		close;
	} else if (mos_whale_edq == 41) {
		mes "[Mr. Ibanoff]";
		mes "I heard that you played a great";
		mes "performance, with the instrument";
		mes "from Whale Island, at the Imperial";
		mes "Palace. Eh? You must have quite the talent!";
		next;
		mes "[Mr. Ibanoff]";
		mes "Finally, everything has ended";
		mes "successfully. With this, I add 1";
		mes "more page to my... no, OUR adventure story!";
		next;
		mes "[Mr. Ibanoff]";
		mes "Someday, I want to have another";
		mes "chance to have another fantastic";
		mes "adventure with a person like you!";
		close;
	} else if (mos_whale_edq > 90 && mos_whale_edq < 100) {
		mes "[Mr. Ibanoff]";
		mes "What's going on?";
		mes "You should ride a ship now? Let's ready to leave hurry up.";
		mos_whale_edq = 4;
		close;
	} else if (mos_whale_edq > 200 && mos_whale_edq < 300) {
		mes "[Mr. Ibanoff]";
		mes "What's going on?";
		mes "You should ride a ship now? Let's ready to leave hurry up.";
		mos_whale_edq = 19;
		close;
	}
	mes "[Mr. Ibanoff]";
	mes "Gee. The tide is too high.";
	mes "It's too dangerous to depart";
	mes "right now because of the waves";
	mes "getting too rugged.";
	next;
	mes "[Mr. Ibanoff]";
	mes "When the sea calmes down a bit,";
	mes "you can come back. We can't depart";
	mes "right now.";
	close;
}

//----------------------------------------------------------------------------
// Mr. Ibanoff - Ship
//----------------------------------------------------------------------------
mosk_ship,98,110,3	script	Mr. Ibanoff#npc2	4_M_RUSBALD,{
	if (mos_whale_edq == 4) {
		mes "[Mr. Ibanoff]";
		mes "What a time for sailing!";
		mes "The wind of the sea is so cool.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "You didn't have to accompany me";
		mes "through this dangerous sailing...";
		next;
		mes "[Mr. Ibanoff]";
		mes "Such as I am, I know the";
		mes "sea a lot better than you!";
		mes "And this ship has been my";
		mes "friend through all my life!";
		mes "I wouldn't abandon a friend.";
		mes "Would you? ~";
		next;
		mes "[Mr. Ibanoff]";
		mes "I will order you where to go, by";
		mes "watching the seas.";
		next;
		mes "[Mr. Ibanoff]";
		mes "You just adjust the direction of";
		mes "the rudder by following my orders.";
		next;
		mes "[Mr. Ibanoff]";
		mes "At first, hold the rudder to go";
		mes "forward, to the east.";
		mos_whale_edq = 5;
		if (isbegin_quest(18106))
			changequest 18106,18107;
		close;
	} else if (mos_whale_edq == 5) {
		mes "[Mr. Ibanoff]";
		mes "Keep the direction by holding the";
		mes "rudder to move forward to the";
		mes "East.";
		close;
	} else if (mos_whale_edq == 6 || mos_whale_edq == 21) {
		.@r = (mos_whale_edq == 21)?3:4;
		if (rand(1,.@r) == 3) {
			mes "[Mr. Ibanoff]";
			mes "Hm. The sea currents have changed.";
			mes "Adjust the rudder forward to the";
			mes "North, to follow the currents.";
			mos_whale_edq++;
			close;
		}
		mes "[Mr. Ibanoff]";
		mes "Nothing yet... Nothing has changed";
		mes "in the flow of water. There is";
		mes "nothing to note...";
		next;
		mes "[Mr. Ibanoff]";
		mes "We had better keep sailing on this";
		mes "heading for now.";
		close;
	} else if ($@mos1_edq) {
		mes "[Mr. Ibanoff]";
		mes "We must first repulse the";
		mes "monsters!";
		close;
	} else if (mos_whale_edq == 7 || mos_whale_edq == 22) {
		mes "[Mr. Ibanoff]";
		mes "Hey!";
		mes "Did you not hear me?";
		mes "Change the rudder forward to the";
		mes "North, and follow the currents!";
		close;
	}
	else if (mos_whale_edq == 8 || mos_whale_edq == 10) callsub S_D_1,3,91,92,93,94;
	else if (mos_whale_edq >= 91 && mos_whale_edq <= 94) callsub S_D_2,(mos_whale_edq-91);
	else if (mos_whale_edq == 11) {
		mes "[Mr. Ibanoff]";
		mes "Look... Beyond the sea!";
		mes "Do you see something moving";
		mes "mysteriously?";
		next;
		mes "[Mr. Ibanoff]";
		mes "Heheh... What is...";
		mes "that... Hey! You...";
		mes "Go around the deck to look more";
		mes "carefully! Go!";
		mos_whale_edq = 12;
		if (isbegin_quest(18107))
			changequest 18107,18108;
		donpcevent "#findship::OnEnable";
		close;
	} else if (mos_whale_edq == 12) {
		mes "[Mr. Ibanoff]";
		mes "What are you doing...? Go around";
		mes "the deck to look more carefully!";
		mes "Go!";
		donpcevent "#findship::OnEnable";
		close;
	} else if (mos_whale_edq == 19) {
		mes "[Mr. Ibanoff]";
		mes "This time, I hope to find that";
		mes "whale island again without any";
		mes "incidents...";
		next;
		mes "[Mr. Ibanoff]";
		mes "The method is the same as before.";
		next;
		mes "[Mr. Ibanoff]";
		mes "I will order you where to go, by";
		mes "watching the seas.";
		next;
		mes "[Mr. Ibanoff]";
		mes "You just adjust the direction of";
		mes "the rudder by following my orders.";
		next;
		mes "[Mr. Ibanoff]";
		mes "At first, hold the rudder to go";
		mes "forward, to the east.";
		mos_whale_edq = 20;
		if (isbegin_quest(18114))
			changequest 18114,18115;
		close;
	} else if (mos_whale_edq == 20) {
		mes "[Mr. Ibanoff]";
		mes "Keep the direction by holding the";
		mes "rudder to move forward to the";
		mes "East.";
		close;
	}
	else if (mos_whale_edq == 23 || mos_whale_edq == 25) callsub S_D_1,5,241,242,243,244;
	//else if (mos_whale_edq == 241 || mos_whale_edq == 243 || mos_whale_edq == 244) callsub S_D_2,0;
	//else if (mos_whale_edq == 242) callsub S_D_2,1;
	else if (mos_whale_edq >= 241 && mos_whale_edq <= 244) callsub S_D_2, (mos_whale_edq -241);
	else if (mos_whale_edq == 26) {
		mes "[Mr. Ibanoff]";
		mes "Look there!";
		mes "There is a moving island!";
		mes "We have done well!";
		next;
		// if (isbegin_quest(18115))
			// changequest 18115,18116;
		mes "[Mr. Ibanoff]";
		mes "Oh...my...";
		mes "It really is there...";
		mes "A whale! It's unbelievable!";
		mes "It is as true as that...";
		next;
		mes "[Mr. Ibanoff]";
		mes "I feel I can go anywhere with you!";
		mes "Even through impossible things!";
		mes "Haha! You are a friend who brings";
		mes "good luck.";
		next;
		mes "[Mr. Ibanoff]";
		mes "Okay, now that you have landed on";
		mes "the island, I have to go back...";
		next;
		mes "[Mr. Ibanoff]";
		mes "If another wave crashes against";
		mes "this boat, I feel she might break";
		mes "into pieces!";
		next;
		mes "[Mr. Ibanoff]";
		mes "Good luck. I hope you";
		mes "can return without problems.";
		mes "I will pray for you.";
		mes "See you next time.";
		mos_whale_edq = 30;
		close2;
		warp "mosk_fild01",93,94;
		if (isbegin_quest(18115))
			changequest 18115,18116;
		end;
	}
	mes "[Mr. Ibanoff]";
	mes "What? How did you get on";
	mes "this ship?? You... No.";
	mes "I'll forgive you this once, but go";
	mes "back now.";
	close2;
	warp "moscovia",163,55;
	end;

S_D_1:
	if (rand(1,getarg(0)) == 3) {
		.@ship2 = rand(4);
		setarray .@d$[0],"East","West","South","North";
		mes "[Mr. Ibanoff]";
		mes "Hm. The sea currents have changed.";
		mes "Adjust the rudder forward to the";
		mes .@d$[.@ship2]+", to follow the currents.";
		mos_whale_edq = getarg(.@ship2+1);
		close;
	}
	mes "[Mr. Ibanoff]";
	mes "Nothing yet... Nothing has changed";
	mes "in the flow of water. There is";
	mes "nothing to note...";
	next;
	mes "[Mr. Ibanoff]";
	mes "We had better keep sailing on this heading for now.";
	close;

S_D_2:
	setarray .@d$[0],"East","West","South","North";
	mes "[Mr. Ibanoff]";
	mes "Hey!";
	mes "Did you not hear me?";
	mes "Change the rudder forward to the";
	mes .@d$[getarg(0)]+", and follow the currents!";
	close;
}

//----------------------------------------------------------------------------
// Rudder
//----------------------------------------------------------------------------
mosk_ship,101,111,4	script	rudder#ship	HIDDEN_NPC,{
	if (mos_whale_edq == 5)
		callsub S_Rud1,1,0;
	else if (mos_whale_edq == 4) {
		mes "[Mr. Ibanoff]";
		mes "You don't have to adjust the rudder for now.";
		mes "Wait for my direction.";
		close;
	} else if (mos_whale_edq == 6) {
		mes "[Mr. Ibanoff]";
		mes "Do not yet adjust the rudder.";
		mes "Only when I order you to,";
		mes "you adjust the rudder.";
		close;
	} else if ($@mos1_edq > 0) {
		mes "[Mr. Ibanoff]";
		mes "We should make sure to kill any";
		mes "monsters onboard.";
		close;
	} else if (mos_whale_edq == 7)
		callsub S_Rud1,4,1;
	else if (mos_whale_edq == 8 || mos_whale_edq == 21 || mos_whale_edq == 23) {
		mes "[Mr. Ibanoff]";
		mes "Do not yet adjust the rudder.";
		mes "Only when I order you to,";
		mes "you adjust the rudder.";
		close;
	} else if (mos_whale_edq >= 91 && mos_whale_edq <= 94)
		callsub S_Rud1, (mos_whale_edq -90), 2;
	else if (mos_whale_edq > 10 && mos_whale_edq < 13) {
		mes "[Mr. Ibanoff]";
		mes "Look... Beyond the sea!";
		mes "Do you see something moving";
		mes "mysteriously?";
		next;
		mes "[Mr. Ibanoff]";
		mes "Heheh... What is...";
		mes "that... Hey! You...";
		mes "Go around the deck to look more";
		mes "carefully! Go!";
		close;
	} else if (mos_whale_edq == 20)
		callsub S_Rud1,1,0;
	else if (mos_whale_edq == 22)
		callsub S_Rud1,4,1;
	else if (mos_whale_edq >= 241 && mos_whale_edq <= 243)
		callsub S_Rud1, (mos_whale_edq -240), 2;
	else if (mos_whale_edq == 244)
		callsub S_Rud1,4,1;
	else if (mos_whale_edq == 25) {
		mes "[Mr. Ibanoff]";
		mes "You can adjust the rudder,";
		mes "under my direction.";
		close;
	} else if (mos_whale_edq == 26) {
		mes "[Mr. Ibanoff]";
		mes "Hey! Listen to what I am saying.";
		mes "How come you go there without my";
		mes "permission...";
		//next;
		close;
	}
	mes "[Mr. Ibanoff]";
	mes "What? How did you get on";
	mes "this ship?? You... No.";
	mes "I'll forgive you this once, but go";
	mes "back now.";
	close2;
	//mos_whale_edq = 4;
	warp "moscovia",162,56;
	end;

S_Rud1:
	.@direction = getarg(0);
	.@monster_setting = getarg(1);

	mes "Which way?";
	next;
	setarray .@d$[1],"East","West","South","North";
	.@j = select(implode(.@d$,":")) -1;
	if (.@j == .@direction) {
		mes "[Mr. Ibanoff]";
		mes "Good. Firstly, we should";
		mes "keep heading "+ strtolower(.@d$[.@direction]) +" this way.";
		mes "When I give the order,";
		mes "please adjust the rudder again.";
		if (.@monster_setting == 2) .@r = rand(1,4);
		if (.@monster_setting == 2 && .@r == 3) {
			next;
			mes "[Mr. Ibanoff]";
			mes "Wait! Something has appeared in front of us...";
			next;
			mes "[Mr. Ibanoff]";
			mes "Monsters!!!";
			next;
			mes "[Mr. Ibanoff]";
			mes "These monsters are like none I have";
			mes "ever encountered! Be careful! We";
			mes "must repulse these monsters!";
			$@mos1_edq++;
			if (mos_whale_edq >= 241)
				donpcevent "Baehideun4#ship::OnEnable";
			else
				donpcevent "Baehideun3#ship::OnEnable";
		}
		mos_whale_edq = (.@monster_setting == 2)?((mos_whale_edq >= 241)?((.@r != 3)?26:25):((.@r != 3)?10:11)):(mos_whale_edq + 1);
		close;
	}
	mes "[Mr. Ibanoff]";
	mes "I said that we should go "+ .@d$[.@direction] +"!";
	mes "You should sail in the right";
	mes "direction! To the "+ strtolower(.@d$[.@direction]) +"!";
	if (.@monster_setting >= 1) {
		.@r = (.@monster_setting == 1)?5:4;
		if (rand(1,.@r) <= 2) {
			next;
			mes "[Mr. Ibanoff]";
			mes "Oh no! Monsters have appeared!";
			mes "Let's get ready to fight! Hurry!";
			$@mos1_edq++;
			donpcevent "Baehideun1#ship::OnEnable";
		}
	}
	close;
}

//----------------------------------------------------------------------------
// Aged Stranger - Whale Island
//----------------------------------------------------------------------------
mosk_fild01,86,104,3	script	Aged Stranger#npc	4_M_GUSLIMAN,{
	if ((MaxWeight-Weight) < 2000) {
		mes "[Aged Stranger]";
		mes "You're carrying too many items.";
		mes "Please come after using kafra service.";
		close;
	}
	if (mos_whale_edq == 13) {
		mes "[Aged Stranger]";
		mes "Oh, your awake.";
		mes "How do you feel? Are you ok??";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Hm... where..is...";
		mes "Eck! What happened...?";
		next;
		mes "[Aged Stranger]";
		mes "Well... You were a bit";
		mes "of a surprise! I haven't";
		mes "talked for a long time...";
		mes "with a person who lives on dry";
		mes "land.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Where am I?";
		mes "Who are you old man?";
		next;
		mes "[Aged Stranger]";
		mes "This is... well...";
		mes "What can I say...";
		mes "This is called a moving island, by";
		mes "most people.";
		next;
		mes "[Aged Stranger]";
		mes "This is a small island that only I inhabit.";
		next;
		mes "[Aged Stranger]";
		mes "I call it...";
		mes "Whale Island.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "This place is very famously known";
		mes "as The Moving Island! But... This";
		mes "island is... Maybe...";
		next;
		mes "[Aged Stranger]";
		mes "Now do you get it? Hahaha!";
		mes "Right. We are standing on";
		mes "the back of a gigantic whale!";
		mes "That's why I call it Whale Island!";
		// if (isbegin_quest(18109))
		// 	changequest 18109,18110;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "How...? How is it possible";
		mes "that the water flows in streams";
		mes "here? And trees grow! On the";
		mes "whale's back!?!";
		next;
		mes "[Aged Stranger]";
		mes "Heheheh. This is an island";
		mes "of legend. Right now you are";
		mes "experiencing greatness! Hahahaha!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Are you a real person?";
		next;
		mes "[Aged Stranger]";
		mes "Heheh, as you can see,";
		mes "I am just an aged man.";
		mes "I've simply spent my lifetime here";
		mes "leisurely, by breaking off";
		mes "relations with any unworldly life.";
		next;
		mes "[Aged Stranger]";
		mes "Okay, now you get yourself";
		mes "together. I will send you back to";
		mes "dry land. If you don't go back";
		mes "soon, some people may worry.";
		next;
		soundeffect "mos_gusli1.wav",0;
		mes "-The island starts to move slowly";
		mes "when the old man plays an";
		mes "unfamiliar instrument...-";
		next;
		mes "[Aged Stranger]";
		mes "In a few minutes, you will go back";
		mes "to the land from whence you came.";
		mes "You can relax.";
		next;
		callsub S_AS_3;
		mos_whale_edq = 14;
		if (isbegin_quest(18109))
			changequest 18109,18110;
		close2;
		sleep2 20000;
		mos_whale_edq = 15;
		end;
	} else if (mos_whale_edq == 14) {
		callsub S_AS_3;
		mos_whale_edq = 15;
		close;
	} else if (mos_whale_edq == 15) {
		mes "[Aged Stranger]";
		mes "Hm... Almost there...";
		mes "Young man, you will arrive back on";
		mes "the mainland in a few minutes. Go carefully.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Old man, if I want to come back";
		mes "here again, how can I do it?";
		next;
		mes "[Aged Stranger]";
		mes "Hehe... Do you want to come here";
		mes "again? Here? Where I live alone? In";
		mes "this small island? You are";
		mes "funny...";
		next;
		mes "[Aged Stranger]";
		mes "If we are preordained to meet,";
		mes "we will meet here again,";
		mes "won't we? Heheheh...";
		next;
		mes "[Aged Stranger]";
		mes "It's time to... well,";
		mes "go back safely. Someday, if you";
		mes "want to come again to meet me, you";
		mes "can endure the same seas as last";
		mes "time. I won't stop you. Hehehe.";
		changequest 18110,18111;
		close2;
		warp "moscovia",163,54;
		end;
	} else if (mos_whale_edq == 30) {
		mes "[Aged Stranger]";
		mes "Hahaha... I didn't know that I";
		mes "would meet you again! How did you";
		mes "return?";
		next;
		select("Explain the whole story.");
		mes "[Aged Stranger]";
		mes "Hm... just like that?";
		mes "Whoever hasn't come here directly";
		mes "would expect you to return like";
		mes "that. Well.";
		next;
		mes "[Aged Stranger]";
		mes "I just wanted to spend the rest of";
		mes "my life here, leisurely... I'm";
		mes "interested in the world... but I'm";
		mes "no match for it...";
		next;
		mes "[Aged Stranger]";
		mes "Do not look sorry for me.";
		mes "When you went back I didn't ask you";
		mes "not to say anything about this";
		mes "island to others.";
		next;
		mes "[Aged Stranger]";
		mes "If I had decided to hide where";
		mes "nobody can find... Well, you";
		mes "needn't worry too much about that";
		mes "now.";
		next;
		mes "[Aged Stranger]";
		mes "Anyway, are you troubled?";
		mes "What are you going to do?";
		next;
		if(select("Think more.:Don't you have a way?") == 1) {
			mes "[Aged Stranger]";
			mes "Do that. Think carefully, the";
			mes "answer is to be found...";
			mes "Hoohoohoo!";
			close;
		}
		mes "[Aged Stranger]";
		mes "To bring the Csar here and show him";
		mes "everything?!? It's difficult...";
		next;
		mes "[Aged Stranger]";
		mes "An evidence of whale island...";
		mes "That's all you need if only it";
		mes "existed in this island...";
		next;
		soundeffect "mos_gusli1.wav",0;
		mes "-The aged man closes his eyes and";
		mes "starts to play his instrument, as";
		mes "he falls in thought.-";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Old man, could you make one of";
		mes "those instruments for me? That is a";
		mes "marvelous thing that I've seen only";
		mes "here.";
		next;
		mes "[Aged Stranger]";
		mes "Oh... That's a good idea.";
		mes "There isn't an instrument like this";
		mes "in all Moscovia! Absolutely...";
		next;
		mes "[Aged Stranger]";
		mes "Hm... If you grant my request, I";
		mes "will make this instrument for you.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "What is your request?";
		next;
		mes "[Aged Stranger]";
		mes "Just in time. I have always used";
		mes "this instrument which is already";
		mes "over 50 years old. The body is so";
		mes "worn. It's not surprising that it's";
		mes "falling apart...";
		next;
		mes "[Aged Stranger]";
		mes "It is made with strings that only";
		mes "exist in this place, but you can";
		mes "get the other materials for it in";
		mes "the mainland.";
		next;
		mes "[Aged Stranger]";
		mes "If you bring the materials, I can";
		mes "make a new one.";
		next;
		mes "[Aged Stranger]";
		mes "The materials are ^0000FFLog 30, Tough Vines 20, Antelope Horn 20, Sea-otter Fur 10^000000.";
		next;
		mes "[Aged Stranger]";
		mes "I won't move the island, so you can";
		mes "find it when you come back with the";
		mes "materials.";
		next;
		mes "[Aged Stranger]";
		mes "Tell me whenever you're ready, and";
		mes "I'll send you back to the";
		mes "mainland.";
		if (isbegin_quest(18116))
			changequest 18116,18117;
		mos_whale_edq = 31;
		close;
	} else if (mos_whale_edq == 31) {
		mes "[Aged Stranger]";
		mes "Okay, are you ready to go back to the mainland?";
		next;
		if(select("What are the materials?:I am ready.") == 1) {
			mes "[Aged Stranger]";
			mes "You should bring these materials:";
			next;
			mes "[Aged Stranger]";
			mes "You should bring these materials:";
			mes "^0000FFLog 30, Tough Vines 20, Antelope Horn 20, Sea-otter Fur 10^000000.";
			close;
		}
		mes "[Aged Stranger]";
		mes "I see. If so, let's go.";
		next;
		mos_whale_edq = 32;
		callsub S_AS_3;
		close2;
		warp "moscovia",162,56;
		end;
	} else if (mos_whale_edq == 33) {
		mes "[Aged Stranger]";
		mes "Oh... Did you get all the";
		mes "materials?";
		next;
		if (countitem(7201) > 29 && countitem(7197) > 19 && countitem(7106) > 19 && countitem(7065) > 9) {
			mes "[Aged Stranger]";
			mes "You found the right materials.";
			mes "Okay, I will start to make the";
			mes "instrument.";
			next;
			delitem 7201,30; //Log
			delitem 7197,20; //Tough_Vines
			delitem 7106,20; //Goat's_Horn
			delitem 7065,10; //Sea_Otter_Leather
			mos_whale_edq = 34;
			if (isbegin_quest(18117))
				changequest 18117,18118;
			mes "[Aged Stranger]";
			mes "Wait for a moment until I make the";
			mes "instrument successfully.";
			close;
		}
		mes "[Aged Stranger]";
		mes "Ugh... We need more materials...";
		mes "We need ^0000FFLog 30, Tough Vines 20, Antelope Horn 20, Sea-otter Fur 10^000000.";
		next;
		mes "[Aged Stranger]";
		mes "What will you do? Will you go back";
		mes "to the mainland to find the";
		mes "materials?";
		next;
		if(select("What are the materials?:I am ready.") == 1) {
			mes "[Aged Stranger]";
			mes "You should bring these materials:";
			next;
			mes "[Aged Stranger]";
			mes "You should bring these materials:";
			mes "^0000FFLog 30, Tough Vines 20, Antelope Horn 20, Sea-otter Fur 10^000000.";
			close;
		}
		mes "[Aged Stranger]";
		mes "I see. If so, let's go.";
		next;
		callsub S_AS_3;
		close2;
		warp "moscovia",162,56;
		end;
	} else if (mos_whale_edq == 34 || mos_whale_edq == 35) {
		if (mos_whale_edq == 34) {
			if (rand(1,3) != 2) {
				mes "[Aged Stranger]";
				mes "It's not completed yet. Please wait a little longer.";
				close;
			}
			mes "[Aged Stranger]";
			mes "I have succeeded in making the";
			mes "instrument! Here you are. It's yours.";
			mes "This instrument is called a Gusli.";
			mes "This is a traditional instrument";
			mes "which comes from a faraway land of";
			mes "the ancestors of Moscovia.";
			getitem 2707,1;
			mos_whale_edq = 35;
			next;
			mes "[Aged Stranger]";
			mes "I am the last person who has";
			mes "learned it in this land.";
			next;
			mes "[Aged Stranger]";
			mes "So, indeed... This is a very";
			mes "special item here, that only we";
			mes "have.";
			next;
			mes "[Aged Stranger]";
			mes "If you show this to the good Csar,";
			mes "he can believe your story about the";
			mes "island. Everything is going to be";
			mes "well.";
			next;
			if (isbegin_quest(18118))
				changequest 18118,18119;
		}
		callsub S_AS_2,1;
	} else if (mos_whale_edq == 36) {
		mes "[Aged Stranger]";
		mes "Are you ready to learn the Gusli?";
		mes "Please equip the Gusli.";
		next;
		if (isequipped(2707)) {
			mes "[Aged Stranger]";
			mes "Hm... Very well.";
			mes "At first, look at me how I play,";
			mes "then you play it slowly.";
			next;
			soundeffect "mos_gusli1.wav",0;
			mes "[Aged Stranger]";
			mes "Do not hurry,";
			mes "keep your composure,";
			mes "just look carefully,";
			mes "and follow me slowly.";
			next;
			if (Class == Job_Bard || Class == Job_Clown) {
				mes "[Aged Stranger]";
				mes "Oh! Ooh... Your hands are really good. You are surely talented with a music instrument.";
				next;
				mes "[Aged Stranger]";
				mes "I heard that there are some adventurers in the mainland... that like playing instruments and singing songs! You must be one of them...";
				next;
				mes "[Aged Stranger]";
				mes "This may go faster than I expected.";
				next;
				mes "[Aged Stranger]";
				mes "Okay, it's time for your turn. Play it. Play the song that I played.";
				next;
				callsub S_AS_1,3;// chance success	
			}
			else {
				mes "[Aged Stranger]";
				mes "Okay, it's time for your turn. Play it. Play the song that I played.";
				next;
				callsub S_AS_1,6;
			}
		}
		mes "[Aged Stranger]";
		mes "Um... Your preparations are not";
		mes "good. You're not holding the";
		mes "instrument correctly. Equip it";
		mes "properly, and then you can learn.";
		next;
		mes "[Aged Stranger]";
		mes "Tell me again when you are prepared";
		mes "to play the Gusli correctly.";
		close;
	} else if (mos_whale_edq == 37) {
		mes "[Aged Stranger]";
		mes "Are you ready to learn the Gusli?";
		next;
		if (isequipped(2707)) {
			mes "[Aged Stranger]";
			mes "Um... You did well.";
			next;
			if (Class == Job_Bard || Class == Job_Clown) {
				mes "[Aged Stranger]";
				mes "with your ability, you can";
				mes "absolutely play it wonderfully.";
				mes "Cheer up.";
				next;
				mes "[Aged Stranger]";
				mes "Good. Let's play again. Play the";
				mes "song that I played.";
				next;
				callsub S_AS_1, 3;
			}
			else {
				mes "[Aged Stranger]";
				mes "Good. Let's play again. Play the";
				mes "song that I played.";
				next;
				callsub S_AS_1, 6;
			}
		}
		mes "[Aged Stranger]";
		mes "Um... Your preparations are not";
		mes "good. You're not holding the";
		mes "instrument correctly. Equip it";
		mes "properly, and then you can learn.";
		next;
		mes "[Aged Stranger]";
		mes "Tell me again when you are prepared";
		mes "to play the Gusli correctly.";
		close;
	} else if (mos_whale_edq == 38)
		callsub S_AS_2,0;
	else if (mos_whale_edq > 38) {
		mes "[Aged Stranger]";
		mes "This is the Whale Island.";
		mes "I don't know how you came here.";
		next;
		mes "[Aged Stranger]";
		mes "If you want, I can send you back";
		mes "to the mainland. What'll it be?";
		next;
		switch(select("Look around.:Go back to the mainland.:Venture into the unknown.")) {
		case 1:
			mes "[Aged Stranger]";
			mes "Well, well... Do as you please.";
			mes "If so, I will take a rest.";
			close;
		case 2:
			mes "[Aged Stranger]";
			mes "I see. If so, let's go.";
			next;
			callsub S_AS_3;
			close2;
			warp "moscovia",162,56;
			end;
		case 3:
			mes "[Aged Stranger]";
			mes "Oh, if you want, I can";
			mes "guide you to a good place for you.";
			next;
			mes "[Aged Stranger]";
			mes "There are some lands...";
			mes "untouched and mysterious...";
			mes "around Moscovia...";
			next;
			mes "[Aged Stranger]";
			mes "If you want, I'll send you there. What do you think of that?";
			next;
			if(select("Consider it.:Ok, please send me there.") == 1) {
				mes "[Aged Stranger]";
				mes "Well, well... Do as you please.";
				mes "If so, I will take a rest.";
				close;
			}
			mes "[Aged Stranger]";
			mes "I see. If so, let's go.";
			next;
			callsub S_AS_3;
			close2;
			warp "mosk_fild02",204,54;
			end;
		}
	}
	mes "[Aged Stranger]";
	mes "Long time, no see!";
	mes "You probably like the island, don't you?";
	mes "Please stay and take a rest.";
	next;
	mes "[Aged Stranger]";
	mes "Or if you want, I can send you back";
	mes "to the mainland. What'll it be?";
	next;
	if(select("Look around.:Go back to the mainland.") == 1) {
		mes "[Aged Stranger]";
		mes "Well, well... Do as you please.";
		mes "If so, I will take a rest.";
		close;
	}
	mes "[Aged Stranger]";
	mes "Good. I will go to the place";
	mes "right way.";
	next;
	soundeffect "mos_gusli1.wav",0;
	mes "A old man started to play a instrument";
	mes "closing his eyes.";
	mes "And then he didn't any answer so, looks like";
	mes "falling down to only his world.";
	close2;
	warp "moscovia",162,56;
	end;
	
S_AS_1:
	if (rand(1,getarg(0)) == 2) {
		soundeffect "mos_gusli1.wav",0;
		emotion ET_BEST;
		specialeffect2 EF_EXIT;
		mes "[Aged Stranger]";
		mes "Oh! You are good at playing the";
		mes "Gusli! In such a short time... you";
		mes "are great!";
		next;
		mes "[Aged Stranger]";
		mes "You've done well. I don't need to";
		mes "teach you anymore. Your ability";
		mes "will be improved with more practice.";
		next;
		mes "[Aged Stranger]";
		mes "Now go back to the mainland and";
		mes "play the Gusli for our dear Csar.";
		next;
		mes "[Aged Stranger]";
		mes "With your ability to play, surely";
		mes "you can win the admiration of all.";
		mos_whale_edq = 38;
		if (isbegin_quest(18119))
			changequest 18119,18120;
		else if (isbegin_quest(18118))// debug
			changequest 18118,18120;
		close;
	}
	mes "[Aged Stranger]";
	mes "Um, a little bit greenhorn...";
	mes "Do not play that way.";
	mes "Take more time to concentrate while";
	mes "you play.";
	next;
	mes "[Aged Stranger]";
	mes "Practice more on your own.";
	mes "I will check on you again.";
	mes "If you practice, you will be good";
	mes "at it in no time.";
	mos_whale_edq = 37;
	close;
	
S_AS_2:
	mes "[Aged Stranger]";
	mes "So, what will you do now?";
	next;
	switch (select("How would I get back here?:"+((getarg(0))?"I want to learn the Gusli":"")+":Go back to the mainland.")) {
		case 1:
			mes "[Aged Stranger]";
			mes "You are my friend now,";
			mes "and you have this instrument.";
			mes "Whenever you want to come back";
			mes "here again, just play the Gusli";
			mes "at the docks of Moscovia.";
			next;
			mes "[Aged Stranger]";
			mes "Even if it's difficult to play it";
			mes "well, because you may not yet know";
			mes "how to play it, it's not a problem.";
			mes "Just make a sound.";
			next;
			mes "[Aged Stranger]";
			mes "This island... this whale... can";
			mes "perceive the sound of a Gusli from";
			mes "an endless distance away.";
			next;
			mes "[Aged Stranger]";
			mes "If you play this instrument,";
			mes "wherever you are, I'll go to you";
			mes "with this island. Only if you are a";
			mes "friend... heheh.";
			close;
		case 2:
			mes "[Aged Stranger]";
			mes "You really want to...";
			mes "learn this instrument...";
			mes "don't you?";
			mes "Well... it's hard to learn";
			mes "in such a short time...";
			next;
			mes "[Aged Stranger]";
			mes "It's okay if you can't play this";
			mes "instrument. I already made it for you.";
			next;
			mes "[Aged Stranger]";
			mes "But I can teach you how";
			mes "to play it anyway.";
			mes "I can't be too sure, though";
			mes "because I have never taught others.";
			next;
			mes "[Aged Stranger]";
			mes "Okay. If you are ready to play the";
			mes "Gusli, let me know.";
			mos_whale_edq = 36;
			close;	
		case 3:
			mes "[Aged Stranger]";
			mes "I see. Okay, let's go.";
			next;
			mes "[Aged Stranger]";
			mes "Whenever you want to come back here";
			mes "again, play the Gusli at the docks";
			mes "of Moscovia.";
			next;
			mes "[Aged Stranger]";
			mes "Even if it's difficult to play it";
			mes "well, because you may not yet know";
			mes "how to play it, it's not a problem.";
			mes "Just make a sound.";
			next;
			mes "[Aged Stranger]";
			mes "This island... this whale... can";
			mes "perceive the sound of a Gusli from";
			mes "an endless distance away.";
			next;
			mes "[Aged Stranger]";
			mes "If you play this instrument,";
			mes "wherever you are, I'll go to you";
			mes "with this island. Only if you are a";
			mes "friend... heheh.";
			next;
			callsub S_AS_3;
			close2;
			warp "moscovia",162,56;
			end;
	}
	
S_AS_3:
	soundeffect "mos_gusli1.wav",0;
	mes "-The old man starts to play";
	mes "his instrument, with eyes closed.";
	mes "He is unresponsive...";
	mes "like having fallen into a world";
	mes "only his own.-";
	return;
}

//----------------------------------------------------------------------------
// Csar Alexsay III - Moscovia Palace
//----------------------------------------------------------------------------
mosk_in,131,92,3	script	Csar Alexsay III#npc	4_M_RUSKING,7,7,{
	if ((MaxWeight-Weight) < 2000) {
		mes "[Csar Alexsay III]";
		mes "You're carrying too many items.";
		mes "Please come after using kafra service.";
		close;
	}
	if (mos_nowinter == 12) {
		mes "[Csar Alexsay III]";
		mes "You!!!";
		mes "So many people saw you";
		mes "meet with Baba Yaga!";
		next;
		mes "[Csar Alexsay III]";
		mes "The guilt which must be felt, when";
		mes "meeting secretly with a witch...";
		next;
		mes "[Csar Alexsay III]";
		mes "For that, we indict capital";
		mes "punishment without any just trial!";
		next;
		mes "[Csar Alexsay III]";
		mes "But you are a stranger to these";
		mes "lands... So I will hold you in special trial.";
		next;
		mes "[Csar Alexsay III]";
		mes "If you have anything to say...";
		mes "spare me no detail.";
		next;
		select("Explain the circumstances.");
		mes "-Talk about what happened with Baba";
		mes "Yaga, and move forward with the plan.-";
		next;
		mes "[Csar Alexsay III]";
		mes "Hm-hm, that's an embarrassing story...";
		mes "But if you are telling the";
		mes "truth, my people will be pleased.";
		next;
		mes "[Csar Alexsay III]";
		mes "Okay, Bring to me";
		mes "any evidence, to believe";
		mes "what you are saying.";
		next;
		mes "[Csar Alexsay III]";
		mes "You killed the Baba Yaga!!";
		mes "If this is true, bring";
		mes "me Yaga's Pestles.";
		mes "If you do, I will make";
		mes "sure no one ever doubts you.";
		next;
		if (countitem(7762) > 39) {
			if(select("Show the Yaga's Pestles.:Do nothing.") == 1) {
				mes "[" + strcharinfo(0) + "]";
				mes "Yes, Here you are.";
				next;
				mes "-Offered the Yaga's Pestles.-";
				delitem 7762,40;
				next;
				mes "[Csar Alexsay III]";
				mes "Hm.. You do have them.";
				mes "For the time being, I will admit";
				mes "that you are coming and going to";
				mes "hunt Baba Yaga.";
				next;
				mes "[Csar Alexsay III]";
				mes "But do not engage in doubtable";
				mes "behavior that would instigate my";
				mes "people to act in a strange way!";
				next;
				mes "[Csar Alexsay III]";
				mes "If you do that, I will arrest you immediately!";
				mes "So take care of yourself.";
				next;
				mes "[Csar Alexsay III]";
				mes "And, when you succeed in";
				mes "banishing winter with magic,";
				mes "announce that to me immediately.";
				mos_nowinter = 14;
				changequest 18076,18077;
				close;
			}
		}
		mes "[Csar Alexsay III]";
		mes "I said to bring me";
		mes "40 Yaga's Pestles";
		mes "from the Baba Yaga.";
		mos_nowinter = 13;
		close;
	}
	else if (mos_nowinter == 13) {
		mes "[Csar Alexsay III]";
		mes "Did you bring some evidence to";
		mes "resolve your issue of doubt, traveler?";
		next;
		if(select("Yes, I did.:I am confused.") == 1) {
			if (countitem(7762) > 39) {
				delitem 7762,40;
				mes "[Csar Alexsay III]";
				mes "Good,";
				mes "I won't doubt you anymore.";
				mes "Because you've proven yourself,";
				mes "you can remain a free traveler.";
				next;
				mes "[Csar Alexsay III]";
				mes "Surely, I hate cooperating with Baba Yaga.";
				mes "But if my people are happy";
				mes "after the work you do,";
				mes "I am also pleased.";
				next;
				mes "[Csar Alexsay III]";
				mes "For the time being, I will admit";
				mes "that you are coming and going to";
				mes "hunt Baba Yaga.";
				next;
				mes "[Csar Alexsay III]";
				mes "But do not engage in doubtable";
				mes "behavior that would instigate my";
				mes "people to act in a strange way!";
				next;
				mes "[Csar Alexsay III]";
				mes "If you do that, I will arrest you immediately!";
				mes "So take care of yourself.";
				mos_nowinter = 14;
				changequest 18076,18077;
				close;
			}
			mes "[Csar Alexsay III]";
			mes "Your items do not match the";
			mes "count of 40 Yaga's Pestles.";
			mes "Did you forget the amount,";
			mes "or did you wish to lie to me...";
			next;
			mes "[Csar Alexsay III]";
			mes "I will treat that as a joke!";
			mes "A kind of sarcasm!";
			mes "You go away now and bring some";
			mes "evidence to certify your innocence.";
			close;
		}
		mes "[Csar Alexsay III]";
		mes "I said to bring me";
		mes "40 Yaga's Pestles";
		mes "from the Baba Yaga.";
		next;
		mes "[Csar Alexsay III]";
		mes "Are you here to tease me?";
		close;
	} else if (mos_nowinter == 14) {
		mes "[Csar Alexsay III]";
		mes "It'd be great if I stayed put, for";
		mes "the good of both me and my people.";
		mes "I don't want to see the Baba Yaga";
		mes "personally.";
		next;
		mes "[Csar Alexsay III]";
		mes "So, I want you to ";
		mes "take my place for that.";
		next;
		mes "[Csar Alexsay III]";
		mes "Please help Baba Yaga";
		mes "to seize the summer.";
		close;
	} else if (mos_nowinter == 20) {
		mes "[Csar Alexsay III]";
		mes "Are you here for...";
		next;
		mes "[Csar Alexsay III]";
		mes "I already heard about the";
		mes "weather from the minister.";
		next;
		mes "[Csar Alexsay III]";
		mes "Actually, I was a little";
		mes "dissatisfied with the doing";
		mes "of witchcraft at the center";
		mes "of the square...";
		next;
		mes "[Csar Alexsay III]";
		mes "But... I can admit it was good work.";
		next;
		mes "[Csar Alexsay III]";
		mes "Everyone hates the cold winter.";
		mes "Now, the winter will not";
		mes "come anymore! So, I'm very pleased.";
		next;
		mes "[Csar Alexsay III]";
		mes "Right.";
		mes "I want to give you something";
		mes "in the name of the people.";
		next;
		mes "[Csar Alexsay III]";
		mes "Here, take it.";
		mes "I give it as an atonement";
		mes "to make my people happy.";
		mos_nowinter = 21;
		completequest 18079;
		getitem 603,1;// Old_Blue_Box
		next;
		mes "[Csar Alexsay III]";
		mes "Stay here as long as you want, and";
		mes "enjoy yourself to the fullest this summer.";
		close;
	} else if (mos_whale_edq < 16) {
		mes "[Csar Alexsay III]";
		mes "Welcome to Moscovia!";
		mes "I am the ruler, Csar Aleksay III, of Moscovia.";
		next;
		mes "[Csar Alexsay III]";
		mes "Go back to your hometown and talk about the beauty of Moscovia! Talk about my great government to all the people of the lands!";
		close;
	} else if (mos_whale_edq == 16) {
		mes "[Csar Alexsay III]";
		mes "A foreign traveler...?";
		mes "Do you have something to tell me?";
		next;
		mes "[Csar Alexsay III]";
		mes "If it is not important,";
		mes "have an audience with the Prime Minister first.";
		close;
	} else if (mos_whale_edq == 17) {
		mes "[Csar Alexsay III]";
		mes "Oh, are you the traveler who told me about an interesting adventure story...";
		next;
		mes "[Csar Alexsay III]";
		mes "Not only are you not from Moscovia, but also... you have found the moving island, which only existed in legends! I want to hear details...";
		next;
		mes "[Csar Alexsay III]";
		mes "Let's hear it...";
		mes "Tell me quickly.";
		mes "I'm anxious to know the truth about the island...";
		next;
		select("Tell the story all the while.");
		mes "...";
		next;
		mes "... ...";
		next;
		mes "... ... ...";
		next;
		mes "... ... ... ...";
		next;
		mes "[Csar Alexsay III]";
		mes "Surely, an interesting story... But it sounds so unbelievable! What do you think, Prime Minister?";
		next;
		mes "[Prime Minister Dmitree]";
		mes "It doesn't sound like a lie,";
		mes "but it's difficult to believe";
		mes "completely. I mean, I've known";
		mes "a whale to be huge, but...";
		next;
		mes "[Prime Minister Dmitree]";
		mes "a person living there...";
		mes "water streaming...";
		mes "and a tree growing on it...!!!";
		mes "Hmm...";
		next;
		mes "[Csar Alexsay III]";
		mes "I agree. I have heard many kinds of mysterious adventure stories, but this sounds like an absurd story!";
		next;
		mes "[Csar Alexsay III]";
		mes "Not to mention that it's happened near my nation. Unbelievable!";
		next;
		mes "[Prime Minister Dmitree]";
		mes "But Csar... In my memory,";
		mes "I heard that exactly, the";
		mes "last time a story was told";
		mes "about the mysterious moving island. But there was a musical instrument...which an old man played.";
		next;
		mes "[Csar Alexsay III]";
		mes "Really? Tell me the details.";
		next;
		mes "[Prime Minister Dmitree]";
		mes "Surely, I have heard the same";
		mes "story, as told in the legends";
		mes "of our ancestors; about an old man who lived there.";
		next;
		mes "[Csar Alexsay III]";
		mes "Hm. There are many doubtful points. Ordinarily, I would give you a big prize, but in this case, it is difficult to believe.";
		next;
		mes "[Csar Alexsay III]";
		mes "Bring me something to prove";
		mes "the existence of the whale.";
		mes "If you do, I will give you a big prize.";
		next;
		mes "[Csar Alexsay III]";
		mes "But if you don't,";
		mes "I will punish you for your lies! Bring this instrument that supposedly an old man has.";
		next;
		mes "[Prime Minister Dmitree]";
		mes "Csar... This is a foreigner...";
		mes "No disrespect was meant to you.";
		mes "Perhaps a little more generosity is in order?.";
		next;
		mes "[Csar Alexsay III]";
		mes "No way! If the story is not true, many other foreign travelers who pass by this land will disrespect me like this... What would you have me do?";
		next;
		mes "[Prime Minister Dmitree]";
		mes "......";
		next;
		mes "[Csar Alexsay III]";
		mes "You got it, traveler?";
		mes "You have a heavy responsibility.";
		mes "Bring evidence of this whale island to me, to provide me with some relief. Now go.";
		mos_whale_edq = 18;
		if (isbegin_quest(18112))
			changequest 18112,18113;
		close;
	} else if (mos_whale_edq > 17 && mos_whale_edq < 35) {
		mes "[Csar Alexsay III]";
		mes "I'm tired... I want to take a rest, so... leave.";
		next;
		mes "[Csar Alexsay III]";
		mes "Just think about finding the whale island...";
		close;
	} else if (mos_whale_edq == 35) {
		mes "[Csar Alexsay III]";
		mes "Oh. You've come back...";
		mes "Hm. Did you find something to bring";
		mes "to me from the whale island?";
		next;
		mes "[Csar Alexsay III]";
		mes "Did you bring the instrument?";
		mes "A Gooselri? Which only exists";
		mes "in the whale island? Let's see.";
		next;
		if (countitem(2707) > 0) {
			mes "[Csar Alexsay III]";
			mes "Oh... Is this instrument... a Gooselri?";
			next;
			mes "[Prime Minister Dmitree]";
			mes "Actually, Csar, I believe it is";
			mes "called a Gusli.";
			next;
			mes "[Csar Alexsay III]";
			mes "Oh. Prime Minister, is this the";
			mes "correct instrument from the";
			mes "legends, then?";
			next;
			mes "[Prime Minister Dmitree]";
			mes "I can't be sure, but this is";
			mes "definitely an instrument never seen";
			mes "in our lands before.";
			next;
			mes "[Csar Alexsay III]";
			mes "Hm. This is also my first time";
			mes "seeing this kind of musical";
			mes "instrument. So mysterious... Hey!";
			mes "Can you play it?";
			next;
			if(select("I can play.:I can't play it.") == 1) {
				mes "[Csar Alexsay III]";
				mes "You can play it!";
				mes "Good, play it right away!";
				next;
				soundeffect "mos_gusli2.wav",0;
				emotion ET_ANGER;
				emotion ET_ANGER, getnpcid(0, "Prime Minister Dmitree#m");
				mes "[Csar Alexsay III]";
				mes "Um... What is this? Do you mock me?";
				mes "You are so impudent... You...!";
				next;
				mes "[Prime Minister Dmitree]";
				mes "Csar... Calm down, please.";
				mes "If you are quick to anger by such a";
				mes "lowly person, it will become a";
				mes "problem of prestige for you.";
				next;
				mes "[Csar Alexsay III]";
				mes "Agh... I agree with you.";
				mes "You. Give a proper prize to the";
				mes "adventurer and send them on their way.";
				next;
				mes "[Prime Minister Dmitree]";
				mes "How can I re...reward...?";
				next;
				emotion ET_HNG;
				mes "[Csar Alexsay III]";
				mes "I ordered you instead Prime";
				mes "Minister, to make this poor player";
				mes "disappear from in front of my eyes,";
				mes "right now.";
				next;
				mes "[Prime Minister Dmitree]";
				mes "You should be grateful for the";
				mes "Csar's mercy... impudent";
				mes "traveler...";
				next;
				mes "[Prime Minister Dmitree]";
				mes "Even though I regard as your effort for the time so, award you. Take it and go out.";
				getitem 12702,1; //Old_Bleu_Box
				getexp (checkre(3))?50000:500000,0;
				mos_whale_edq = 39;
				if (isbegin_quest(18118))// debug
					changequest 18118,18119;
				completequest 18119;
				close;
			}
			mes "[Csar Alexsay III]";
			mes "Um... That's too bad.";
			mes "I see... Will I ever believe...";
			next;
			mes "[Csar Alexsay III]";
			mes "Thanks for your efforts.";
			mes "Hey, Prime Minister,";
			mes "reward this traveler.";
			next;
			mes "[Prime Minister Dmitree]";
			mes "How can I reward the traveler?";
			next;
			mes "[Csar Alexsay III]";
			mes "I leave the matter in your hands;";
			mes "it's up to you. I will take a";
			mes "rest.";
			next;
			mes "[Prime Minister Dmitree]";
			mes "The Csar didn't take pleasure in";
			mes "your story, as I expected.";
			next;
			mes "[Prime Minister Dmitree]";
			mes "Even though I regard as your effort for the time so, award you. Take it.";
			getitem 12702,1; //Old_Bleu_Box
			getexp (checkre(3))?70000:700000,0;
			mos_whale_edq = 40;
			if (isbegin_quest(18118))// debug
				changequest 18118,18119;
			completequest 18119;
			close;
		}
		mes "[Csar Alexsay III]";
		mes "What are you doing? Can you play it";
		mes "without even holding the musical instrument???";
		next;
		mes "[Csar Alexsay III]";
		mes "Don't be impudent with me! Do it right!";
		close;
	} else if (mos_whale_edq == 38) {
		mes "[Csar Alexsay III]";
		mes "Oh you come...hum did you find";
		mes "something to satisfy me";
		mes "at the whale island?";
		next;
		if (countitem(2707)) {
			mes "[Csar Alexsay III]";
			mes "Oh... Is this instrument... a Gooselri?";
			next;
			mes "[Prime Minister Dmitree]";
			mes "Actually, Csar, I believe it is called a Gusli.";
			next;
			mes "[Csar Alexsay III]";
			mes "Oh. Prime Minister, is this the";
			mes "correct instrument from the";
			mes "legends, then?";
			next;
			mes "[Prime Minister Dmitree]";
			mes "I can't be sure, but this is";
			mes "definitely an instrument never seen";
			mes "in our lands before.";
			next;
			mes "[Csar Alexsay III]";
			mes "Hm. This is also my first time";
			mes "seeing this kind of musical";
			mes "instrument. So mysterious... Hey!";
			mes "Can you play it?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Yes. I learned how to play it at Whale Island.";
			next;
			mes "[Csar Alexsay III]";
			mes "Oh! Oh!... You can play it!";
			mes "Play it right away. I wonder about its sound.";
			next;
			soundeffect "mos_gusli1.wav",0;
			mes "-When the music of the Gusli is";
			mes "played, all the people in the";
			mes "Csar's Palace fall in with the tune.-";
			next;
			emotion ET_CRY;
			emotion ET_CRY, getnpcid(0, "Prime Minister Dmitree#m");
			mes "[Csar Alexsay III]";
			mes "Oh! I can't hear without tears.";
			mes "That's a sad tune.";
			next;
			mes "[Prime Minister Dmitree]";
			mes "That's right, Csar.";
			mes "I have never heard a sad tune such as this.";
			mes "Kh-huk. Sniff.";
			next;
			mes "[Csar Alexsay III]";
			mes "Huk... You. Give a big prize to";
			mes "this traveler!";
			next;
			mes "[Prime Minister Dmitree]";
			mes "Hukhuk... Sniff. How can I reward this?";
			next;
			mes "[Csar Alexsay III]";
			mes "I leave this matter in your hands.";
			mes "Give a proper prize to whom has";
			mes "Shown me a great story and";
			mes "beautiful music.";
			next;
			mes "[Prime Minister Dmitree]";
			mes "I express thanks to you on behalf";
			mes "of our dear Csar and all the people";
			mes "in his palace. I will reward your";
			mes "efforts, in the name of the Csar.";
			getitem 617,1; //Old_Violet_Box
			getexp (checkre(3))?100000:1200000,0;
			mos_whale_edq = 41;
			completequest 18120;
			close;
		}
		mes "[Csar Alexsay III]";
		mes "But you... Where do you keep the";
		mes "instrument which you are to show me?";
		next;
		mes "[Csar Alexsay III]";
		mes "Don't you need to be holding the instrument, in order to play it???";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I'm sorry. I will be ready now, and try again to play it.";
		close;
	} else if (mos_whale_edq == 39) {
		mes "[Csar Alexsay III]";
		mes "What happen... If you have special things go out.";
		close;
	} else if (mos_whale_edq == 40) {
		mes "[Csar Alexsay III]";
		mes "Um... You are a traveler as I saw.";
		mes "If you have special things, don't interfere my rest.";
		close;
	} else if (mos_whale_edq == 41) {
		mes "[Csar Alexsay III]";
		mes "Oh... You. ~";
		mes "Nice to see you again.";
		mes "I want for you to sometimes stop by here and play some music for me. ~";
		close;
	}
	mes "[Csar Alexsay III]";
	mes "Welcome to Moscovia,";
	mes "I am Csar Alexsay the Third.";
	next;
	mes "[Csar Alexsay III]";
	mes "Go back to your hometown and tell everyone about the beauty of Moscovia,";
	mes "and my great government.";
	close;

OnTouch:
	if (mos_nowinter != 12) end;
	mes "[Csar Alexsay III]";
	mes "You!!!";
	mes "So many people saw you";
	mes "meet with Baba Yaga!";
	next;
	mes "[Csar Alexsay III]";
	mes "The guilt which must be felt, when";
	mes "meeting secretly with a witch...";
	next;
	mes "[Csar Alexsay III]";
	mes "For that, we indict capital";
	mes "punishment without any just trial!";
	next;
	mes "[Csar Alexsay III]";
	mes "But you are a stranger to these";
	mes "lands... So I will hold you in special trial.";
	next;
	mes "[Csar Alexsay III]";
	mes "If you have anything to say...";
	mes "spare me no detail.";
	next;
	select("Explain the circumstances.");
	mes "-Talk about what happened with Baba";
	mes "Yaga, and move forward with the plan.-";
	next;
	mes "[Csar Alexsay III]";
	mes "Hm-hm, that's an embarrassing story...";
	mes "But if you are telling the";
	mes "truth, my people will be pleased.";
	next;
	mes "[Csar Alexsay III]";
	mes "Okay, Bring to me";
	mes "any evidence, to believe";
	mes "what you are saying.";
	next;
	mes "[Csar Alexsay III]";
	mes "You killed the Baba Yaga!!";
	mes "If this is true, bring";
	mes "me Yaga's Pestles.";
	mes "If you do, I will make";
	mes "sure no one ever doubts you.";
	next;
	if (countitem(7762) > 39) {
		if(select("Show the Yaga's Pestles.:Do nothing.") == 1) {
			mes "[" + strcharinfo(0) + "]";
			mes "Yes, Here you are.";
			next;
			mes "-Offered the Yaga's Pestles.-";
			delitem 7762,40;
			next;
			mes "[Csar Alexsay III]";
			mes "Hm.. You do have them.";
			mes "For the time being, I will admit";
			mes "that you are coming and going to";
			mes "hunt Baba Yaga.";
			next;
			mes "[Csar Alexsay III]";
			mes "But do not engage in doubtable";
			mes "behavior that would instigate my";
			mes "people to act in a strange way!";
			next;
			mes "[Csar Alexsay III]";
			mes "If you do that, I will arrest you immediately!";
			mes "So take care of yourself.";
			next;
			mes "[Csar Alexsay III]";
			mes "And, when you succeed in";
			mes "banishing winter with magic,";
			mes "announce that to me immediately.";
			mos_nowinter = 14;
			changequest 18076,18077;
			close;
		}
	}
	mes "[Csar Alexsay III]";
	mes "I said to bring me";
	mes "40 Yaga's Pestles";
	mes "from the Baba Yaga.";
	mos_nowinter = 13;
	close;
}

//----------------------------------------------------------------------------
// Prime Minister Dmitree - Moscovia Palace
//----------------------------------------------------------------------------
mosk_in,127,89,3	script	Prime Minister Dmitree#m	4_M_RUSMAN1,{
	if (mos_nowinter > 11 && mos_nowinter < 14) {
		mes "[Prime Minister Dmitree]";
		mes "You are in trouble if";
		mes "you conspire against the Csar,";
		mes "so, make your actions carefully,";
		mes "and if you want to clean yourself";
		mes "from suspicion... do everything you";
		mes "can to prove your innocence.";
		close;
	} else if (mos_nowinter == 14) {
		mes "[Prime Minister Dmitree]";
		mes "You have just cleared your name,";
		mes "but... we don't trust you wholly yet.";
		next;
		mes "[Prime Minister Dmitree]";
		mes "I can't trust you, but...";
		mes "if you succeed in taking hold of";
		mes "the summer... I might be able to.";
		close;
	} else if (mos_nowinter == 20) {
		mes "[Prime Minister Dmitree]";
		mes "We know that you mean well.";
		mes "But we can't fully trust you,";
		mes "so we kept an eye on your movements.";
		next;
		mes "[Prime Minister Dmitree]";
		mes "I heard that you performed";
		mes "witchcraft at the palace square...";
		mes "so, I ordered scholars to";
		mes "investigate the weather.";
		next;
		mes "[Prime Minister Dmitree]";
		mes "The results from taking observation";
		mes "of the weather, are the reducing";
		mes "change of temperature, and that the";
		mes "highest temperature is now stabilized.";
		next;
		mes "[Prime Minister Dmitree]";
		mes "I don't know what this may mean, by";
		mes "way of principle, but I've decided";
		mes "to admit the facts.";
		next;
		mes "[Prime Minister Dmitree]";
		mes "Already, our dear Csar knows.";
		mes "I finished the report.";
		mes "Go and announce it to him.";
		close;
	}
	if (mos_whale_edq < 16) {
		mes "[Prime Minister Dmitree]";
		mes "You are a foreign traveler. This is the Moscovia Palace, home of Csar Aleksay the Third. Extending your every courtesy here... is not bad manners.";
		close;
	} else if (mos_whale_edq == 16) {
		mes "[Prime Minister Dmitree]";
		mes "Traveler, why have you come to the Csar's Palace?";
		next;
		if(select("Just to look around.:To see the dear Csar.") == 1) {
			mes "[Prime Minister Dmitree]";
			mes "If so... look around with caution. Do not bother the Csar.";
			next;
			mes "[Prime Minister Dmitree]";
			mes "Moscovia welcomes all travelers such as yourself!";
			next;
			mes "[Prime Minister Dmitree]";
			mes "Marvelously, our dear Csar likes it very much when interesting stories are often told to him.";
			close;
		}
		mes "[Prime Minister Dmitree]";
		mes "Did you come to see our dear Csar? If so, tell me your business with him in advance.";
		next;
		if(select("I'd like to say hello.:I have an adventure story for him.") == 1) {
			mes "[Prime Minister Dmitree]";
			mes "I will tell him directly about your business. You don't need to worry yourself with the Csar.";
			close;
		}
		mes "[Prime Minister Dmitree]";
		mes "I wonder what sort of things have happened to you... The Csar will be very pleased to hear your stories.";
		next;
		mes "[Prime Minister Dmitree]";
		mes "I will admit you. If our dear Csar is satisfied with your story, he will give you a big prize.";
		mos_whale_edq = 17;
		close;
	} else if (mos_whale_edq == 17) {
		mes "[Prime Minister Dmitree]";
		mes "I already announced you,";
		mes "so go see him and speak to him directly.";
		close;
	} else if (mos_whale_edq > 17 && mos_whale_edq < 35) {
		mes "[Prime Minister Dmitree]";
		mes "Now, our dear Csar needs a rest.";
		mes "You should do your duty and go find the whale island.";
		close;
	} else if (mos_whale_edq == 35 || mos_whale_edq == 38) {
		mes "[Prime Minister Dmitree]";
		mes "Ah! You've come back.";
		mes "I will request for you to see him immediately.";
		close;
	} else if (mos_whale_edq == 39) {
		mes "[Prime Minister Dmitree]";
		mes "I don't want to hear your terrible ";
		mes "performance anymore so, go out away.";
		close;
	} else if (mos_whale_edq == 40) {
		mes "[Prime Minister Dmitree]";
		mes "What's up? Dear Chare is taking a rest.";
		mes "If you have nothing special, go out.";
		close;
	} else if (mos_whale_edq == 41) {
		mes "[Prime Minister Dmitree]";
		mes "Your Gusli performance was so touching.";
		mes "Unforgettable! Whenever you are here, please allow us to hear that tune again.";
		close;
	}
	mes "[Prime Minister Dmitree]";
	mes "You are a foreign traveler. This is a palace";
	mes "which lives Alexei the Third.";
	mes "Extend you every courtesy don't not bad manner.";
	close;
}

//----------------------------------------------------------------------------
// Island Trigger - Docks
//----------------------------------------------------------------------------
moscovia,136,46,4	script	Find#ship	CLEAR_NPC,4,4,{
	end;

OnTouch:
	if (mos_whale_edq < 35) end;
	mes "-Watching the sea from the docks,";
	mes "it suddenly dawns upon you that you";
	mes "have memories from Whale Island.-";
	next;
	mes "["+strcharinfo(0)+"]";
	mes "Stop by the whale island?";
	next;
	if(select("Go to Whale Island.:Stay put.") == 1) {
		if (isequipped(2707)) {
			soundeffect "mos_gusli2.wav",0;
			mes "-Slowly, your hands are on the";
			mes "Gusli, and the playing starts...";
			mes "reminding you of the melody which";
			mes "the aged stranger had played...-";
			next;
			mes "[Village resident]";
			mes "So...something is rising from the sea!!!";
			next;
			mes "[Village Youth]";
			mes "What...What is that...??";
			next;
			mes "[Mr. Ibanoff]";
			mes "Ohohoh!... That's the whale";
			mes "island...!!! Someday, I hope to go there! Hahaha.";
			next;
			warp "mosk_fild01",95,93;
		} else {
			mes "["+strcharinfo(0)+"]";
			mes "Oh my goodness... Slipped right out";
			mes "of my mind... to forget equipping the Gusli.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "The aged stranger said that when I";
			mes "want to go to Whale Island again, I";
			mes "should play the Gusli from this place...";
		}
		close;
	}
	mes "["+strcharinfo(0)+"]";
	mes "I can go some other time.";
	mes "I will do other work now.";
	close;
}

//----------------------------------------------------------------------------
// Triggers
//----------------------------------------------------------------------------
mosk_ship,81,110,0	script	#findship	CLEAR_NPC,5,5,{
OnEnable:
	enablenpc "#findship";
	initnpctimer;
	end;

OnTimer300000:
	stopnpctimer;
OnInit:
	$@mos1_edq = 0;
	disablenpc "#findship";
	end;

OnTouch:
	if (mos_whale_edq == 12) {
		mes "seeewaaaaaaaaaaa";
		next;
		mes "[Mr. Ibanoff]";
		mes "Hey "+strcharinfo(0)+"! Look!";
		mes "It's dangerous! Hide! Hurry!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "That... that is...";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Something... something is rising...";
		next;
		mes "[Mr. Ibanoff]";
		mes "Watch out! "+strcharinfo(0)+"!";
		mes "Ah... That... That is... What...";
		mos_whale_edq = 13;
		if (isbegin_quest(18108))
			changequest 18108,18109;
		close2;
		warp "mosk_fild01",95,93;
	}
	end;
}

-	script	Baehideun#main	-1,{
OnInit:
	disablenpc();
	end;

OnEnable:
	enablenpc();
	.@c = charat(strnpcinfo(0),9);
	if (checkre(0)) {
		switch (.@c) {
			case 1: setarray .@m, 89,112,1551,85,110,1579; break;// G_MARSE, G_HYDRA
			case 2: setarray .@m, 89,112,1425,80,110,1254,83,114,1254,85,110,1425; break;// G_OBEAUNE, RAGGLER
			case 3: setarray .@m, 85,111,1451,89,112,1543,90,106,1543; break;// G_MERMAN, G_KAPHA
			case 4: setarray .@m, 85,111,1069,89,112,1543,90,106,1543; break;// SWORD_FISH, G_KAPHA
		}
	}
	else {
		switch (.@c) {
			case 1: setarray .@m, 89,112,1425,85,110,1425; break;// G_OBEAUNE, G_OBEAUNE
			case 2: setarray .@m, 89,112,1425,80,110,1426,83,114,1426,85,110,1425; break;// G_OBEAUNE, G_MARC
			case 3:
			case 4: setarray .@m, 85,111,1451,89,112,1543,90,106,1543; break;// G_MERMAN, G_KAPHA
		}
	}
	for (.@i = 0; .@i < getarraysize(.@m); .@i += 3)
		monster "mosk_ship",.@m[.@i],.@m[.@i+1],"Sea Monster",.@m[.@i+2],1,strnpcinfo(0)+"::OnMyMobDead";
	initnpctimer;
	end;

OnTimer300000:
	killmonster "mosk_ship",strnpcinfo(0)+"::OnMyMobDead";
OnDisable:
	$@mos1_edq = 0;
	stopnpctimer;
	disablenpc();
	end;

OnMyMobDead:
	if (!mobcount("mosk_ship",strnpcinfo(0)+"::OnMyMobDead")) {
		$@mos1_edq = 0;
		mes "[Mr. Ibanoff]";
		mes "Now that all the monsters are gone,";
		mes "we can start sailing again";
		mes "normally.";
		.@c = charat(strnpcinfo(0),9);
		switch (.@c) {
			case 1:
			case 2: break;
			case 3: mos_whale_edq = 11; break;
			case 4: mos_whale_edq = 26; break;
		}
		donpcevent strnpcinfo(0)+"::OnDisable";
		close;
	}
	end;
}
mosk_ship,2,2,4	duplicate(Baehideun#main)	Baehideun1#ship	-1
// mosk_ship,3,3,4	duplicate(Baehideun#main)	Baehideun2#ship	-1
mosk_ship,5,5,4	duplicate(Baehideun#main)	Baehideun3#ship	-1
mosk_ship,15,15,4	duplicate(Baehideun#main)	Baehideun4#ship	-1

// Help Mikhail :: mos_swan & mos_swan_pt2
//============================================================

//----------------------------------------------------------------------------
// Gallina - Starting Point
//----------------------------------------------------------------------------
function	script	F_MOS_1	{
	mes "[Gallina]";
	mes "Oh, where the heck is he?";
	mes "I'll teach him a lesson.";
	mes "He's timid like Dad.";
	next;
	mes "[Anna]";
	mes "Mikhail, he's a coward, a crybaby.";
	mes "Mikhail, he's a coward, a crybaby.";
	next;
	mes "[Gallina]";
	mes "It's because you didn't look after your brother. So you clean the house, Anna?";
	next;
	emotion ET_CRY, getnpcid(0, "Anna#mos");
	mes "[Anna]";
	mes "Oh, my................";
	next;
	if(select("Talk to her.:Just pass by her") == 2) {
		mes "[Gallina]";
		mes "I'm worried that he's making trouble somewhere...";
		close;
	}
	mes "["+strcharinfo(0)+"]";
	mes "Hello, there?";
	next;
	mes "[Gallina]";
	mes "Oh, God!";
	mes "I didn't see you there. Sorry!";
	mes "You want to buy a hotcake, don't you?";
	mes "I'm sorry but we're not ready to open the store..";
	next;
	mes "["+strcharinfo(0)+"]";
	mes "No, that's ok.";
	mes "Is there something that I can help with? What's the matter?";
	next;
	mes "[Gallina]";
	mes "Oh, well...";
	mes "My son, Mikhail broke our Matrushka while I was away from home.";
	mes "He's afraid that I would punish him. So he ran away.";
	next;
	mes "[Gallina]";
	mes "How timid the boy is!";
	mes "I doubt that he'd be able to be a great general in the future";
	next;
	mes "[Gallina]";
	mes "He used to come home at this time.";
	mes "I'm worried that something bad has happened to him.";
	next;
	mes "["+strcharinfo(0)+"]";
	mes "You look anxious. I'd like to help you to find your son.";
	next;
	mes "[Gallina]";
	mes "Did you say I'm anxious?";
	mes "I'm just anxious for him to get home.";
	mes "...So I can punish him for what he did.";
	next;
	mes "[Gallina]";
	mes "But it's not good that I refuse your kindness";
	mes "Will you find Mikhail for me?";
	next;
	if(select("I was not serious.:Yes, I will!") == 1) {
		mes "[Gallina]";
		mes "You meanie! I'm not in the mood for jokes.";
		close;
	}
	mes "[Gallina]";
	mes "Oh, God, You're so kind";
	mes "Mikhail is such a timid boy. I guess he didn't leave this village.";
	mes "Please bring him to me, then~";
	mos_swan = 1;
	setquest 18060;
	close;
}

mosk_in,144,279,5	script	Gallina#mos	4_F_RUSWOMAN1,{
	if (!mos_swan) {
		callfunc("F_MOS_1");
	} else if (mos_swan == 1) {
		mes "[Gallina]";
		mes "Mikhail, my timid son must still be in this village.";
		mes "I'm sorry if he's shy and timid like his father.";
		close;
	} else if (mos_swan < 25) {
		mes "["+strcharinfo(0)+"]";
		mes "Mikhail hasn't come yet?";
		next;
		mes "[Gallina]";
		mes "No, where on earth is he?";
		close;
	} else if (mos_swan == 25) {
		mes "[Gallina]";
		mes "He came back with my Matrushka roughly pasted together and just left...";
		next;
		mes "[Gallina]";
		mes "I'm sorry that I treated the little boy badly.";
		mes "He did his best in his own way.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "That's ok. You will be a sweet mom to your little boy. haha";
		next;
		mes "[Gallina]";
		mes "Yes. I'm sure I will. hoho..";
		mes "Anna, my daughter made a mistake. She laid the blame upon her brother alone. I'll punish her too.";
		next;
		mes "[Gallina]";
		mes "I appreciate your effort. You went to a dangerous place to find my son";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "It often happens to me, hehe.";
		next;
		mes "[Gallina]";
		mes "I can't afford to reward you with much but... I'll let you know how to make a delicious hotcake!";
		next;
		mes "[Gallina]";
		mes "I have to work now but Larissa will tell you about that. She's our maid..";
		mes "She's really a nice cook.";
		next;
		mes "[Gallina]";
		mes "Hotcakes of Moscovia are so delicious!";
		mes "Once you make it, I bet you that you'll love it.";
		next;
		mes "[Gallina]";
		mes "Well, now I have to get to work!";
		mes "I'll make you my hotcakes someday. Please visit me later";
		mos_swan = 100;
		completequest 18069;
		getexp (checkre(3))?90000:1000000,0;
		close;
	}
	mes "[Gallina]";
	mes "I'm always trying to prepare a new dish.";
	mes "What do you think of 'the most spicy chili hotcake in the world'?";
	mes "I think that will be great!";
	close;
}

//----------------------------------------------------------------------------
// Anna - Sister
//----------------------------------------------------------------------------
mosk_in,148,274,1	script	Anna#mos	4_F_RUSCHILD,{
	if (!mos_swan) {
		callfunc("F_MOS_1");
	} else if (mos_swan == 1) {
		mes "[Anna]";
		mes "Mikhail, he's a coward, a crybaby.";
		mes "Mikhail, he's a coward, a crybaby.";
		close;
	} else if (mos_swan == 2) {
		mes "[Anna]";
		mes "Why are you here?";
		next;
		while(1) {
			switch(select("About where Mikhail might be hiding:About their relationship:About the situation:Ask her about other things:End the conversation")) {
				case 1:
					mes "["+strcharinfo(0)+"]";
					mes "Where is Mikhail?";
					mes "Do you know where he is?";
					next;
					emotion ET_MERONG;
					mes "[Anna]";
					mes "If I had known that, I would have already found him, you fool.";
					next;
					emotion ET_SWEAT, playerattached();
					mes "["+strcharinfo(0)+"]";
					mes "Hahaha, you're right.";
					break;
				case 2:
					mes "["+strcharinfo(0)+"]";
					mes "How's your relationship with your brother?";
					next;
					mes "[Anna]";
					mes "Mikhail always stays behind me and asks me to read books!";
					mes "And he cries too much.";
					mes "It annoys me.";
					mes "And he only wants to play with me. That's why he has no friends.";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "You seem very courageous.";
					mes "I can understand why your mother worries about him.";
					break;
				case 3:
					mes "["+strcharinfo(0)+"]";
					mes "What were you doing when Mikhail broke your mother's Matrushka?";
					next;
					mes "[Anna]";
					mes "I was there.";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Oh were you?";
					next;
					mes "[Anna]";
					mes "When my parents were out, they asked me to take care of Mikhail.";
					mes "I didn't want to do that but I'm his sister so I was reading a book next to him.";
					next;
					mes "[Anna]";
					mes "He began to tease me to read a book for him and later, he annoyed me saying that he's hungry!";
					next;
					mes "[Anna]";
					mes "I was so bothered with him and I pretended not to hear him and kept reading. I guess it made him mad and so he broke the Matrushka.";
					next;
					mes "[Anna]";
					mes "He made trouble and began to cry!";
					mes "He's such a timid boy...";
					mes "(giggling)";
					next;
					mes "[Anna]";
					mes "And then I told him that we should glue the pieces together before Mom came back, so Mikhail went to get ^3131FFpaste^000000 but he hasn't come back yet.";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Where can you get it?";
					mes "Why didn't you go with him?";
					next;
					mes "[Anna]";
					mes "Do you think we kids know that?";
					mes "He broke it and should get the thing by himself!";
					mes "And Mom said that he should do his work for himself to become a great general.";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Don't you have any idea of where he might be?";
					next;
					mes "[Anna]";
					mes "No.";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Is there anyone who is close to him?";
					next;
					emotion ET_HNG;
					mes "[Anna]";
					mes "(giggle) He's a fool and has no friends.";
					mes "But among our villagers, the lady of ^3131FFInn 'Sticky Herb Tree'^000000 has held Mikhail dear.";
					next;
					mes "[Anna]";
					mes "I have no idea anymore.";
					next;
					mes "- Anna sticks her tongue out. -";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "It's the only clue, I guess I'll go to ^3131FFInn 'Sticky Herb Tree'^000000?";
					if (mos_swan == 2) {
						mos_swan = 3;
						changequest 18060,18061;
					}
					break;
				case 4:
					mes "["+strcharinfo(0)+"]";
					mes "What am I going to ask her?";
					next;
					input .@AnnaInfo$;
					mes "["+strcharinfo(0)+"]";
					mes "Anna,";
					mes ""+.@AnnaInfo$+"?";
					mes "Do you know what this is?";
					next;
					if (.@AnnaInfo$ == "Gravity") {
						mes "[Anna]";
						mes "I know that they have a game called RAGNAROK Online 2... and they like... what am I saying now... right?";
					} else if (.@AnnaInfo$ == "Gallina") {
						mes "[Anna]";
						mes "Mom's hotcakes are so delicious! Oh, it's sweet flavor!";
						mes "Everyone in this village likes Mom's hotcakes. Hehe.";
					} else if (.@AnnaInfo$ == "Mikhail") {
						mes "[Anna]";
						mes "Mikhail is a timid fool!";
					} else {
						mes "[Anna]";
						mes "I have no idea about that thing.";
					}
					break;
				case 5:
					mes "[Anna]";
					mes "Hmm ~ ~ ~ ~ ";
					next;
					mes "- Anna frowns at me and sticks out her tongue.";
					mes "She doesn't want to talk to me -";
					close;
			}
			next;
		}
	} else if (mos_swan == 3) {
		mes "["+strcharinfo(0)+"]";
		mes "Ok, I got a clue from Anna and one thing that I have to do is go to ^3131FFInn 'Sticky Herb Tree'^000000.";
		close;
	} else if (mos_swan < 12) {
		mes "[Anna]";
		mes "Mikhail is foolish, timid and a coward!";
		close;
	} else if (mos_swan == 25) {
		mes "[Anna]";
		mes "Mik..ha..il";
		mes "He tattled on me to mom...";
		next;
		mes "[Gallina]";
		mes "Anna!";
		next;
		mes "[Anna]";
		mes "....I'm sorry.";
		close;
	} else if (mos_swan == 100) {
		mes "[Anna]";
		mes "Mik..ha..il";
		mes "He tattled on me to mom...";
		next;
		mes "[Gallina]";
		mes "Anna!";
		next;
		emotion ET_CRY;
		mes "[Anna]";
		mes "....I'm sorry.";
		close;
	}
	mes "[Anna]";
	mes "....I'm bored.";
	close;
}

//----------------------------------------------------------------------------
// Bed
//----------------------------------------------------------------------------
mosk_in,136,279,3	script	Bed#mos1	HIDDEN_NPC,{
	mes "- There are sheets and a pillow which seem so neat and soft that I'll probably fall asleep as soon as I lie down on them. -";
	if (mos_swan != 11) close;
	next;
	if(select("Check other things:Look it over ") == 1) {
		mes "- You'll examine the bed later -";
		close;
	}
	mes "- You come near the bed to look it over. -";
	next;
	mes " .............. ";
	mes " .............. ";
	mes " .............. ";
	mes " .............. ";
	next;
	mes " .............. ";
	mes " .............. ";
	mes " .............. ";
	mes " .............. ";
	mes " .............. ";
	next;
	mes "- You didn't find anything -";
	close;
}
mosk_in,161,279,3	duplicate(Bed#mos1)	Bed#mos2	HIDDEN_NPC

//----------------------------------------------------------------------------
// Fire pot + Mikhail
//----------------------------------------------------------------------------
mosk_in,205,268,3	script	Fire pot#mos	HIDDEN_NPC,{
	if (!mos_swan) {
		mes "- It's a fire pot to heat the room or bake something -";
		close;
	} else if (mos_swan == 1) {
		mes "- It's a fire pot that is used when Gallina bakes hotcakes.";
		mes "It seems that this has not been used for a long time.";
		mes "I think I should ask his family where he might have fun off to -";
		mos_swan = 2;
		close;
	} else if (mos_swan < 11) {
		mes "- It's a fire pot that is used when Gallina bakes hotcakes.";
		mes "It seems that it was used a long time ago. -";
		close;
	} else if (mos_swan == 11) {
		mes "- It's a fire pot that is used when Gallina bakes hotcakes.";
		mes "It seems that it was used a long time ago. -";
		next;
		if(select("Check other things:Look it over") == 1) {
			mes "- You decide to check out other things -";
			close;
		}
		mes "- You come near the pot to look it over. -";
		next;
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		next;
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		next;
		mes "- As you look it over very carefully, you find some pieces of bread on the floor around the fire pot! -";
		next;
		switch(select("Mikhail is in the fire pot.:Mikhail is around the fire pot.:There's nothing between pieces of bread and Mikhail.")) {
			case 1:
				mes "["+strcharinfo(0)+"]";
				mes "I finally found him.";
				next;
				mes "- You put your arm into the hole of the fire pot. -";
				next;
				mes "- Something makes a rustling sound. -";
				next;
				mes "- You call Mikhail with a low voice. -";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Mik-ha-il-.";
				next;
				mes "- .......................... -";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Mikhail.";
				mes "I know you're there, please come out.";
				next;
				mes "- .......................... -";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Your mom and sister are worried about you.";
				next;
				mes "[???]";
				mes ".......hey.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "?????";
				next;
				mes "[Mikhail]";
				mes ".......No, I can't............";
				mes "I'll.... be punished........";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "No, you won't, Mikhail.";
				mes "Your mom is worried about you so much.";
				mes "Your sister, too.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "You broke your mom's Matrushka by mistake, didn't you?";
				mes "I'll tell her about your mistake. Please come out.";
				next;
				mes "[Mikhail]";
				mes "Oh.. ma.. matrushka..";
				mes "I didn't break..it.. it..wasn't.. just me!";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "And?";
				next;
				mes "[Mikhail]";
				mes "Anna pushed me and bumped me......";
				mes "But she told Mom that it was just me who broke it....";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Oh, dear! You and Anna did that but she put all the blame on you?";
				next;
				mes "[Mikhail]";
				mes "Yes.....";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "You should come out and tell your mom the truth! Let's go Mikhail.";
				next;
				mes "[Mikhail]";
				mes "No! No, I can't!!";
				next;
				mes "- A small-white hand comes out of the fire pot and grabs your ankle -";
				next;
				mes "[Mikhail]";
				mes "No...I'm afraid that Mom will punish me...";
				mes "Because Grandma's Matrushka is broken......";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Oh, my. Please don't cry little boy.";
				mes "There's no way. I'll get a paste to bond all the pieces together. And then you can bring it back to your mom and apologize to her.";
				next;
				mes "[Mikhail]";
				mes "Can you... get... a paste?";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "You don't believe me?";
				mes "Ok, stay here. I'll be right back with the paste.";
				next;
				mes "- I need to know what's required for the paste.";
				mes "I'll ask that guy ^3131FFMr. Victor^000000 about them. -";
				mos_swan = 12;
				changequest 18064,18065;
				close;
			case 2:
				mes "- I guess he's near the fire pot. Where can I find him? -";
				close;
			case 3:
				mes "- I guess pieces of bread have nothing to do with Mikhail. -";
				close;
		}
	} else if (mos_swan == 12) {
		mes "- Ok, what I have to do first is ask Mr. Victor what I need for the paste. -";
		close;
	} else if (mos_swan == 24) {
		mes "["+strcharinfo(0)+"]";
		mes "Hey, Mikhail. I've got the paste!.";
		next;
		mes "[Mikhail]";
		mes "......Really? are you serious?";
		next;
		donpcevent "Mikhail#mos::OnEnable";
		mes "- You hand over the paste from Victor to Mikhail. -";
		next;
		mes "[Mikhail]";
		mes "Wow! Great!";
		next;
		mes "- He begins working on the broken Matrushka as if he was piecing together a puzzle. -";
		next;
		mes "[Mikhail]";
		mes "I've done it!!!!!!!";
		mes "Thank you so much!!!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "You're welcome, haha.";
		mes "Anyway, can you promise me one thing?";
		next;
		mes "[Mikhail]";
		mes "What?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Bring back the Matrushka to your mother, and promise me that you will be a brave general in the future.";
		next;
		mes "[Mikhail]";
		mes ".............";
		next;
		mes "[Mikhail]";
		mes "OK, I will!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Hoohoo, you're good boy.";
		next;
		mes "[Mikhail]";
		mes "Now I'm gonna give this back to Mom.";
		donpcevent "Mikhail#mos::OnInit";
		mos_swan = 25;
		delitem 7764,1;// High_Strength_Adhesive
		changequest 18068,18069;
		close;
	}
	mes "- It's a fire pot to heat the room or bake something -";
	close;
}

mosk_in,202,269,5	script	Mikhail#mos	4_M_RUSCHILD,{
	end;
OnInit:
OnEnable:
	hideonnpc "Mikhail#mos";
	end;
}

//----------------------------------------------------------------------------
// Sticky Herb Tree Inn NPCs
//----------------------------------------------------------------------------
mosk_in,135,191,5	script	Landlord#mos	4_F_RUSWOMAN3,{
	mes "[Landlord]";
	mes "Oh, welcome to the Inn 'Sticky Herb Tree'.";
	mes "It is the most comfortable and calmest place in all of Moscovia.";
	next;
	if (mos_swan == 4 || mos_swan == 5) {
		mes "[Landlord]";
		mes "You're up already?";
		mes "Well since you're young you've probably already recovered all of your strength.";
		mes "Hohoho.";
		next;
		while(1) {
			switch(select("Ask her about the inn:Ask her about Mikhail.:End the conversation")) {
			case 1:
				mes "[Landlord]";
				mes "The name of our inn came from a big apple tree which is outside of the village.";
				mes "I hope our inn will be the most famous place in Moscovia like the apple tree that distinguishes itself in the thick wood.";
				next;
				break;
			case 2:
				mes "[Landlord]";
				mes "Mikhail?";
				mes "Ah! You're talking about a cute boy, Mr. Ibanoff's son?";
				mes "Yes I saw him. He was here a few hours ago.";
				next;
				mes "[Landlord]";
				mes "He looked pale and asked me for a high-strength adhesive. He might've broken something important.";
				next;
				mes "[Landlord]";
				mes "I felt sorry for him because he was so tense. He's such a sweet boy. I'd like to make him my son.";
				mes "Hohoho";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "So what happened?";
				mes "Did Mikhail get it?";
				next;
				mes "[Landlord]";
				mes "Hoho, I don't really know. Maybe my husband does...";
				mes "He's not much to look at, but he's good at repairing and making stuff! hoho";
				next;
				mes "[Landlord]";
				mes "But it's been a long time since he was out of Moscovia so I can't ask him how to make adhesives now...";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "......And then?";
				next;
				mes "[Landlord]";
				mes "I told him to go to the pub over there.";
				mes "I also told him not to drink what those guys offer to him!";
				mes "Cause he's such a cute boy!";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "So, did he go there?";
				next;
				mes "[Landlord]";
				mes "Yes he did-.";
				mes "As he's a good boy, he would go there.";
				mes "He's really gentle.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "OK. Thank you for your answers!";
				next;
				mes "[Landlord]";
				mes "I was unkind to make you stay here but wasn't it easier for you? hoho.";
				mes "When it gets dark, promise me to come here again. Hoho";
				mos_swan = 7;
				changequest 18061,18062;
				close;
			case 3:
				mes "[Landlord]";
				mes "When you need to take a rest, where will you go?";
				next;
				mes "[Landlord]";
				mes "You should come back here to Inn 'Sticky Herb Tree'. Ok?";
				mes "I'll offer you better service next time.";
				close;
			}
		}
	}
	switch(select("Save", "Stay the night - 5000z", ( mos_swan == 3 ? "Ask her about Mikhail." : "" ))) {
	case 1:
		mes "[Landlord]";
		mes "Your respawn point has been saved.";
		mes "Hope we can see you again next time hoho.";
		savepoint "mosk_in",142,189,1,1;
		close;
	case 2:
		if (Zeny > 4999) {
			mes "[Landlord]";
			if (mos_swan == 3) {
				mes "Ok, I'll bring you the best room.";
				mes "Please have a rest, young adventurer.";
			}
			else {
				mes "Please be comfortable.";
			}
			break;
		}
		mes "[Landlord]";
		mes "The service charge is 5000z.";
		mes "Please make sure you have enough money for the service.";
		close;
	case 3:
		mes "[Landlord]";
		emotion ET_THROB;
		mes "Oh~! You look great! Look at the "+((Sex == SEX_MALE)?"solid muscle":"fair skin")+"!";
		mes "But you look tired. Is it because of a long journey?";
		next;
		mes "[Landlord]";
		mes "We've got a room available just for you. "+((Sex == SEX_MALE)?"It's the best in town. How about staying the night?":"It's like a princess' room.");
		mes (Sex == SEX_MALE)?"I'll charge you at reasonable price for you, handsome guy.":"How about staying the night? I'll mark down the price for you, beautiful lady.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Oh, I'm sorry but I didn't come to stay here.";
		mes "I'm looking for a kid and I've got something to ask you...";
		next;
		emotion ET_HUK;
		mes "[Landlord]";
		mes "What!?!?";
		next;
		mes "[Landlord]";
		mes "Hey~ You've heard about 'give and take'?";
		mes "Haven't you?";
		mes "If you're my customer, I could offer you what you want but you're not!";
		next;
		mes "[Landlord]";
		mes "If you promise me to stay overnight, I'll tell you about what you want to know. Deal?";
		next;
		if(select("Refuse.:Stay overnight and get the info. - 5000z") == 1) {
			emotion ET_ANGER;
			mes "[Landlord]";
			mes "Well, get the info by yourself then.";
			close;
		}
		if (Zeny < 5000) {
			mes "[Landlord]";
			mes "No way. You don't have enough money.";
			mes "Go away! I can't offer you a room.";
			close;
		}
		mes "[Landlord]";
		mes "Oh, God! You're as great as you look~";
		mes "Ok, I'll bring you to the room in a bit!!";
		next;
		mes "[Landlord]";
		mes "Come on, please follow me with your luggage.";
		mes "Oh, let me carry them. Hohoho, you must be exhausted.";
		mes "I wish you a good night's rest. Hohoho.";
		mos_swan = 4;
		break;
	}
	close2;
	Zeny = Zeny -5000;
	percentheal 100,100;
	warp "mosk_in",215,181;
	end;
}

mosk_in,141,212,3	script	Pub Owner#mos	4_M_RUSBALD,{
	if ((MaxWeight-Weight) < 2000) {
		mes "- Please stop here!! -";
		mes "- You're carrying too many items -";
		mes "- Please try again -";
		mes "- after using the kafra service -";
		close;
	}
	if (mos_swan == 7) {
		mes "[Pub Owner]";
		mes "We've got another wanderer here";
		mes "Welcome to our pub.";
		mes "I'm Alexandre of ^3131FF'Pub Stream'^000000. You can call me 'Sasha'.";
		next;
		if(select("Ask him about Mikhail.:Order a drink.") == 1) {
			mes "["+strcharinfo(0)+"]";
			mes "Sasha, has a little boy called 'Mikhail' came here?";
			next;
			mes "[Pub Owner]";
			mes "Are you talking about the cute little boy? Yes he has came here.";
			mes "He looked pale and needed a high-strength adhesive .";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "So what did you say ?";
			next;
			mes "[Pub Owner]";
			mes "I don't know well about that thing.";
			mes "However, I know a person who may know about that so I introduced him to Mikhail.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Who's that person?";
			next;
			mes "[Pub Owner]";
			mes "It's Victor over there.";
			mes "He's very careful about details so we call him ^3131FF'hedgehog Victor'^000000.";
			mes "No one knows about it well except him.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Sasha, thanks a lot!";
			next;
			mes "[Pub Owner]";
			mes "You're welcome.";
			mos_swan = 8;
			// changequest 18062,18063;
			close;
		}
		mes "[Pub Owner]";
		mes "Although you may be an experienced adventurer, you look so young.";
		mes "I recommend you these drinks. Which one will you take?";
		next;
		.@j = select("Milk - 1000z:Sticky_Herb juice - 1000z:They are all expensive!") - 1;
		if (.@j == 2) {
			mes "[Pub Owner]";
			mes "Hahaha, too much for you eh cheapskate.";
			close;
		}
		if (Zeny > 999) {
			Zeny = Zeny -1000;
			mos_swan = 9;
			if (.@j == 0)
				getitem 519,1;
			else
				getitem 531,1;
			mes "[Pub Owner]";
			mes "Here you are. This is what you ordered.";
			mes "How do you like Moscovia?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Yes, it's beautiful and gorgeous.";
			mes "Sasha, most of all, can you answer one question?";
			next;
			mes "[Pub Owner]";
			mes "About what?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Has Mikhail come here?";
			next;
			mes "[Pub Owner]";
			mes "Yes he has.";
			mes "He looked pale and needed a high-strength adhesive.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "So what happened?";
			next;
			mes "[Pub Owner]";
			mes "I don't know much about adhesives.";
			mes "But, I know a person who may know about them so I introduced Mikhail to him.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Who's this person?";
			next;
			mes "[Pub Owner]";
			mes "It's Victor over there.";
			mes "He's very careful about details so we call him ^3131FF'Hedgehog Victor'^000000.";
			mes "No one knows adhesives as well as he does.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Sasha, thanks a lot!";
			next;
			mes "[Pub Owner]";
			mes "You're welcome.";
			close;
		}
		mes "[Pub Owner]";
		mes "You'll need a lot of money while you're traveling.";
		mes "If you don't have enough money, I'll offer you a glass of water.";
		close;
	} else if (mos_swan == 8) {
		mes "[Pub Owner]";
		mes "While I work in this pub, I can hear stories from all around the world.";
		mes "They are all heroes of their life.";
		next;
		mes "[Pub Owner]";
		mes "Each story interests me so a day passes quick.";
		mes "That's why I love my job.";
		next;
		mes "[Pub Owner]";
		mes "Well, do you have some stories for me? or you've got something to ask me.";
		mes "I recommend you those drinks.";
		next;
		.@s = select( "Milk - 1000z:Apple juice - 1000z:They are all expensive!" );
		if (.@s == 3) {
			mes "[Pub Owner]";
			mes "Hahaha, Here is the sightseeing place.";
			close;
		}
		if (Zeny > 999) {
			Zeny = Zeny -1000;
			mos_swan = 9;
			if (.@s == 1)
				getitem 519,1;
			else
				getitem 531,1;
			mes "[Pub Owner]";
			mes "Here you are. This is what you ordered.";
			mes "Enjoy yourself.";
			close;
		}
		mes "[Pub Owner]";
		mes "You'll need a lot of money while you're traveling.";
		mes "If you don't have enough money, I'll offer you a glass of water.";
		close;
	} else if (mos_swan == 9) {
		mes "[Pub Owner]";
		mes "Have you spoken to Victor?";
		close;
	}
	mes "[Pub Owner]";
	mes "Welcome to our pub.";
	mes "I'm Alexandre of ^3131FF'Stream Pub'^000000. But, everyone calls me 'Sasha'.";
	mes "It's a fine day today. I feel like going out.";
	close;
}

mosk_in,147,202,3	script	Victor#mos	4_M_RUSMAN2,{
	if ((MaxWeight-Weight) < 2000) {
		mes "- Please stop here!! -";
		mes "- You're carrying too many items -";
		mes "- Please try again -";
		mes "- after using the kafra service -";
		close;
	}
	if (mos_swan == 8) {
		mes "["+strcharinfo(0)+"]";
		mes "Excuse me.";
		mes "Could you spare a few minutes for me?";
		next;
		mes "[Victor]";
		mes "Who are you?";
		mes "What gives you the right to say such a thing?";
		mes "I'm busy appreciating wine in this glass.";
		close;
	} else if (mos_swan == 9) {
		mes "["+strcharinfo(0)+"]";
		mes "Excuse me.";
		mes "Could you spare a few minutes for me?";
		next;
		mes "[Victor]";
		mes "Who are you?";
		mes "What gives you the right to say such a thing?";
		mes "I'm busy appreciating wine in this glass.";
		next;
		mes "[Victor]";
		mes "Pardon? You're drinking too.";
		mes "Ok, it's lonely to drink alone. I but I've gotten used to it.";
		next;
		mes "[Victor]";
		mes "Well, tell me what you have on your mind. I'm listening.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Have you seen a little boy who was looking for paste?";
		next;
		mes "[Victor]";
		mes "..................";
		next;
		mes "[Victor]";
		mes "You're talking about Mikhail?";
		mes "He's such a sentimental boy. I was troubled by him";
		next;
		mes "[Victor]";
		mes "By the way, how did you know that he came to see me? Did he say anything to you?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Mikhail hasn't come back yet since he left to get the paste. He broke his mother's Matrushka..";
		next;
		mes "[Victor]";
		mes "............What?";
		mes "Hmm.. Oh dear.....";
		mes "I doubt he went there.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "There?";
		next;
		mes "[Victor]";
		mes "Yes. Baba Yaga 'The Terrible' and other scary animals live there.";
		next;
		mes "[Victor]";
		mes "The little boy came here crying a few hours ago.";
		mes "He's got something that needs to be stuck together, so he needed a high-strength adhesive.";
		next;
		mes "[Victor]";
		mes "But I don't carry such a thing. So I told him to bring me some stuff for it.";
		next;
		mes "[Victor]";
		mes "To get the stuff for a high-strength adhesive, you need to go to an isolated swamp. You can reach it by boat and it takes a long time.";
		next;
		mes "[Victor]";
		mes "But the way to the swamp is very dangerous. There are horrible monsters around it, all hunting with eager eyes.";
		next;
		mes "[Victor]";
		mes "Especially, the old lady Baba Yaga who attacks anyone she sees. She especially likes youngsters like you. haha!";
		mes "heeheehee!!";
		next;
		mes "[Victor]";
		mes "...You turned pale! hahaha!!";
		next;
		mes "[Victor]";
		mes "But...";
		mes "I'm exaggerating a little, it's true that there are scary things.";
		mes "But, I don't believe that a little and timid boy like Mikhail would go there. It's impossible!";
		next;
		mes "[Victor]";
		mes "I said to him, 'you can never, ever go there' and told him to go back home.";
		mes "He asked for the impossible so I calmed him down with some bread.";
		next;
		mes "[Victor]";
		mes "He was already white with fear that he broke his mother's matrushka. Do you think that he would go there?";
		next;
		mes "[Victor]";
		mes "He might've just hidden himself somewhere, haha!";
		mos_swan = 10;
		changequest 18062,18063;
		close;
	} else if (mos_swan == 10 || mos_swan == 11) {
		mes "[Victor]";
		mes "There's a large island near Moscovia. It takes so much time to reach there by a boat. So nobody wants to go there. ";
		next;
		mes "[Victor]";
		mes "If you go deep into its forest, you can find a swamp where sticky weeds are growing.";
		next;
		mes "[Victor]";
		mes "The way to go there is full of danger. Do think that a timid boy like Mikhail can go there?";
		close;
	} else if (mos_swan == 12) {
		mes "[Victor]";
		mes "You came back. Hmm, are you about to make me responsible that he's gone?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "No, I found him. You don't have to worry.";
		next;
		mes "[Victor]";
		mes "So, what do you want with me?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I promised him I'd make the high-strength adhesive. What do I have to do for that?";
		next;
		mes "[Victor]";
		mes "Why are you so eager to make it? How important is the stuff?";
		mes "Well, I don't care...";
		next;
		mes "[Victor]";
		mes "There's a large island near Moscovia. It takes so much time to reach there by a boat. So nobody wants to go there.";
		next;
		mes "[Victor]";
		mes "If you go deep into its forest, you can find a swamp where sticky weeds are growing.";
		next;
		mes "[Victor]";
		mes "You should bring ^3131FF'10 sticky herbs'^000000 and ^3131FF 1 medicine bowl^000000 to me.";
		mos_swan = 13;
		changequest 18065,18066;
		close;
	} else if (mos_swan > 12 && mos_swan < 23) {
		mes "[Victor]";
		mes "If you want to make adhesives";
		mes "get 10 sticky herbs and";
		mes "1 medicine bowl for me.";
		mes "Those sticky herbs are growing in the swamp. It may be dangerous but that shouldn't be a problem for you?";
		close;
	} else if (mos_swan == 23) {
		mes "[Victor]";
		mes "What do you want with me this time??";
		mes "Oh, you said you wanted an adhesive...";
		mes "You're bothering me so much!";
		next;
		if (countitem(7763) > 9 && countitem(7134)) {
			mes "[Victor]";
			mes "Give me the stuff! I'll make it quickly. You're annoying me!";
			next;
			for (.@i = 0; .@i < 3; .@i++)
				mes "- He's making adhesive with a crunching sound -";
			next;
			for (.@i = 0; .@i < 4; .@i++)
				mes "- And he may be rubbing something -";
			next;
			mes "[Victor]";
			mes "Ok, done!";
			mes "I don't want you to bother me any longer!";
			mes "Please leave!";
			delitem 7763,10;// Sticky_Herb
			delitem 7134,1;// Medicine_Bowl
			mos_swan = 24;
			getitem 7764,1;// High_Strength_Adhesive
			changequest 18067,18068;
			close;
		}
		mes "[Victor]";
		mes "He's annoying me so much. Give me the materials!";
		mes "Oh dear? What are those things? I said 10 sticky herbs and 1 medicine bowl!!";
		next;
		mes "[Victor]";
		mes "Even though I'm always in the pub, I have my own business... !";
		next;
		mes "[Victor]";
		mes ".............!!!!";
		next;
		mes "[Victor]";
		mes "..................";
		mes "What are you staring at? Bring them to me right now!";
		close;
	}
	mes "[Victor]";
	mes "What did you say? I just want to drink peacefully!";
	close;
}

mosk_in,215,181,0	script	#swan_inn	-1,1,1,{
	end;
OnTouch:
	if (mos_swan != 4) end;
	mes "..................";
	mes "..................";
	next;
	mes "..................";
	mes "..................";
	mes "..................";
	next;
	mes "..................";
	mes "..................";
	mes "..................";
	mes "..................";
	next;
	mes "["+strcharinfo(0)+"]";
	mes "Oh, I got a good night's sleep. How long did I sleep?";
	next;
	mes "["+strcharinfo(0)+"]";
	mes "Although I was forced to stay here, it's true that it's got great facilities.";
	mes "I feel refreshed.";
	next;
	mes "["+strcharinfo(0)+"]";
	mes "Ok, I guess I will go to the landlord to get some info.";
	mos_swan = 5;
	close;
}

//----------------------------------------------------------------------------
// Swamp
//----------------------------------------------------------------------------
mosk_dun03,153,90,3	script	Bubbling Swamp#mos1	CLEAR_NPC,{
	if ((MaxWeight-Weight) < 2000) {
		mes "- Your bag is very heavy today -";
		close;
	}
	if (mos_swan == 10) {
		mes "- You feel sticky just looking at this swamp. -";
		next;
		mes "- Gas bubbles are rising. The atmosphere here is pretty scary -";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I don't see any traces of Mikhail. I think I should go back and check his house one more time.";
		mos_swan = 11;
		changequest 18063,18064;
		close;
	} else if (mos_swan == 11 && mos_swan == 12) {
		mes "- You can see a small muddy swamp -";
		next;
		mes "- Gas bubbles are rising. The atmosphere here is pretty scary -";
		close;
	} else if (mos_swan > 12 && mos_swan < 23) {
		mes "- You feel sticky just looking at the swamp. -";
		next;
		mes "- Gas bubbles are rising. The atmosphere here is pretty scary -";
		next;
		mes "- You stretch out to find sticky herbs. -";
		next;
		if (rand(1,10) < 6) {
			mes "- You have pricked your finger on a Sticky Herb. -";
			getitem 7763,1;
			mos_swan++;
			if (mos_swan == 23)
				changequest 18066,18067;
			close;
		}
		mes "- You have pricked your finger on a Green Herb. -";
		getitem 511,1;
		close;
	}
	mes "- You can see a small swamp which seems very muddy. -";
	next;
	mes "- Gas bubbles are rising. The atmosphere here is pretty scary -";
	close;
}

//----------------------------------------------------------------------------
// Larissa - Hotcake Quests
//----------------------------------------------------------------------------
mosk_in,211,259,5	script	Larissa#mos_01	4_F_RUSWOMAN2,{
	if ((MaxWeight-Weight) < 2000) {
		mes "- Please stop here !! -";
		mes "- You're carrying too many items -";
		mes "- Please try again -";
		mes "- after using the kafra service -";
		close;
	}
	if (mos_swan == 100) {
		mes "[Larissa]";
		mes "Oh, you're the adventurer that Madame told me about.";
		mes "Did you find her son?";
		mes "I'm so glad. He's a good kid.";
		next;
		mes "[Larissa]";
		mes "Here you are. This special pancake is for you.";
		mes "It will be very delicious.";
		mos_swan = 101;
		getitem 592,5;// Jam_Pancake
		getitem 593,5;// Honey_Pancake
		next;
		mes "[Larissa]";
		mes "Whenever you'd like to eat these pancake, you come on by.";
		mes "I'll bake you the most delicious one.";
		close;
	} else if (mos_swan > 100) {
		mes "[Larissa]";
		mes "Did the pancake taste good?";
		mes "Would you like another pancake?";
		next;
		if(select("Yes:No") == 1) {
			if (countitem(7031) && countitem(519) > 1 && countitem(504) > 1 && countitem(548) && countitem(1019) && countitem(518)) {
				mes "[Larissa]";
				mes "Let me check if you have all the ingredients.";
				mes "A frying pan, milk... potion that softens the dough, cheese..honey..and firewood.";
				mes "Perfect!";
				next;
				mes "[Larissa]";
				mes "Let us begin by kneading the dough.";
				mes "I'll add sugar and baking powder.";
				mes "It can be mixed well with this sieve.";
				next;
				mes "[Larissa]";
				mes "What should I do with the wheat flour?";
				next;
				switch(select("Turn it down.:Pass it through a sieve.:Press it with your fist.")) {
					case 1:
						mes "[Larissa]";
						mes "Oh, my! What are you doing now?";
						mes "I'm going to do that from the beginning.";
						mes "Look, pass it through a sieve.";
						break;
					case 2:
						mes "[Larissa]";
						mes "There you go. Just do it slowly while tapping the sides, sifting the sugar and baking powder through the sieve together.";
						break;
					case 3:
						mes "[Larissa]";
						mes "If we don't have the sieve, we can use our fist but we've got one. So we might as well use it right?";
						break;
				}
				next;
				mes "[Larissa]";
				mes "That way, it will mix well.";
				mes "And then I'm adding an egg, some milk and a white potion.";
				mes "What next?";
				next;
				if(select("Stir it up with great speed.:Do the same as she said.") == 1) {
					mes "[Larissa]";
					mes "No, you don't have to do that way. It won't rise properly if you stir it too fast.";
				} else {
					mes "[Larissa]";
					mes "You're very good at this!";
				}
				next;
				mes "[Larissa]";
				mes "It'll rise while baking if you stir it properly";
				mes "Ok, let me bake now. Let's pour it on our pan and spread it around.";
				next;
				mes "[Larissa]";
				mes "Cook in low temperature. It'll rise and have bubbles on it.";
				mes "When you see the bubbles, you can turn it over.";
				next;
				if(select("Cook in high temperature.:Can I turn it over now?") == 1) {
					mes "[Larissa]";
					mes "No, you don't do that.";
					mes "You'll burn it up.";
					mes "Wait for a while.";
				} else {
					mes "[Larissa]";
					mes "Hmm let's see. It's good.";
					mes "You were good at it.";
				}
				next;
				mes "[Larissa]";
				mes "Ok, turn it over. Oh it looks delicious";
				mes "What should I top it with? First I put some cheese but the rest is up to you...";
				next;
				switch(select("Caviar:Mushrooms:Honey:Strawberry jam:Sour cream")) {
					case 1:
						mes "[Larissa]";
						mes "Ok. you want caviar. Fortunately, I still have a little left.";
						mes "Hoohoo, this'll be luxurious..";
						mes "Here we go. It's all done!";
						setarray .@n, 591,1;
						break;
					case 2:
						mes "[Larissa]";
						mes "Ok. you want mushrooms.. It has an earthly flavor.";
						mes "Here we go. It's all done!";
						setarray .@n, 595,1;
						break;
					case 3:
						mes "[Larissa]";
						mes "Ok, honey syrup goes perfectly with pancakes.";
						mes "Here we go. It's all done!";
						setarray .@n, 593,1;
						break;
					case 4:
						mes "[Larissa]";
						mes "Who could get sick of pancakes with strawberry jam?";
						mes "Hoohoo it tastes sweet too.";
						mes "Here we go. It's all done!";
						setarray .@n, 592,1;
						break;
					case 5:
						mes "[Larissa]";
						mes "You want sour cream.. you will feel as if you fly in the sky.";
						mes "It can help reduce stress.";
						mes "Here we go. It's all done!";
						setarray .@n, 594,1;
						break;
				}
				setarray .@di[0],7031,1,519,2,504,2,548,1,1019,1,518,1;
				for (.@i = 0; .@i < getarraysize(.@di); .@i += 2)
					delitem .@di[.@i],.@di[.@i+1];
				getitem .@n[0],.@n[1];
				close;
			}
			mes "[Larissa]";
			mes "That's good. I have ingredients and several toppings but...";
			mes "It's still not enough. You need to get all of the things that we don't have now.";
			next;
			mes "[Larissa]";
			mes "I need ^4d4dff1 old frying pan , 2 bottles of milk , 2 white potion, 1 cheese, 1 Trunk, 1 Honey ^000000.";
			mes "We can bake our pancake when we get all of those.";
			close;
		}
		mes "[Larissa]";
		mes "Ok we can bake it next time.";
		mes "I'm always available.";
		close;
	}
	mes "[Larissa]";
	mes "Young lady is a practical joker and her brother is tenderhearted.";
	mes "By the way, I haven't seen him for quite some time.";
	close;
}

// Acorn Exchange :: mos_squirrel
//============================================================

//----------------------------------------------------------------------------
// Acorn Dealer - Sells Acorns
//----------------------------------------------------------------------------
moscovia,208,182,7	script	Acorn Dealer#mos	4_M_RUSMAN1,{
	mes "[Acorn Dealer]";
	mes "We have very fresh acorns. Everyone will like them!";
	mes "You can buy one acorn for 100zeny!";
	next;
	if(select("Buy one.:What can I use them for?") == 2) {
		mes "[Acorn Dealer]";
		mes "Well uh...";
		mes "You can grind them to make";
		mes "something to eat and you can feed squirrels.";
		next;
		mes "[Acorn Dealer]";
		mes "Someone can decorate their house";
		mes "with them but I don't know how...";
		mes "they've got to be highly talented.";
		mes "Haha.";
		close;
	}
	mes "[Acorn Dealer]";
	mes "I'll bet you that they are very fresh!";
	mes "How many acorns do you need?";
	next;
	while(.@input == 0 || .@input > 500) {
		input .@input;
		if (.@input <= 0) {
			mes "[Acorn Dealer]";
			mes "Do you want to cancel this trade?";
			close;
		}
		if (.@input > 500) {
			mes "[Acorn Dealer]";
			mes "You can't buy more than 500.";
			next;
		}
		
	}
	if (!checkweight(1026, .@input)) {
		mes "[Acorn Dealer]";
		mes "Hello, I think you can't get acorns";
		mes "now. You're carrying too many";
		mes "items!";
		mes "Please use Kafra service. I'll be";
		mes "right here.";
		close;
	}
	.@price = .@input * 100;
	if (Zeny < .@price) {
		mes "[Acorn Dealer]";
		mes "Hello? You've turned pale! Are you ok??";
		mes "Do you have enough money?";
		close;
	}
	mes "[Acorn Dealer]";
	mes "Oh, thank you...";
	mes "What do you think of them? They're fresh, aren't they?";
	Zeny = Zeny - .@price;
	getitem 1026,.@input;
	close;
}

//----------------------------------------------------------------------------
// Big Squirrel - Trade Acorns for Gems
//----------------------------------------------------------------------------
mosk_fild01,113,108,3	script	Big Squirrel#mos	HIDDEN_NPC,2,2,{
OnTouch:
	if ((MaxWeight-Weight) < 2000) {
		mes "- Please stop here!! -";
		mes "- You're carrying too many items -";
		mes "- Please try again -";
		mes "- after using the kafra service -";
		close;
	}
	mes "- It's an extraordinary big squirrel. -";
	next;
	mes "- When the animal comes across you, it starts to sniffle and purse up its lips. -";
	next;
	if (countitem(1026) > 19) {
		switch(select("Give acorns to it.:Ignore it.:Ask about the squirrel.")) {
			case 1:
				mes "- You take one of acorns out and hold it out to the squirrel. -";
				next;
				mes "- It cocked it's ears up and begins to nibble the acorn quickly. -";
				next;
				mes "- It makes a crunching sound -";
				mes "- It makes a crunching sound -";
				mes "- It makes a crunching sound -";
				next;
				mes "- After eating the acorn up, the squirrel dances around wildly. Suddenly it curls its body and throws something up with a spit-spit sound -";
				delitem 1026,20;
				.@cyworld = rand(1,1000);
				.@stworld = rand(1,150);
				if (.@cyworld % 100 == 0 && .@cyworld < 1000) {
					if (.@stworld < 90) {
						if (.@stworld < 10) getitem 718,1;// Dark_Red_Jewel
						else if (.@stworld < 20) getitem 719,1;// Violet_Jewel
						else if (.@stworld < 30) getitem 720,1;// Skyblue_Jewel
						else if (.@stworld < 40) getitem 721,1;// Azure_Jewel
						else if (.@stworld < 50) getitem 722,1;// Scarlet_Jewel
						else if (.@stworld < 60) getitem 723,1;// Cardinal_Jewel
						else if (.@stworld < 70) getitem 725,1;// Red_Jewel
						else if (.@stworld < 80) getitem 728,1;// Golden_Jewel
						else getitem 729,1;// Bluish_Green_Jewel
					}
					else if (.@stworld < 100) {
						if (.@cyworld == 100 || .@cyworld == 400 || .@cyworld == 700)
							getitem 730,1;// Crystal_Jewel
						else if (.@cyworld == 200 || .@cyworld == 500 || .@cyworld == 800)
							getitem 731,1;// Crystal_Jewel_
						else
							getitem 732,1;// Crystal_Jewel__
					}
					else {
						switch(.@cyworld) {
							case 200:
								.@stonez1 = rand(1,10);
								if (.@stonez1 < 6)
									getitem 7290,1;// Phlogopite
								else if (.@stonez1 < 8)
									getitem 7297,1;// Biotite
								else
									getitem 7292,1;// Muscovite
								break;
							case 300:
								if (rand(1,10) < 6)
									getitem 7291,1;// Agate
								else
									getitem 7294,1;// Turquoise
								break;
							case 100: getitem 7289,1; break;// Olivine
							case 400: getitem 7295,1; break;// Citrine
							case 500: getitem 7293,1; break;// Rose_Quartz
							case 600: getitem 7292,1; break;// Muscovite
							case 700: getitem 7290,1; break;// Phlogopite
							case 800: getitem 7296,1; break;// Pyroxene
							case 900: getitem 7297,1; break;// Biotite
						}
					}
				}
				else if (.@cyworld == 1000)
					getitem 727,1;// White_Jewel
				else if (.@cyworld < 500)
					getitem 733,1;// Crystal_Jewel___
				else
					getitem 724,1;// Cardinal_Jewel_
				close;
			case 2:
				mes "["+strcharinfo(0)+"]";
				mes "It's so cute.";
				close;
			case 3:
				mes "[Aged Man]";
				mes "Is it bigger than an ordinary one?";
				mes "I found it one day and was barely able to save it...";
				next;
				mes "[Aged Man]";
				mes "I felt that heaven had sent me a friend so that my life wouldn't be so lonely.";
				next;
				mes "[Aged Man]";
				mes "But I didn't know that it eats so much, it won't give me any attention if I give anything ^3131FFbelow 20 acorns^000000.";
				mes "That's why it's bigger than ordinary ones hahaha.";
				close;
		}
	}
	mes "- The squirrel looks at the acorn which you held for a while but it turned its head with indifference. -";
	close;
}
mosk_fild01,113,108,5	script	#mos_sq	1104,{ end; }

// Banish Winter :: mos_nowinter
//============================================================

//----------------------------------------------------------------------------
// Baba Yaga, the Horrible - Starting Point
//----------------------------------------------------------------------------
mosk_in,215,46,5	script	Baba Yaga, the Horrible	4_F_BABAYAGA,7,7,{
	if (!mos_nowinter || mos_nowinter == 1) {
		mes "[Baba Yaga, the Horrible]";
		mes "Hohoho";
		mes "I need to kick your ass more.";
		mes "Come here,";
		mes "to play a game.";
		mes "Heeeeeeeee.";
		close2;
		warp "mosk_dun02",53,217;
		end;
	} else if (mos_nowinter == 2) {
		mes "[Baba Yaga, the Horrible]";
		mes "Let me live, leave me alone, and don't come near me.";
		mes "Stop, I am hungry and scared.";
		next;
		mes "-She is blabbing something weird.-";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Yes, if you let me live, I will compensate you";
		mes "with a present, how about that?";
		next;
		if(select("A present?:I don't need.") == 1) {
			mes "[Baba Yaga, the Horrible]";
			mes "Yes, if you let me live";
			mes "I will give you the Yaga Pestles";
			mes "Aren't you gathering them?";
			next;
			select("I don't need them anymore.");
		}
		mes "[Baba Yaga, the Horrible]";
		mes "Kaaaaaaaaaak!";
		mes "Please, let me live,";
		mes "I will do anything you want.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Don't you need any cream for wounds";
		mes "or indigestion?";
		mes "They are a bit dirty,";
		mes "but very useful.";
		next;
		select("Well...");
		mes "[Baba Yaga, the Horrible]";
		mes "How about this?";
		mes "I bewitch this country so that";
		mes "the winter will never come here again.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "I guess that people will like it and";
		mes "I'm sure that the Csar";
		mes "will award you for it.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Ah? You seem";
		mes "interested... ya?";
		mes "What do you think about that?";
		next;
		if(select("Good, but I think you're lying.:I am not interested.") == 1) {
			mes "[Baba Yaga, the Horrible]";
			mes "Sure, you can trust me.";
			mes "It is so complicated that I cannot";
			mes "perform it on my own";
			mes "I am not a liar.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "But, the problem is...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "I am not able to get the materials necessary";
			mes "because I don't feel good.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "So,";
			mes "if you give me a hand,";
			mes "I can use the magic that";
			mes "stops winter from returning. Will you help me?";
			next;
			if(select("Ok, I will.:No. I don't like it.") == 1) callsub S_BY_1;
			mes "[Baba Yaga, the Horrible]";
			mes "Heeeek,";
			mes "Just, just I need a little help.. It is really little.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Please, don't kill me...";
			next;
			mes "'Hmmm, what should I do...'";
			mos_nowinter = 4;
			close;
		}
		mes "[Baba Yaga, the Horrible]";
		mes "Akkk... What on earth did you do to me...";
		next;
		mes "Hmm... What do you want...";
		mos_nowinter = 3;
		close;
	} else if (mos_nowinter == 3) {
		mes "[Baba Yaga, the Horrible]";
		mes "Akkkk!";
		mes "You came back..";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "If you tell the Csar that";
		mes "winter won't come back again";
		mes "he will reward you.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Isn't that better for you";
		mes "than hurting me?";
		next;
		if(select("Ok, tell me the story.:Let me think...") == 1) {
			mes "[Baba Yaga, the Horrible]";
			mes "Certainly, trust me.";
			mes "It is so complicated that I cannot";
			mes "perform it on my own";
			mes "I am not a liar.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "The problem is...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "I am not able to get the materials necessary";
			mes "because I don't feel good.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "So,";
			mes "if you give me a hand.";
			mes "I can use the magic that";
			mes "stops winter from returning. Will you help me?";
			next;
			if(select("Ok, I will.:No. I don't like it.") == 1) callsub S_BY_1;
			mes "[Baba Yaga, the Horrible]";
			mes "Heeeeek,";
			mes "Just, just I need a little help.. It is really little.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Please, don't kill me...";
			next;
			mes "'Hmm... what should I do...'";
			mos_nowinter = 4;
			close;
		}
		mes "[Baba Yaga, the Horrible]";
		mes "You think more...";
		mes "What do you want from me...";
		close;
	} else if (mos_nowinter == 4) {
		mes "[Baba Yaga, the Horrible]";
		mes "You just need to help little,";
		mes "really little...";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Well, did you change your mind?";
		next;
		if(select("Ok, let's try.:Let me think more...") == 1) callsub S_BY_1;
		mes "[Baba Yaga, the Horrible]";
		mes "You think more...";
		mes "What do you want from me...";
		close;
	} else if (mos_nowinter == 5) {
		mes "[Baba Yaga, the Horrible]";
		mes "Let me see...where the season spell...";
		next;
		mes "rummaging...";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Ah, here it is... I found it!";
		mes "Hoook~ Hoook~";
		next;
		mes "-What a dusty old book!-";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Well, open your ears.";
		mes "It is so rare around here that";
		mes "it is not easy for you to remember at once.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Above all,";
		mes "I need 20 Grasshopper's Legs...";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Cough, cough,";
		mes "Kaaak, Kaaaaak";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Sniff, sniff.";
		mes "5 Spawn...";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "eh... and...";
		mes "20 Wings Of Red Bat...";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Let me see...";
		mes "a glue, no, to cast a spell";
		mes "10 Sticky Mucus...";
		next;
		if(select("...Are you sure?:A glue? You want me to kill you?!") == 1) {
			mes "[Baba Yaga, the Horrible]";
			mes "Yes, yes, I am certain. Why don't you trust me...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Cough, cough,";
			mes "I am coughing now, so do not disturb me,";
			mes "you write them down.";
			.@plus1 = 1;
		} else {
			mes "[Baba Yaga, the Horrible]";
			mes "No, It just...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Ehhh, terrible.";
			mes "Hey, relax your hand and";
			mes "keep writing.";
			mes "Forget the Sticky Mucus...";
		}
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Where were we...";
		mes "Cough, cough, cough!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Ah, yes. Next elements are";
		mes "essential.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "10 Witched Starsand";
		mes "10 Fine Grits...";
		mes "Hooook, hooook~";
		mes "Ekkkk, what a dusty book!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Next is for";
		mes "something hot.";
		mes "1 Detonator";
		mes "5 Red Blood,";
		mes "and 10 Burning Hearts.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Ah, and I need";
		mes "a 1, 2, or 3 carat";
		mes "^ff0000Diamond^000000.";
		next;
		mes "[Baba Yaga, the Horrible]";
		if (.@plus1 == 1) {
			mes "Ok, I am repeating the items.";
			mes "Eh, they are...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "^ff000020 Grasshopper's Legs,";
			mes "5 Spawn,";
			mes "20 Wing Of Red Bat,";
			mes "10 Sticky Mucus,";
			mes "10 Witched Starsand^000000...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "^ff000010 Fine Grit,";
			mes "1 Detonator,";
			mes "5 Red Blood,";
			mes "10 Burning Heart^000000 and,";
			mes "a 1, 2, or 3 carat";
			mes "^ff00001 Diamond^000000.";
			mos_nowinter = 6;
			changequest 18070,18071;
		} else {
			mes "Ok, I am repeating the items.";
			mes "Eh, they are...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "^ff000020 Grasshopper's Legs,";
			mes "5 Spawn,";
			mes "20 Wing Of Red Bat,";
			mes "10 Witched Starsand^000000...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "^ff000010 Fine Grit,";
			mes "1 Detonator,";
			mes "5 Red Blood,";
			mes "10 Burning Heart^000000 and,";
			mes "a 1, 2, or 3 carat";
			mes "^ff0000Diamond^000000.";
			mos_nowinter = 7;
			changequest 18070,18072;
		}
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "I am preparing to make it,";
		mes "you should get me them quickly. Cough, cough!";
		close;
	} else if (mos_nowinter == 6 || mos_nowinter == 7) {
		mes "[Baba Yaga, the Horrible]";
		mes "Ehhh... You came back earlier.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "I'm almost prepared..";
		mes "Did you get";
		mes "all of the items?";
		next;
		setarray .@item[0], 940,20,908,5,7006,20,1061,10,7041,10,1051,1,990,5,7097,10;
		.@size = getarraysize(.@item);
		if (mos_nowinter == 6) {
			setarray .@item[.@size], 938,10;
			.@size += 2;
		}
		for (.@i = 0; .@i < .@size; .@i += 2)
			if (countitem(.@item[.@i]) < .@item[.@i+1]) break;
		if (.@i >= .@size && (countitem(730) || countitem(731) || countitem(732))) {
			for (.@i = 0; .@i < .@size; .@i += 2)
				delitem .@item[.@i],.@item[.@i+1];
			if (countitem(730))
				delitem 730,1;	// Crystal_Jewel
			else if (countitem(731))
				delitem 731,1;	// Crystal_Jewel_
			else if (countitem(732))
				delitem 732,1;	// Crystal_Jewel__
			if (mos_nowinter == 6)
				changequest 18071,18073;
			else
				changequest 18072,18073;
			mos_nowinter = 8;
			mes "[Baba Yaga, the Horrible]";
			mes "Right, you got them all.";
			mes "With this amount.. For some time...";
			mes "No, to make the Secret Medicine,";
			mes "These are enough, cough.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Let me see, we have all";
			mes "that we need...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Ehhhh...";
			mes "Huk!";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Cough, cough, cough!";
			mes "Eh... I mean...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Have you heard the story of";
			mes "a dragon sleeping for a long time?";
			mes "Next thing that I need is";
			mes "something from that dragon, kkkk.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "You can find a funny-shaped bottle";
			mes "in the dragon's lair.";
			mes "It's a gourd bottle that can";
			mes "contain people's speech.";
			mes "I must have this.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "I don't know how strong you are,";
			mes "but I would like to recommend that";
			mes "you avoid fighting that dragon, Kaaaaak~";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Then, release me.";
			mes "I want to do something,";
			mes "...but, my life is the priority. Yes, it is... Cough, cough!";
			close;
		}
		mes "[Baba Yaga, the Horrible]";
		mes "I think";
		mes "I need more, cough, cough!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "I am not able to do";
		mes "anything without them.";
		mes "I am repeating the items in the list,";
		mes "you should get them all, kaaaaak!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "^ff000020 Grasshopper's Legs,";
		mes "5 Spawn,";
		mes "20 Wings Of Red Bat";
		if (mos_nowinter == 6)
			mes "10 Sticky Mucus,";
		mes "10 Witch Starsand^000000...";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "^ff000010 Fine Grit,";
		mes "1 Detonator,";
		mes "5 Red Blood";
		mes "10 Burning Hearts^000000 and";
		mes "a 1, 2, or 3 carat";
		mes "^ff0000Diamond^000000.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Cough, cough.";
		mes "Hu, I talked so much";
		mes "that it hurts me, Kaaaak~";
		close;
	} else if (mos_nowinter == 8) {
		mes "[Baba Yaga, the Horrible]";
		mes "It is very, very hard to return alive";
		mes "from a lair of a dragon";
		mes "without strength and courage.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Unless you want to be killed,";
		mes "you'd better forget";
		mes "the magic gourd bottle, cough!";
		close;
	} else if (mos_nowinter == 9) {
		if (countitem(7761)) {// Magic_Gourd_Bottle
			mes "[Baba Yaga, the Horrible]";
			mes "Akkkk?";
			mes "Did you really bring it";
			mes "from the lair of the dragon...?";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "You are superbly great.";
			mes "I don't know whether";
			mes "you killed the dragon or";
			mes "you just stole it from the dragon,";
			mes "either way I don't care.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "It is great that";
			mes "you've returned alive";
			mes "from the lair of the dragon, cough!";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Here, I told you before that";
			mes "this gourd bottle can";
			mes "contain people's speech";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "The next thing that we have to do";
			mes "is to receive sincere speeches from";
			mes "people with this bottle.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "The important thing is that";
			mes "you cannot force them to speak.";
			mes "For example, you cannot tell them";
			mes "to say 'I don't want winter to come.'";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "You should have them";
			mes "speak naturally.";
			mes "Ah, one more thing that";
			mes "you have to take care to remember.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "You need to have the";
			mes "voices of three people.";
			mes "From a child, a young person and a";
			mes "middle aged person.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "The magic is not just witchcraft";
			mes "This type of magic is effective";
			mes "only by embodying the desires of people.";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Take care of yourself, cough, cough.";
			mos_nowinter = 10;
			changequest 18074,18075;
			close;
		}
		mes "[Baba Yaga, the Horrible]";
		mes "It is very, very hard to return alive";
		mes "from a lair of a dragon";
		mes "without strength and courage.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Unless you want to be killed";
		mes "you'd better forget";
		mes "the magic gourd bottle, cough!";
		close;
	} else if (mos_nowinter == 10) {
		mes "[Baba Yaga, the Horrible]";
		mes "To make the magic,";
		mes "I need you to contain";
		mes "the wish phrase 'I don't want winter to come.'";
		mes "from the three people, kkk.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "But, one thing that you need to remember";
		mes "is, do not force them to say it!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Next,";
		mes "you should contain the word from";
		mes "a child, a young man and a middle aged man.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Well, take care of yourself.";
		mes "Cough, cough, cough!";
		close;
	} else if (mos_nowinter > 10 && mos_nowinter < 14) {
		mes "[Baba Yaga, the Horrible]";
		mes "My place has been revealed, cough, cough.";
		mes "because of you!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "What did you do outside?";
		mes "The soldiers of the Csar are";
		mes "surrounding here so that";
		mes "I cannot go out.";
		close;
	} else if (mos_nowinter == 14) {
		mes "[Baba Yaga, the Horrible]";
		mes "Did you do";
		mes "what I told";
		mes "you to do?";
		next;
		if (!countitem(7761)) {// Magic_Gourd_Bottle
			mes "[Baba Yaga, the Horrible]";
			mes "Where is the Gourd Bottle?";
			mes "I can't do anything without it.";
			mes "Cough, cough!";
			close;
		}
		delitem 7761,1;
		mes "[Baba Yaga, the Horrible]";
		mes "Anyway, give me the bottle and";
		mes "think about";
		mes "what to do, cough!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "This bottle will be";
		mes "used later and now,";
		mes "the last step remains";
		mes "to complete the work.";
		mes "Pass me the book.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "My abilities are deteriorating";
		mes "and magic should only be";
		mes "done by a single person.";
		mes "So, you must compound the materials yourself,";
		mes "kaaaaak!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "I know it is hard to do,";
		mes "but it is the magic that";
		mes "embodies and reveals";
		mes "people's desires.";
		mes "It is useless unless you put your";
		mes "full effort into it, cough!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Ok, you see that book??";
		mes "The letters on the book ";
		mes "are illegible,";
		mes "But you'll be able to read it 'cuz";
		mes "I added comments under the lines for you.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Read carefully and just follow what";
		mes "it tells you.";
		mes "The magic is complete.";
		mes "Do your best,";
		mes "Cough!";
		mos_nowinter = 15;
		close;
	} else if (mos_nowinter == 15 || mos_nowinter == 16) {
		mes "[Baba Yaga, the Horrible]";
		mes "Magic does not come from";
		mes "something mysterious.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "It is your effort";
		mes "that makes magic.";
		mes "There is a saying,";
		mes "if you really want it,";
		mes "it will happen, cough!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Here, according to the book";
		mes "put the materials in the pot and";
		mes "boil them for some time.";
		close;
	} else if (mos_nowinter == 17) {
		mes "[Baba Yaga, the Horrible]";
		mes "Ehmmm...";
		mes "Don't you think that";
		mes "something is wrong?";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Well, try it again.";
		mes "We still have enough materials.";
		mos_nowinter = 16;
		close;
	} else if (mos_nowinter == 18) {
		mes "[Baba Yaga, the Horrible]";
		mes "Let me see, hmm!";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Hmm, this might be your first time, but";
		mes "this is good.";
		mes "You may be talented, kkkk.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "Now then, we are in the final step.";
		mes "I'll put the medicine in the bottle,";
		mes "you break it by dropping it";
		mes "in the center of the town.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "If you do this, what the villagers want";
		mes "will be happening,";
		mes "forever.";
		getitem 7765,1;// Yaga_Secret_Medicine
		mos_nowinter = 19;
		changequest 18077,18078;
		close;
	} else if (mos_nowinter == 19) {
		mes "[Baba Yaga, the Horrible]";
		mes "You just drop the bottle";
		mes "in the middle of the village";
		mes "to break it.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "And then,";
		mes "It doesn't matter to me";
		mes "if you tell the whole town or";
		mes "report to the Csar to be praised.";
		next;
		mes "[Baba Yaga, the Horrible]";
		mes "But, don't come back to me, cough, cough.";
		close;
	}
	mes "[Baba Yaga, the Horrible]";
	mes "Hey,";
	mes "I told you";
	mes "to never come back, cough.";
	next;
	mes "[Baba Yaga, the Horrible]";
	mes "Stop disturbing me.";
	close;

S_BY_1:
	mes "[Baba Yaga, the Horrible]";
	mes "Ah, do you accept?";
	mes "Thank you.";
	next;
	mes "[Baba Yaga, the Horrible]";
	mes "Well, I thank you for your kindness.";
	mes "Let's cooperate and";
	mes "make my Secret Medicine.";
	next;
	mes "[Baba Yaga, the Horrible]";
	mes "Let me see... Ah...";
	next;
	mes "[Baba Yaga, the Horrible]";
	mes "It is not used often.";
	mes "I don't remember";
	mes "where it is.";
	mes "Could you please come back later?";
	mos_nowinter = 5;
	setquest 18070;
	close;

OnTouch:
	if (mos_nowinter == 0 || mos_nowinter == 1) {
		mes "[Baba Yaga, the Horrible]";
		if (countitem(7762) > 39 && BaseLevel > 59) {// Yaga_Pestle
			mos_nowinter = 2;
			mes "Who the hell are you.";
			mes "You want me to kick your ass!";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "No. They are...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "You have our Yaga Pestles!";
			mes "You have so many of them...";
			next;
			mes "[Baba Yaga, the Horrible]";
			mes "Who, who are you?";
			close;
		}
		if (mos_nowinter == 0) {
			mos_nowinter = 1;
			if (countitem(7762) > 39 && BaseLevel < 60) {
				mes "Hohoho~";
				mes "You cannot beat my friends!";
				mes "I don't know where you got";
				mes "those Yaga Pestles, but";
				mes "give them back to me!";
				delitem 7762, rand(1,20);
			}
			else {
				mes "Who the hell are you?";
				mes "You want me to kick your ass!";
			}
		}
		else {
			if (countitem(7762) > 39 && BaseLevel < 60) {
				mes "You, chicken,";
				mes "I need to kick your ass more.";
				next;
				mes "[Baba Yaga, the Horrible]";
				if (Sex == SEX_MALE) {
					mes "I will bewitch";
					mes "and enslave you.";
					mes "Come here, Heeee!";
				} else {
					mes "Recently, I have no appetite.";
					mes "But you will be";
					mes "a good appetizer.";
					mes "Come here, Heeeeeeeee.";
				}
			}
			else {
				mes "I need to kick your ass more.";
				mes "Come here";
				mes "to play a game";
				mes "Heeeeeeeeeeee";
			}
		}
		close2;
		warp "mosk_dun02",53,217;
	}
	end;
}

//----------------------------------------------------------------------------
// Book
//----------------------------------------------------------------------------
mosk_in,217,45,0	script	#book_russia	HIDDEN_NPC,{
	if (mos_nowinter == 15) {
		mes "-Beside the pot,";
		mes "There is an unusually large book.";
		mes "The letters are in disarray and";
		mes "some of them, I can't understand.";
		mes "The comments by Baba Yaga";
		mes "help me read some of them.-";
		next;
		mes "-Ok, time to read it.-";
		next;
		mes "...Therefore, this spell is";
		mes "particularly good among our mighty ones.";
		mes "Usually, the magic is considered";
		mes "as a contract with evil.";
		mes "But, the following is not the power";
		mes "of Hell but of Nature and the spirit of humans.";
		mes "I already told you that this spell";
		mes "has 2 features as follows.";
		mes "First, it changes natural phenomenon.";
		mes "Unlike the idea from foolish scholars,";
		mes "this world is composed of invisible and precise orders.";
		mes "The things that people call";
		mes "miracles are made by stimulating";
		mes "them or simply altering their arrangement.";
		mes "Most of the spells for weather";
		mes "changing are included in them and";
		mes "they require a high level of comprehension.";
		mes "The orders of this world are not simply aligned.";
		mes "It is almost impossible to observe";
		mes "the smallest and detailed part of";
		mes "them and completely understand their structure";
		mes "However, it is not that difficult";
		mes "to repeat the spells that are already made.";
		mes "This thick spell book is for that purpose.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "That? That's just the preface?!";
		next;
		mes "...The second feature is";
		mes "This spell book represents the desire of mankind.";
		mes "Their spirit is so great,";
		mes "sometimes flames in their hearts";
		mes "are embodied and become reality.";
		mes "Now, practice one of the spells for weather.";
		mes "You have to go to a damp and deserted place,";
		mes "and have a pot of melting materials";
		mes "along with the spirit of the caster.";
		mes "The next spells should be conducted";
		mes "through the exact process.";
		mes "If you realize that something is";
		mes "wrong, you'd MUST stop immediately.";
		mes "To prevent the ordinary from";
		mes "abusing the magic,";
		mes "the narratives of the materials are metaphors,";
		mes "but, whoever understands this can";
		mes "read everything in it.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "It just accounts for the spell.";
		mes "What a long preface.";
		mes "I'll mark this spot.";
		mes "so I can easily find the mixing";
		mes "process next time...";
		mos_nowinter = 16;
		next;
		mes "^0000ffSeasonal Magic^000000:^ff0000Eternal Summer^000000";
		mes "First of all, you need to put and";
		mes "mix the first 3 things in a pre-heated pot.";
		mes "The extended arms of those who stalk at night,";
		mes "The rotten mixture of plants and animals,";
		mes "and the limbs of one going forward,";
		mes "who wants to run backward.";
		mes "This first stage should be complete.";
		mes "Just after this stage, the mixture";
		mes "will barely show any alteration.";
		mes "After this, you must add the liquid";
		mes "that aids all life and stir 20 times.";
		mes "At this point you will certainly";
		mes "see its color and smell changing.";
		mes "Remember that if you realize that";
		mes "something is wrong, you must stop and start over.";
		mes "Following these precise steps are";
		mes "most important when working on magic.";
		mes "Next, 2 things must be put in the pot.";
		mes "First, objects that are seen when";
		mes "looking at the night sky.";
		mes "Second the pretty mass of earth,";
		mes "slipping through even when watered.";
		mes "You should check if it's smell has changed.";
		mes "Then stir it well 15 times.";
		mes "It's color will change.";
		mes "The final ingredients will be those";
		mes "that contain heat.";
		mes "You must follow the order.";
		mes "Stones that have the attribute of sun,";
		mes "brains of a marine sphere,";
		mes "the organ of passion,";
		mes "and a stone that cannot be cut.";
		mes "Once the final ingredient is placed in the pot,";
		mes "It will be over.";
		mes "The solution must be sprinkled at";
		mes "the place where you want to affect,";
		mes "the changing of the seasons.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I'll mark this page so that I";
		mes "know where to read next time.";
		close;
	} else if (mos_nowinter == 16) {
		if(select("Read from the preface.:Read from the marked page.") == 1) {
			mes "...Therefore, this spell is";
			mes "particularly good among our mighty ones.";
			mes "Usually, the magic is considered";
			mes "as a contract with evil.";
			mes "But, the following is not the power";
			mes "of Hell but of Nature and the spirit of humans.";
			mes "I already told you that this spell";
			mes "has 2 features as follows.";
			mes "First, it changes natural phenomenon.";
			mes "Unlike the idea from foolish scholars,";
			mes "this world is composed of invisible and precise orders.";
			mes "The things that people call";
			mes "miracles are made by stimulating";
			mes "them or simply altering their arrangement.";
			mes "Most of the spells for weather";
			mes "changing are included in them and";
			mes "they require a high level of comprehension.";
			mes "The orders of this world are not simply aligned.";
			mes "It is almost impossible to observe";
			mes "the smallest and detailed part of";
			mes "them and completely understand their structure";
			mes "However, it is not that difficult";
			mes "to repeat the spells that are already made.";
			mes "This thick spell book is for that purpose.";
			next;
			mes "...The second feature is";
			mes "This spell book represents the desire of mankind.";
			mes "Their spirit is so great,";
			mes "sometimes flames in their hearts";
			mes "are embodied and become reality.";
			mes "Now, practice one of the spells for weather.";
			mes "You have to go to a damp and deserted place,";
			mes "and have a pot of melting materials";
			mes "along with the spirit of the caster.";
			mes "The next spells should be conducted";
			mes "through the exact process.";
			mes "If you realize that something is";
			mes "wrong, you'd MUST stop immediately.";
			mes "To prevent the ordinary from";
			mes "abusing the magic,";
			mes "the narratives of the materials are metaphors,";
			mes "but, whoever understands this can";
			mes "read everything in it.";
			next;
			mes "^0000ffSeasonal Magic^000000:^ff0000Eternal Summer^000000";
			mes "First of all, you need to put and";
			mes "mix the first 3 things in a pre-heated pot.";
			mes "The extended arms of those who stalk at night,";
			mes "The rotten mixture of plants and animals,";
			mes "and the limbs of one going forward,";
			mes "who wants to run backward.";
			mes "This first stage should be complete.";
			mes "Just after this stage, the mixture";
			mes "will barely show any alteration.";
			mes "After this, you must add the liquid";
			mes "that aids all life and stir 20 times.";
			mes "At this point you will certainly";
			mes "see its color and smell changing.";
			mes "Remember that if you realize that";
			mes "something is wrong, you must stop and start over.";
			mes "Following these precise steps are";
			mes "most important when working on magic.";
			mes "Next, 2 things must be put in the pot.";
			mes "First, objects that are seen when";
			mes "looking at the night sky.";
			mes "Second the pretty mass of earth,";
			mes "slipping through even when watered.";
			mes "You should check if it's smell has changed.";
			mes "Then stir it well 15 times.";
			mes "It's color will change.";
			mes "The final ingredients will be those";
			mes "that contain heat.";
			mes "You must follow the order.";
			mes "Stones that have the attribute of sun,";
			mes "brains of a marine sphere,";
			mes "the organ of passion,";
			mes "and a stone that cannot be cut.";
			mes "Once the final ingredient is placed in the pot,";
			mes "It will be over.";
			mes "The solution must be sprinkled at";
			mes "the place where you want to affect,";
			mes "the changing of the seasons.";
			close;
		}
		mes "^0000ffSeasonal Magic^000000:^ff0000Eternal Summer^000000";
		mes "First of all, you need to put and";
		mes "mix the first 3 things in a pre-heated pot.";
		mes "The extended arms of those who stalk at night,";
		mes "The rotten mixture of plants and animals,";
		mes "and the limbs of one going forward,";
		mes "who wants to run backward.";
		mes "This first stage should be complete.";
		mes "Just after this stage, the mixture";
		mes "will barely show any alteration.";
		mes "After this, you must add the liquid";
		mes "that aids all life and stir 20 times.";
		mes "At this point you will certainly";
		mes "see its color and smell changing.";
		mes "Remember that if you realize that";
		mes "something is wrong, you must stop and start over.";
		mes "Following these precise steps are";
		mes "most important when working on magic.";
		mes "Next, 2 things must be put in the pot.";
		mes "First, objects that are seen when";
		mes "looking at the night sky.";
		mes "Second the pretty mass of earth,";
		mes "slipping through even when watered.";
		mes "You should check if it's smell has changed.";
		mes "Then stir it well 15 times.";
		mes "It's color will change.";
		mes "The final ingredients will be those";
		mes "that contain heat.";
		mes "You must follow the order.";
		mes "Stones that have the attribute of sun,";
		mes "brains of a marine sphere,";
		mes "the organ of passion,";
		mes "and a stone that cannot be cut.";
		mes "Once the final ingredient is placed in the pot,";
		mes "It will be over.";
		mes "The solution must be sprinkled at";
		mes "the place where you want to affect,";
		mes "the changing of the seasons.";
		close;
	} else if (mos_nowinter > 14) {
		mes "-This book is the magic book that";
		mes "helped me make the medicine, but,";
		mes "I never want to read it again.-";
		close;
	}
	mes "-It's an unusually large book laid down, open.-";
	close;
}

//----------------------------------------------------------------------------
// Mixing Pot
//----------------------------------------------------------------------------
mosk_in,221,43,0	script	#bowl	HIDDEN_NPC,{
	if (mos_nowinter != 16) end;
	mes "-It is a very dirty pot.";
	mes "Something is boiling";
	mes "Baba Yaga might have done something";
	mes "with it.";
	mes "Well, let's get it started.-";
	next;
	setarray .@menu$[0], "Powder Of Wing Of Bat","Liquid Of Spawn","Grasshopper's Leg","Starsand Of Witch","Fine Grit";
	.@implode$ = implode( .@menu$,":" );
	while( .@nankai < 3 ) {
		mes "-Something is still being boiled in the pot.";
		mes "What am I going to do?-";
		next;
		switch(select("Put the materials in it.:Pour water in it.:Stir it up.:It is over!")) {
			case 1:
				.@m = select( .@implode$ ) -1;
				if ((!.@m && .@bat) || (.@m == 1 && .@mush) || (.@m == 2 && .@locker))
					specialeffect EF_POISONHIT;
				else {
					specialeffect EF_SMOKE;
					if (.@m == 0) .@bat++;
					if (.@m == 1) .@mush++;
					if (.@m == 2) .locker++;
					.@maho++;
				}
				if (.@m >= 3)
					specialeffect EF_POISONHIT;
				.@nankai++;
				mes "-I put the "+ .@menu$[.@m] +" in the pot.";
				mes "Its smell slightly changes.-";
				break;
			case 2:
				specialeffect EF_POISONHIT;
				.@nankai++;
				mes "-I pour water in the pot a little.";
				mes "The liquid has become thin.";
				mes "No other remarkable changes";
				mes "have happened.-";
				break;
			case 3:
				specialeffect EF_POISONHIT;
				.@nankai++;
				mes "-I stir it up";
				mes "with a stick several times.";
				mes "No other remarkable changes";
				mes "have happened.-";
				break;
			case 4:
				specialeffect EF_POISONATTACK;
				mes "["+strcharinfo(0)+"]";
				mes "I will tell Baba Yaga that";
				mes "the work has been done.";
				mos_nowinter = 17;
				close;
		}
		next;
	}
	specialeffect EF_BUBBLE;
	mes "-The liquid has been changed";
	mes "and is now bubbling.";
	mes "It seems to have shrunk,";
	mes "but not by much.-";
	next;
	mes "-Anyway, the first step is done";
	mes "let's go on the next stage.-";
	next;
	while( .@nankai < 7 ) {
		mes "-Well, What am I going to do?-";
		next;
		switch(select("Put the materials in it.:Pour water in it.:Stir it up.:It is over!")) {
		case 1:
			.@w = 0;
			.@m = select( implode( .@menu$,":" ) ) -1; 
			if (.@m >= 3) {
				if (.@nankai == 5 || .@nankai == 6) {
					if ((.@m == 3 && .@star) || (.@m == 4 && .@sand))
						specialeffect EF_POISONHIT;
					else {
						specialeffect EF_SMOKE;
						.@maho++;
						if (.@m == 3) .@star++;
						if (.@m == 4) .@sand++;
						.@w = 1;
					}
				} else {
					specialeffect EF_POISONHIT;
					if (.@m == 3) .@star++;
					if (.@m == 4) .@sand++;
				}
				next;
			}
			else
				specialeffect EF_POISONHIT;
			.@nankai++;
			mes "-I put the "+ .@menu$[.@m] +" in the pot.";
			if (.@m <= 2)
				mes "It's smell drastically changes.-";
			else
				mes "Its "+ ( .@w ? "smell" : "color" ) +" slightly changes.-";
			break;
		case 2:
			if (.@nankai == 3) {
				mes "-I pour water in the pot a little.";
				mes "The boiling sounds stronger as if";
				mes "something in the cloudy liquid";
				mes "has changed.-";
				specialeffect EF_DRAGONSMOKE;
				.@maho++;
			} else {
				specialeffect EF_POISONHIT;
				mes "-I pour water in the pot and, the liquid gets thin.-";
			}
			.@nankai++;
			break;
		case 3:
			if (.@nankai == 4) {
				mes "["+strcharinfo(0)+"]";
				mes "Ok, I will stir it up this time.";
				mes "How many times should I..?";
				next;
				input .@input;
				if (.@input == 20) {
					mes "-It must be 20 times.-";
					next;
					specialeffect EF_WIND;
					mes "-Stirring up makes it";
					mes "brighter and";
					mes "its smell gets";
					mes "more bearable.";
					.@maho++;
					.@nankai++;
				} else if (!.@input)
					mes "-I won't stir it up.-";
				else if (.@input > 100) {
					mes "-It won't be able";
					mes "to stir so many times.";
					mes "Let me think again.-";
				} else {
					mes "-Yes, it must be " + .@input + " times.-";
					next;
					mes "-I stir it up really hard.";
					mes "It is boiled.-";
					.@nankai++;
				}
			} else {
				mes "-Bubble, bubble-";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Something changed?";
				.@nankai++;
			}
			break;
		case 4:
			mes "["+strcharinfo(0)+"]";
			mes "I will tell Baba Yaga that";
			mes "it has been done.";
			mos_nowinter = 17;
			specialeffect EF_POISONATTACK;
			close;
		}
		next;
	}
	mes "-I am sure that the book told me";
	mes "to wait for some time.-";
	next;
	mes "............";
	next;
	mes "............";
	next;
	mes "-The smell of the liquid boiling in";
	mes "the pot has changed enough.";
	mes "Let's go on to the next stage.-";
	next;
	setarray .@menu2$, "Witched Starsand","Fine Grit","Detonator","Red Blood","Burning Heart";
	setarray .@menu3$, "Witched Starsand","Fine Grit","Detonator","Red Blood","Burning Heart","Piece Of Diamond";
	.@implode2$ = implode( .@menu2$,":" );
	.@implode3$ = implode( .@menu3$,":" );
	while(1) {
		mes "-Well, What am I going to do?-";
		next;
		switch(select("Put the materials in it.:Pour water in it.:Stir it up.:It is over!")) {
			case 1:
				.@w = 0;
				if (.@nankai != 11) {
					.@m = select( .@implode2$ ) -1;
					if ((.@m == 2 && .@nankai == 9) || (.@m == 3 && .@nankai == 8) || (.@m == 4 && .@nankai == 10)) {
						specialeffect EF_SMOKE;
						.@maho++;
					} else {
						specialeffect EF_POISONHIT;
						.@w = 1;
					}
					if (.@m <= 1)
						specialeffect EF_POISONHIT;
					.@nankai++;
					mes "-I put the "+ .@menu2$[.@m] +" in the pot.";
					if (.@m <= 1)
						mes "Its smell slightly changes.-";
					else
						mes ( .@w ? "The smell gets worse.-" : "The smell has been changed a little.-" );
				} else {
					.@m = select( .@implode3$ ) -1;
					if (.@m != 5)
						specialeffect EF_POISONHIT;
					else {
						.@maho++; 
						specialeffect EF_SMOKE; 
					}
					.@nankai++;
					mes "-I put "+((.@m == 5)?"a":"the")+" "+ .@menu3$[.@m] +" in the pot.";
					if (.@m == 5)
						mes "The solution alters in color.-";
					else
						mes "The smell gets worse.-";
				}
				break;
			case 2:
				.@nankai++;
				mes "-I pour water in the pot a little.";
				mes "The smell gets better.-";
				break;
			case 3:
				if (.@nankai == 7) {
					mes "["+strcharinfo(0)+"]";
					mes "Ok, I will stir it up this time.";
					mes "How many times should I...?";
					next;
					input .@input;
					if (.@input == 15) {
						mes "-It must be 15 times.-";
						next;
						specialeffect EF_WIND;
						mes "-Stirring up makes it";
						mes "brighter.-";
						.@maho++;
						.@nankai++;
					} else if (.@input == 0)
						mes "-I won't stir it up.-";
					else if (.@input > 100) {
						mes "-It won't be to";
						mes "stir so many times.";
						mes "Let me think again.-";
					} else {
						mes "-Yes, it must be " + .@input + " times.-";
						next;
						mes "-I stir it up really hard.";
						mes "It is boiled.-";
						.@nankai++;
					}
				} else {
					mes "-Bubble, bubble-";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Something changed?";
					.@nankai++;
				}
				break;
			case 4:
				mes "-It seems that the work is over.";
				mes "I need to show this to Baba Yaga.-";
				if (.@maho == 12) {
					mos_nowinter = 18;
					specialeffect EF_GASPUSH;
					close;
				}
				specialeffect EF_POISONATTACK;
				mos_nowinter = 17;
				close;
		}
		next;
	}
}

//----------------------------------------------------------------------------
// Center of Town
//----------------------------------------------------------------------------
moscovia,224,190,0	script	#nowinterplz	CLEAR_NPC,{
	if (mos_nowinter != 19) end;
	if (countitem(7765)) {// Yaga_Secret_Medicine
		mes "["+strcharinfo(0)+"]";
		mes "This place must be";
		mes "the center of town...";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ok, let's do it!";
		next;
		mes "-I drop the magic bottle";
		mes "containing Baba Yaga's";
		mes "Secret Medicine.-";
		delitem 7765,1;
		specialeffect EF_BARRIER;
		mos_nowinter = 20;
		changequest 18078,18079;
		next;
		mes "-You feel like your";
		mes "body is heating up.";
		mes "It's much hotter";
		mes "than before.-";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I'm sure that the season has changed";
		mes "But how can I confirm this?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "First I'm going to see the Csar.";
		mes "He would like to hear about this.";
		close;
	}
	mes "["+strcharinfo(0)+"]";
	mes "Ah, where did I place";
	mes "the magic bottle that Baba Yaga gave to me...";
	close;
}

//----------------------------------------------------------------------------
// Villagers
//----------------------------------------------------------------------------
moscovia,252,203,5	script	A Little Girl#mos1	4_F_RUSCHILD,{
	if (mos_nowinter == 10) {
		if (mos_kid == 0) {
			.@kid = rand(1,100);
			select("Do you like the warm weather, little girl?");
			mes "[Yosefina]";
			if (.@kid > 70) {
				mes "Yes, I like it very much~";
				mes "I never want it to leave. I don't want winter to come.";
				specialeffect2 EF_SUMMONSLAVE;
				mos_kid = 1;
				if (mos_middle == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Yes, I like it very much~";
			mes "But, as soon as the sun sets I must go back home.";
			next;
			mes "[Yosefina]";
			mes "Baba Yaga kidnaps";
			mes "bad kids wandering";
			mes "in the night, I heard.";
			close;
		}
	}
	mes "[Yosefina]";
	mes "Baba Yaga, the Horrible Cannibal";
	mes "is living outside the town.";
	next;
	mes "[Yosefina]";
	mes "My mom told me.";
	mes "that she is real.";
	close;
}

moscovia,233,204,3	script	A Young Man#mos2	4_M_RUSMAN2,{
	if (mos_nowinter == 10) {
		if (mos_middle == 0) {
			select("You don't like winter, do you?");
			.@kid = rand(1,100);
			mes "[Fedor]";
			if (.@kid > 70) {
				mes "No, I don't like the cold winter.";
				mes "And I get angry when";
				mes "seeing couples.";
				specialeffect2 EF_SUMMONSLAVE;
				mos_middle = 1;
				if (mos_kid == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Huuuu, I wish I could have a girlfriend";
			mes "I would be able to enjoy the warm sunlight better...";
			next;
			mes "[Fedor]";
			mes "Who are you?";
			mes "Don't make matters worse!";
			close;
		}
	}
	mes "[Fedor]";
	mes "Finally, winter is over.";
	mes "Spring is coming";
	mes "to my mind...";
	close;
}

moscovia,219,229,5	script	A Middle-Aged Man#mos3	4_M_RUSBALD,{
	if (mos_nowinter == 10) {
		if (mos_elder == 0) {
			select("Whoever likes the winter?");
			mes "[Viktor]";
			if (rand(1,100) > 70) {
				mes "Tell me about it!";
				mes "Everyone will be sad";
				mes "when it comes again.";
				mes "I don't want winter to come.";
				specialeffect2 EF_SUMMONSLAVE;
				mos_elder = 1;
				if (mos_kid == 1 && mos_middle == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Hmm, do you think so...";
			mes "I am too familiar with both";
			mes "summer and winter to care much for";
			mes "one over the other.";
			close;
		}
	}
	mes "[Viktor]";
	mes "Our people are very, very";
	mes "proud of their strength and";
	mes "invincible spirits.";
	next;
	mes "[Viktor]";
	mes "It doesn't matter to us";
	mes "how cold the winter is!";
	close;
}

moscovia,255,203,3	script	A Little Boy#mos4	4_M_RUSCHILD,{
	mes "[Vasili]";
	mes "Wow, he is";
	mes "an adventurer, an adventurer!!";
	next;
	if (mos_nowinter == 10) {
		if (mos_kid == 0) {
			mes "[Vasili]";
			mes "Why did you come here?";
			mes "Don't you have any colleague?";
			mes "I heard that the heroes in epics were tall,";
			mes "but, why are you so small?";
			mes "Where is your gold-shining sword?";
			mes "I heard that the armor glittered white,";
			mes "but, why don't you have on the armor?";
			mes "Won't you go for another adventure?";
			mes "How can you do it in the cold and snowy winter?";
			next;
			select("I will go if it gets warm.");
			mes "[Vasili]";
			if (rand(1,100) > 70) {
				mes "Will you? I will also";
				mes "go out for adventures";
				mes "with shining armor and";
				mes "a long and heavy sword";
				mes "some day.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Vasili]";
				mes "If winter is gone,";
				mes "it is much easier to go on adventures.";
				mos_kid = 1;
				if (mos_middle == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Ah, when are you leaving?";
			mes "Where are you going this time?";
			next;
			mes "[Vasili]";
			mes "Will you go to slay the dragon,";
			mes "that breathes fire and can";
			mes "exterminates 10 men by flapping";
			mes "its wings once?";
			close;
		}
	}
	mes "[Vasili]";
	mes "Tell me your exciting story.";
	mes "Have you fought a dragon?";
	mes "Where is your gold-shining sword and shield?";
	mes "Where?";
	close;
}

moscovia,204,188,5	script	A Lady#mos5	4_F_RUSWOMAN1,{
	if (mos_nowinter == 10) {
		if (mos_middle == 0) {
			select("You look good today.");
			mes "[Katya]";
			if (rand(1,100) > 70) {
				mes "Yes, I feel good.";
				mes "When it gets warm, sunflowers bloom.";
				mes "The sunflower is the symbol";
				mes "of this province.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Katya]";
				mes "I wish that winter never comes back and";
				mes "I could see sunflowers everyday.";
				mos_middle = 1;
				if (mos_kid == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Yes, I feel good.";
			mes "When it gets warm, sunflowers bloom.";
			mes "The sunflower is the symbol";
			mes "of this province.";
			close;
		}
	}
	mes "[Katya]";
	mes "The spring has come~";
	next;
	mes "[Katya]";
	mes "A million sunflowers are blooming~";
	close;
}

moscovia,167,97,3	script	A Lady#mos6	4_F_RUSWOMAN3,{
	if (mos_nowinter == 10) {
		if (mos_elder == 0) {
			select("The weather is getting warmer.");
			mes "[Roza]";
			if (rand(1,100) > 70) {
				mes "Yes, kids like it and";
				mes "flowers are blooming.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Roza]";
				mes "Whoever likes the cold and dark winter?";
				mes "I hope this weather last forever.";
				mos_elder = 1;
				if (mos_kid == 1 && mos_middle == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "In the warm days,";
			mes "I'm in trouble.";
			mes "It's too hard to control";
			mes "the children.";
			next;
			mes "[Roza]";
			mes "I think";
			mes "I need winter again.";
			close;
		}
	}
	mes "[Roza]";
	mes "Naughty children get too";
	mes "excited in the warm days.";
	next;
	mes "[Roza]";
	mes "Where is the sun?";
	mes "Where is it hiding?";
	close;
}

moscovia,202,102,3	script	A Little Boy#mos7	4_M_RUSCHILD,{
	if (mos_nowinter == 10) {
		if (mos_kid == 0) {
			select("Do you like mysterious stories?");
			mes "[Feliks]";
			if (rand(1,100) > 70) {
				mes "Yes, I love them.";
				mes "But, in winter,";
				mes "nobody comes out of their homes.";
				mes "So it's not very fun.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Feliks]";
				mes "If winter never comes";
				mes "I can have";
				mes "fun all the time...";
				mos_kid = 1;
				if (mos_middle == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Yes, my Grandma told me";
			mes "fairy-tales.";
			mes "The winter is cold, but";
			mes "it is fun to hear them.";
			close;
		}
	}
	mes "[Feliks]";
	mes "This is the story";
	mes "about a terrible dragon.";
	next;
	mes "[Feliks]";
	mes "It is sleeping";
	mes "in its lair,";
	mes "but, it destroys everything";
	mes "around it when it awakes.";
	next;
	mes "[Feliks]";
	mes "This came from my grandma's";
	mes "grandma's grandma's";
	mes "grandma's grandma's";
	mes "grandma's grandma.";
	close;
}

moscovia,220,172,3	script	A Young Man#mos8	4_M_RUSMAN2,{
	mes "[Ilyav]";
	mes "I am going to adventure";
	mes "to experience new worlds";
	mes "as you do.";
	if (mos_nowinter == 10) {
		if (mos_middle == 0) {
			next;
			select("When do you feel good?");
			mes "[Ilyav]";
			if (rand(1,100) > 70) {
				mes "When the weather is as good as recently";
				mes "I feel an impulse to adventure";
				mes "many times a day.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Ilyav]";
				mes "But, I don't want to in the cold winter.";
				mes "Hu, if the weather everday was as good as lately,";
				mes "I would like to go out a lot more.";
				mes "I hate winter...";
				mos_middle = 1;
				if (mos_kid == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Well...";
			mes "I don't know.";
			mes "I just am sometimes.";
		}
	}
	close;
}

moscovia,253,175,3	script	A Man#mos9	4_M_RUSBALD,{
	if (mos_nowinter == 10) {
		if (mos_elder == 0) {
			select("What do you usually do in winter?");
			mes "[Orek]";
			if (rand(1,100) > 70) {
				mes "It is too cold in winter so I don't go outside.";
				mes "There's so much snow that it makes it hard to go";
				mes "around here and there.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Orek]";
				mes "In winter, fishing is more difficult,";
				mes "anyway, it is bad for us.";
				mes "I think it would be ok if we never had winter again.";
				mos_elder = 1;
				if (mos_kid == 1 && mos_middle == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "It snows a lot in winter and";
			mes "gets too cold.";
			mes "So, we don't go outside";
			mes "without a particular reason.";
			next;
			mes "[Orek]";
			mes "My family just sits beside the pechka and talks,";
			mes "hoping that winter passes by soon.";
			close;
		}
	}
	mes "[Orek]";
	mes "The present Csar is a bit strict and";
	mes "terrible, but";
	mes "he actually loves";
	mes "his people.";
	close;
}

moscovia,168,135,3	script	A Lady#mos10	4_F_RUSWOMAN3,{
	mes "[Kyra]";
	mes "I've seen many people";
	mes "from other provinces recently.";
	next;
	mes "[Kyra]";
	mes "This used to not";
	mes "be a tourist town.";
	mes "What happened...?";
	if (mos_nowinter == 10) {
		if (mos_elder == 0) {
			next;
			select("Here it is warm and good.");
			mes "[Kyra]";
			if (rand(1,100) > 70) {
				mes "Hohoho, that may be true now.";
				mes "But, you don't even know how cold it gets here in winter.";
				mes "You wouldn't even want to go outside.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Kyra]";
				mes "It is good to stay with my family, but";
				mes "nobody likes the cold winter.";
				mos_elder = 1;
				if (mos_kid == 1 && mos_middle == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Hohoho, that may be true now.";
			mes "But, you don't even know how cold it gets here in winter.";
			mes "You wouldn't even want to go outside.";
		}
	}
	close;
}

moscovia,192,80,3	script	A Lady#mos11	4_F_RUSWOMAN1,{
	mes "[Sabina]";
	mes "Sunflowers are squeezed for oil and";
	mes "their bodies are used for medicinal purposes.";
	mes "They are very useful.";
	if (mos_nowinter == 10) {
		if (mos_middle == 0) {
			next;
			select("When do sunflowers bloom?");
			mes "[Sabina]";
			if (rand(1,100) > 70) {
				mes "They start to bloom";
				mes "from the late summer.";
				mes "You cannot help being";
				mes "attracted to sunflowers,";
				mes "if you see the spectacular scene";
				mes "of a field filled up with them.";
				next;
				mes "[Sabina]";
				mes "If the summer continues to last,";
				mes "I can see them all the time...";
				specialeffect2 EF_SUMMONSLAVE;
				mos_middle = 1;
				if (mos_kid == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "They start to bloom";
			mes "from the late summer.";
			mes "You cannot help being";
			mes "attracted to sunflowers,";
			mes "if you see the spectacular scene";
			mes "of a field filled up with them.";
		}
	}
	close;
}

moscovia,211,215,5	script	A Young Man#mos12	4_M_RUSMAN1,{
	mes "[Izlof]";
	mes "There is a old saying,";
	mes "'an opportunity is a chance.'";
	next;
	mes "[Izlof]";
	mes "It is best to confess";
	mes "to ladies in the warm weather,";
	mes "when their minds wander";
	mes "right now!";
	if (mos_nowinter == 10) {
		if (mos_middle == 0) {
			next;
			select("It's good to have warm weather.");
			mes "[Izlof]";
			if (rand(1,100) > 70) {
				mes "Of course.";
				mes "From now on, it is my golden age of opportunity!";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Izlof]";
				mes "If it is the summer all the time,";
				mes "my life will be in an amorous mood.";
				mes "Hahaha!";
				mes "I don't want winter to come.";
				mos_middle = 1;
				if (mos_kid == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Of course.";
			mes "The cold winter has gone.";
			mes "From now on, it is my golden age!";
		}
	}
	close;
}

moscovia,149,112,3	script	A Man#mos13	4_M_RUSBALD,{
	mes "[Lev]";
	mes "I was once like you,";
	mes "with a hot heart and cool reason,";
	mes "adventuring everywhere and";
	mes "coping with all the troubles...";
	if (mos_nowinter == 10) {
		if (mos_elder == 0) {
			next;
			select("You need to take a rest.");
			mes "[Lev]";
			if (rand(1,100) > 70) {
				mes "Yes, under the warm sunlight,";
				mes "I like to rest.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Lev]";
				mes "I hope that this warm weather";
				mes "will last forever.";
				mes "I hate the cold winter.";
				mos_elder = 1;
				if (mos_kid == 1 && mos_middle == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Yes, under the warm sunlight,";
			mes "I like to rest.";
			next;
			mes "[Lev]";
			mes "But, I am still alive!";
			mes "I don't want to hear talk";
			mes "like that from you.";
		}
	}
	close;
}

moscovia,196,71,3	script	A Young Man#mos14	4_M_RUSMAN2,{
	mes "[Fredek]";
	mes "The men here grow up";
	mes "after going through tough waves in";
	mes "the vast sea";
	if (mos_nowinter == 10) {
		if (mos_middle == 0) {
			next;
			select("However, if winter comes...");
			mes "[Fredek]";
			if (rand(1,100) > 70) {
				mes "Yes, in winter the";
				mes "sea is frozen, so it";
				mes "is impossible to sail.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Fredek]";
				mes "I hope that winter never comes.";
				mes "It is my dream.";
				mos_middle = 1;
				if (mos_kid == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Although I won't be able";
			mes "to sail, my passion is not";
			mes "cooled down from winter.";
			close;
		}
	}
	next;
	mes "[Fredek]";
	mes "Do you like";
	mes "sailing?";
	close;
}

moscovia,234,168,5	script	A Man#mos15	4_M_RUSBALD,{
	mes "[Gavrel]";
	mes "Don't you think that the castle is magnificent?";
	mes "It was built by my great great grandfather.";
	if (mos_nowinter == 10) {
		if (mos_elder == 0) {
			next;
			mes "[Gavrel]";
			mes "It is very strong and";
			mes "it is warm inside of it.";
			mes "I am very proud of it.";
			next;
			select("Is it cold much in winter?");
			mes "[Gavrel]";
			if (rand(1,100) > 70) {
				mes "Yes, it is very cold.";
				mes "If you didn't prepare,";
				mes "it would be hard for you.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Gavrel]";
				mes "It would be a lot better";
				mes "if winter never came again.";
				mes "But, design of coldness is";
				mes "winter itself, isn't it?";
				mos_elder = 1;
				if (mos_kid == 1 && mos_middle == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Yes, it is very cold.";
			mes "If you didn't prepare,";
			mes "it would be hard for you.";
		}
	}
	close;

}

moscovia,228,80,3	script	A Little Boy#mos16	4_M_RUSCHILD,{
	if (mos_nowinter == 10) {
		if (mos_kid == 0) {
			select("Do you like summer?");
			mes "[Rurik]";
			if (rand(1,100) > 70) {
				mes "Ah, move a bit to the side.";
				mes "a bit more... Yes.";
				mes "Ah, stop there.";
				next;
				mes "[Rurik]";
				mes "I certainly like the summer.";
				mes "Unless the sunlight is too strong,";
				mes "it is much better than the cold winter.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[Rurik]";
				mes "By the way, what is this for?";
				mes "It is natural to like the summer.";
				mes "Do you think";
				mes "the winter should come again?";
				mos_kid = 1;
				if (mos_middle == 1 && mos_elder == 1) {
					mos_nowinter = 11;
					changequest 18075,18076;
				}
				close;
			}
			mes "Sure, I like the summer.";
			mes "Why are you asking";
			mes "such a question so suddenly?";
			close;
		}
	}
	mes "[Rurik]";
	mes "It's hard to look up at you.";
	mes "Come lower so I can see your eyes.";
	next;
	mes "[Rurik]";
	mes "Hmm, that's better.";
	mes "Children are the future.";
	mes "I won't have a future if I fall";
	mes "back and hurt my neck";
	mes "while looking up at you.";
	close;
}

//----------------------------------------------------------------------------
// Magic Bottle
//----------------------------------------------------------------------------
mosk_dun03,225,233,0	script	Pile of skeletons#Magic	HIDDEN_NPC,5,5,{
	if (mos_nowinter == 8) {
		mes "-There are ugly skulls";
		mes "all over here but, ";
		mes "this is the only place that I can stay.-";
		next;
		mes "-Get closer to see";
		mes "more carefully.-";
		close;
	}
	mes "-The ugly skulls are gathered.-";
	close;

OnTouch:
	if (mos_nowinter == 8) {
		mes "-She said that the Magic Gourd Bottle that";
		mes "can hold people's speech";
		mes "is around here.-";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "This is probably the only place";
		mes "where the bottle is hidden,";
		mes "but there are bones all over.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Anyway, why am I here?";
		mes "It would be trouble if";
		mes "the dragon came back...";
		next;
		while(1) {
			if(select("Look for it.:I will try next time.") == 1) {
				if (BaseClass == Job_Thief) {
					mes "["+strcharinfo(0)+"]";
					mes "Here it is.";
					mes "That was easy to find.";
					mos_nowinter = 9;
					getitem 7761,1;
					changequest 18073,18074;
					close;
				}
				if (rand(1,20) > 14) {
					mes "["+strcharinfo(0)+"]";
					mes "Ah, I got it!";
					mes "I better get out of here quickly.";
					mos_nowinter = 9;
					getitem 7761,1;// Magic_Gourd_Bottle
					changequest 18073,18074;
					close;
				}
				mes "............";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Where the hell is it?!";
				mes "It has to be in here somewhere!";
				next;
			}
			mes "["+strcharinfo(0)+"]";
			mes "I will try later.";
			close;
		}
	}
}

// Shafka Hat :: mos_whale_edq
//============================================================
moscovia,211,93,3	script	Irina#edq	4_F_RUSCHILD,{
	if (!checkweight(1201,1)) {
		mes "Wait a moment!!";
		mes "You have too many items.";
		mes "You can't receive this.";
		mes "Lighten your weight and";
		mes "try again.";
		close;
	}
	mes "[Irina]";
	mes "Hello, foreign traveler!";
	mes "Have you had good day";
	mes "in Moscovia?";
	next;
	mes "[Irina]";
	mes "A special souvenir for visiting Moscovia...?";
	next;
	mes "[Irina]";
	mes "For you, let's make a Shafka hat.";
	mes "The Shafka has practicality and";
	mes "it's spruce! Do you want one?";
	next;
	if(select("Learn about the Shafka.:Make a Shafka hat.") == 1) {
		mes "[Irina]";
		mes "When I look at you, you seem to";
		mes "want to put on something of a thick";
		mes "fur hat on your head, out in this";
		mes "temperature. A Shafka!";
		next;
		mes "[Irina]";
		mes "If you've come here for the first";
		mes "time, you might not know... that";
		mes "winter here is famous for being so";
		mes "long and cold in Moscovia.";
		next;
		mes "[Irina]";
		mes "A Shafka hat is especially";
		mes "necessary to live here during the";
		mes "cold seasons. Without this hat, you";
		mes "may not endure a winter!";
		next;
		mes "[Irina]";
		mes "Now, the long, long winter has";
		mes "ended and the sun is shining... But";
		mes "someday the winter will come again.";
		mes "So, for preparation, you should";
		mes "keep a Shafka hat handy.";
		next;
		mes "[Irina]";
		mes "Don't worry about keeping warm if";
		mes "you're wearing a Shafka hat. Even";
		mes "during the coldest weather... You";
		mes "can roll around in the snow and the";
		mes "Shafka still keeps you warm!";
		close;
	}
	mes "[Irina]";
	mes "Do you want to make a Shafka hat?";
	mes "Heheh. Good idea!";
	mes "That's a good task.";
	mes "You will be grateful forever.";
	next;
	mes "[Irina]";
	mes "If you bring the materials,";
	mes "we can make one immediately!";
	mes "The materials are: ^0000FFNine Tails 20, Yarn 10, Soft Silk 10, Sea-otter Fur 20, Spool 1^000000.";
	if (isbegin_quest(18121) == 0)
		setquest 18121;
	next;
	if (countitem(1022) > 19 && countitem(7038) > 9 && countitem(7166) > 9 && countitem(7065) > 19 && countitem(7217)) {
		mes "[Irina]";
		mes "You did well.";
		mes "Give me the materials. I will make the Shafka.";
		next;
		delitem 1022,20; //Fox_Tail
		delitem 7038,10; //Yarn
		delitem 7166,10; //Soft_Silk_Cloth
		delitem 7065,20; //Sea_Otter_Leather
		delitem 7217,1; //Spool
		getitem 5243,1; //Chullos
		completequest 18121;
		mes "[Irina]";
		mes "Good, I made it. So, how about it?";
		mes "Do you like it?";
		next;
		mes "[Irina]";
		mes "If you need a Shafka hat,";
		mes "come to me whenever,";
		mes "with the materials.";
		mes "I will make it.";
		next;
		mes "[Irina]";
		mes "Okay?";
		mes "Okay, so... Bye-bye!~";
		close;
	}
	mes "[Irina]";
	mes "Ah... You lack some materials. We";
	mes "can't make the Shafka hat with just";
	mes "these materials.";
	next;
	mes "[Irina]";
	mes "If you bring the right materials, I";
	mes "will make a Shafka immediately.";
	next;
	mes "[Irina]";
	mes "The materials are: ^0000FFNine Tails 20, Yarn 10, Soft Silk 10, Sea-otter Fur 20, Spool 1^000000.";
	close;
}

// Koshei the Immortal :: mos_request
//============================================================

//----------------------------------------------------------------------------
// Sage - Starting Point
//----------------------------------------------------------------------------
mosk_fild02,198,252,3	script	Sage#rus01	4_M_SAGE_C,{
	if (!rhea_rus_main) {
		mes "[Sage]";
		mes "Ah, a foreigner,";
		mes "you're not from";
		mes "around here are you?";
		mes "It's nice to meet you!";
		next;
		mes "[Sage]";
		mes "I've heard stories of the many adventurers from your lands. But, I haven't been able to talk with them much because they were always busy.";
		next;
		if(select("Sorry, but I'm busy.....:Ok, let's talk.") == 1) {
			mes "[Sage]";
			mes "Ah, you are...";
			mes "I just wanted to hear about news from other lands...";
			next;
			mes "[Sage]";
			mes "Sorry to bother you. You have a good trip.";
			close;
		}
		mes "[Sage]";
		mes "I've heard that interesting creatures inhabit your lands. Could you please tell me about at least one of them?";
		next;
		select("Show him a Poring Card");
		mes "["+ strcharinfo(0) +"]";
		mes "This is a card of one of the monsters that inhabit the Midgard continent.";
		next;
		if (!countitem(4001)) {
			mes "[Sage]";
			mes "...?!";
			mes "What are you talking about?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "I mean, this card.............";
			mes "..................Ehhh?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Ah.. haha.. where is it?!";
			mes "W, wait.. I've got one somewhere!";
			close;
		}
		mes "[Sage]";
		mes "Hooh, it is.. I can't believe this is real.";
		mes "Thank you for showing me this.";
		next;
		mes "[Sage]";
		mes "By the way, do you like this place?";
		next;
		mes "[Sage]";
		mes "Now, that winter has passed and summer is coming the weather is great. And I know that winter comes every year, but I always pray that it won't return again.";
		next;
		mes "[Sage]";
		mes "After the passing of winter, the summer weather has made the forest dense and the air so warm. My favorite season will always be summer.";
		next;
		mes "[Sage]";
		mes "But, don't forget that you should still be careful. Lots of adventurers were lost in the forst in front of us.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Have any of the adventurers returned?";
		next;
		mes "[Sage]";
		mes "Only one has come back and told me of a mysterious stone, where the road splits into three, that curses those who touch it so I've been keeping away from it.";
		next;
		mes "[Sage]";
		mes "But, don't worry about me. I know my way around here and am not afraid of monsters, haha.";
		rhea_rus_main = 1;
		// setquest 8136;
		close;
	}
	mes "[Sage]";
	mes "Now, that winter has passed and summer is coming the weather is great. And I know that winter comes every year, but I always pray that it won't return again.";
	next;
	mes "[Sage]";
	mes "After the passing of winter, the summer weather has made the forest dense and the air so warm. My favorite season will always be summer.";
	next;
	mes "[Sage]";
	mes "But, don't forget that you should still be careful. Lots of adventurers were lost in the forst in front of us.";
	next;
	mes "[Sage]";
	mes "Only one has come back and told me of a mysterious stone, where the road splits into three, that curses those who touch it so I've been keeping away from it.";
	next;
	mes "[Sage]";
	mes "Me? Haha, don't worry about me. I know my way around here and am not afraid of monsters, haha.";
	close;
}

//----------------------------------------------------------------------------
// Mysterious Stone
//----------------------------------------------------------------------------
mosk_dun01,169,162,0	script	Mysterious Stone#rus02	HIDDEN_NPC,{
	if (!rhea_rus_main) {
		mes "- The road forks here -";
		close;
	} else if (rhea_rus_main < 3) {
		mes "- Words are engraved -";
		mes "- on the stone -";
		next;
		mes "- Right path -> Drain -";
		mes "- Left path -> Curse -";
		mes "- Middle -> ? -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...Where should I go?";
		next;
		switch(select("Right:Left:Middle")) {
			case 1:
				mes "["+ strcharinfo(0) +"]";
				mes "...What about the right...";
				next;
				mes "- You decide to go to the right -";
				next;
				mes "- !!!!!! -";
				percentheal -50,-50;
				specialeffect2 EF_DARKBREATH;
				specialeffect2 EF_HIT2;
				emotion ET_HUK, playerattached();
				next;
				mes "- An unknown force has -";
				mes "- drained your health -";
				close2;
				warp "mosk_dun01",190,47;
				end;
			case 2:
				mes "["+ strcharinfo(0) +"]";
				if (!checkriding()) {
					mes "...What about the left...?";
					next;
					mes "- You decide to go to the left -";
					next;
					mes "- !!!!!! -";
					emotion ET_HUK, playerattached();
					next;
					mes "- An unknown force has -";
					mes "- cursed your body -";
				}
				else {
					mes "...What about the left...?";
					next;
					mes "- You decide to go to the left -";
					next;
					mes "- !!!!!! -";
					emotion ET_HUK, playerattached();
					next;
					mes "- Your trusty Pecopeco senses -";
					mes "- an unknown force and tries -";
					mes "- to run away!! -";
					setriding 0;
				}
				sc_start SC_CURSE,60000,0;
				close2;
				warp "mosk_dun01",190,47;
				end;
			case 3:
				mes "["+ strcharinfo(0) +"]";
				mes "...What about the middle...?";
				next;
				mes "- You move forward -";
				mes "- toward the middle -";
				next;
				mes "- !!!!!! -";
				emotion ET_HUK, playerattached();
				donpcevent "Gray Wolf#rus03::OnEnable";
				rhea_rus_main = 2;
				// if (isbegin_quest(8136))
					// changequest 8136,8137;
				close;
		}
	} else if (rhea_rus_main == 3 || rhea_rus_main == 4) {
		mes "- Words are engraved -";
		mes "- on the stone -";
		next;
		mes "- Right path -> Drain -";
		mes "- Left path -> Curse -";
		mes "- Middle -> ? -";
		next;
		mes "- You carefully read the stone -";
		mes "- and decide to wait -";
		if (rhea_rus_main == 3)
			rhea_rus_main = 4;
		donpcevent "Gray Wolf#rus03::OnEnable";
		close;
	}
}

//----------------------------------------------------------------------------
// Gray Wolf
//----------------------------------------------------------------------------
mosk_dun01,167,160,3	script	Gray Wolf#rus03	4_RUS_DWOLF,{
	if (rhea_rus_main < 2) {
		mes "[Gray Wolf]";
		mes "... Turn back, adventurer...";
		mes "This is not where you belong.";
		close2;
		warp "mosk_dun01",190,47;
		end;
	} else if (rhea_rus_main == 2) {
		mes "[Gray Wolf]";
		mes "Halt, adventurer.";
		mes "Why did you disregard the warnings on the stone?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Are you the reason adventurers are getting lost around this forest?";
		next;
		mes "[Gray Wolf]";
		mes "...lost around this forest.";
		mes "He doesn't want anyone to wander around the forest.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "He? Who is he?!";
		next;
		mes "[Gray Wolf]";
		mes "His name is Koshei, the Immortal...";
		mes "and he has been freed from his captivity... You'd better leave before he finds you.";
		next;
		mes "[Gray Wolf]";
		mes "I'm warning you again!";
		mes "Unless you want to be killed, leave now.";
		rhea_rus_main = 3;
		// changequest 8137,8138;
		emotion ET_HUK, playerattached();
		specialeffect2 EF_HIT2;
		percentheal -50,0;
		next;
		mes "- The Gray Wolf attacks you -";
		mes "- with it's claws and jumps -";
		mes "- into the bushes behind you!! -";
		donpcevent "Gray Wolf#rus03::OnDisable";
		close2;
		warp "mosk_dun01",190,47;
		end;
	} else if (rhea_rus_main == 4) {
		mes "[Gray Wolf]";
		mes "...Why did you come back?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "I am afraid of nothing!";
		mes "I'm not afraid of your warning 'cuz I'm not as weak as you think I am!";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Your attack from before was a cheapshot! If you have something to do with the missing people around here, you won't be forgiven!";
		mes "Come on!!!";
		next;
		mes "- You stand firm and -";
		mes "- aim your weapon -";
		mes "- at the Gray Wolf -";
		next;
		mes "[Gray Wolf]";
		mes "Stop it. You cannot beat me.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Let's see who's stronger?!";
		mes "Take your position. I won't take you by surprise!!!";
		next;
		mes "[Gray Wolf]";
		mes "......You...... Haha.....";
		mes "Hahahahaha!!";
		next;
		mes "[Gray Wolf]";
		mes "Yes, you are very brave.";
		mes "... Yes, I think that I've been waiting for someone like you.";
		next;
		mes "[Gray Wolf]";
		mes "Please accept my apologies.";
		next;
		mes "[Gray Wolf]";
		mes "I need brave adventurers, like you, to help me. Can you help me?";
		next;
		if(select("No, how can I trust you?:Ok, I'll help") == 1) {
			mes "[Gray Wolf]";
			mes "Hu.. you won't. But, I ask you again. Can you help me?";
			next;
		}
		mes "["+ strcharinfo(0) +"]";
		mes "... Ok, ok. There's no way I can refuse this type of request.";
		mes "So, what do you want me to do?";
		next;
		mes "[Gray Wolf]";
		mes "This isn't a good place to talk. Get on my back, I will show you something.";
		next;
		mes "- He turns his back to me -";
		mes "- I jump up and suddenly -";
		rhea_rus_main = 5;
		// changequest 8138,8139;
		donpcevent "Gray Wolf#rus03::OnDisable";
		close2;
		warp "mosk_dun01",45,257;
		end;
	}

OnEnable:
	enablenpc "Gray Wolf#rus03";
	initnpctimer;
	end;

OnTimer120000:
OnDisable:
	stopnpctimer;
OnInit:
	disablenpc "Gray Wolf#rus03";
	end;
}

//----------------------------------------------------------------------------
// Wall (Maria Morebna, Gray Wolf, Koshei)
//----------------------------------------------------------------------------
mosk_dun01,45,259,0	script	Wall#rus04	HIDDEN_NPC,{
	if (rhea_rus_main < 5) {
		mes "["+ strcharinfo(0) +"]";
		mes "...?!";
		emotion ET_QUESTION, playerattached();
		close;
	} else if (rhea_rus_main == 5) {
		.@speak01 = rand(1,3);
		if (.@speak01 == 3) {
			mes "["+ strcharinfo(0) +"]";
			mes "...?!";
			emotion ET_QUESTION, playerattached();
			donpcevent "Gray Wolf#rus05::OnEnable";
			next;
		} else {
			mes "["+ strcharinfo(0) +"]";
			mes "...?!";
			emotion ET_QUESTION, playerattached();
			close;
		}
		mes "[Girl's Voice]";
		mes "Who is there? Gray Wolf?!";
		mes "Wolf, who are you with?";
		next;
		mes "[Gray Wolf]";
		mes "This is an adventurer from another land. He is not afraid of Koshei. He may be able to help you.";
		next;
		mes "[Girl's Voice]";
		mes "Help me? Do you think he can stop Koshei?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ah, hold on. Who is Koshei and who is talking?";
		next;
		mes "[Girl's Voice]";
		mes "Koshei.. He is an immortal and endless evil. I fought against him a long tim ago. After a fierce fight, I had to seal him in the darkness because he is immortal.";
		next;
		mes "[Girl's Voice]";
		mes "And as a result I became imprisoned in this wall.";
		mes "He has found a way to break away from his seal and I fear for the worst.";
		next;
		mes "[Girl's Voice]";
		mes "My name is Maria Morebna. Help me exterminate Koshei. I want to keep peace in Moscovia. Can you help me?";
		next;
		select("Ok, I can");
		mes "["+ strcharinfo(0) +"]";
		mes "So, how can I help you?";
		next;
		mes "[Gray Wolf]";
		mes "First, you need to find a way to get her out of there.";
		mes "I've heard about a '^0000ffGolden Key^000000' that can open anything. There is a keymaker in town.";
		next;
		mes "[Gray Wolf]";
		mes "As you see, I look like a monster so I am not able to go there. I want you to find this keymaker and ask about the '^0000ffGolden Key^000000'.";
		next;
		mes "[Girl's Voice]";
		mes "Please don't forget about me.";
		donpcevent "Gray Wolf#rus05::OnDisable";
		rhea_rus_main = 6;
		// changequest 8139,8140;
		close;
	} else if (rhea_rus_main > 5 && rhea_rus_main < 8) {
		mes "[Girl's Voice]";
		mes "Help me get out of here.";
		mes "I hope you can help me find that '^0000ffGolden Key^000000' that can open anything.";
		next;
		mes "[Girl's Voice]";
		mes "I've heard about a keymaker in Moscovia who knows how to make a '^0000ffGolden Key^000000'.";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_quiz < 3) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Girl's Voice]";
			mes "Did you get the key?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...I need golden thread. I heard that I was able to get it from Marozka. He....";
			next;
			mes "[Girl's Voice]";
			mes "Marozka... He is the owner of winter and dwells in the deep underground. He won't let just anyone see him.";
			next;
			mes "[Girl's Voice]";
			mes "He has monsters that guard his underground lair. It's very dangerous. But, I know where he is.";
			next;
			mes "[Girl's Voice]";
			mes "What do you think? I can open a portal to the cave Do you want to go there now?";
			next;
			if(select("Not yet...:Open the portal!") == 1) {
				mes "[Girl's Voice]";
				mes "... When you're ready, just tell me.";
				close;
			}
			mes "[Girl's Voice]";
			mes "...Ok, be careful There are a lot of monsters there.";
			donpcevent "1#rus27::OnEnable";
			close;
		}
		mes "[Girl's Voice]";
		mes "Have you.. got the key?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Not yet... Give me a second.";
		next;
		mes "[Girl's Voice]";
		mes "If you gather all the necessary things, go to Moscovia and find the keymaker. Do me this favor, please.";
		close;
	} else if (rhea_rus_main > 8 && rhea_rus_main < 47) {
		mes "[Girl's Voice]";
		mes "Have you.. got the key?";
		next;
		if (rhea_rus_ring > 8 && rhea_rus_hair > 8 && rhea_rus_quiz > 29) {
			mes "["+ strcharinfo(0) +"]";
			mes "I collected every meterial for the key, But have not yet got the key...";
			next;
			mes "[Girl's Voice]";
			mes "Go to Moscovia and find the keymaker.";
			close;
		}
		mes "["+ strcharinfo(0) +"]";
		mes "Not yet... Give me a second.";
		next;
		mes "[Girl's Voice]";
		mes "If you gather all the things necessary, go to Moscovia and find the keymaker. Do me this favor, please.";
		close;
	} else if (rhea_rus_main == 47) {
		if (countitem(7876)) {// Gold_Key
			if ($@rus_req02 == 1) {
				mes "[Girl's Voice]";
				mes "I can feel Koshei's energy.. It is not a time to use the key...";
				close;
			}
			$@rus_req02 = 1;
			mes "[Girl's Voice]";
			mes "Did you get the key?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "I did. So, how do I use it?";
			next;
			mes "[Girl's Voice]";
			mes "Listen very carefully!";
			mes "Left the key up, and shout '^0000ffThe Free wind blows and gets you wherever you want^000000'.";
			next;
			input .@input$;
			if (.@input$ == "The Free wind blows and gets you wherever you want") {
				mes "["+ strcharinfo(0) +"]";
				mes "^0000ff "+ .@input$ +" !! ^000000";
				next;
				mes "- The key begins to glow -";
				mes "- wind begins to blow -";
				mes "- from somewhere -";
				specialeffect2 EF_BEGINSPELL;
				specialeffect EF_FREEZED;
				next;
			} else {
				mes "["+ strcharinfo(0) +"]";
				mes " "+ .@input$ +" !! ";
				next;
				mes "[Girl's Voice]";
				mes ".........................................................................................";
				next;
				mes "[Girl's Voice]";
				mes "You must've said it wrong...";
				$@rus_req02 = 0;
				close;
			}
			mes "- The wind disappears and -";
			mes "- a very young girl appears -";
			donpcevent "Maria Morebna#rus46::OnEnable";
			specialeffect EF_FREEZED,AREA,"Maria Morebna#rus46";
			next;
			mes "[Maria Morebna]";
			mes "Thank you!";
			mes "I'm finally out of there! Now I can.....................aaaaak!!!....";
			next;
			specialeffect EF_HIT2,AREA,"Maria Morebna#rus46";
			specialeffect EF_DARKBREATH,AREA,"Maria Morebna#rus46";
			specialeffect EF_DEVIL,AREA,"Maria Morebna#rus46";
			mes "- Maria is attacked -";
			mes "- and falls down!! -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Maria?! What happened?!";
			sc_start SC_CURSE,60000,0;
			emotion ET_HUK, playerattached();
			next;
			mes "[Koshei, the Immortal]";
			mes "I really want to thank you, human. Maria was imprisoned in the wall so I couldn't do anything!";
			next;
			mes "[Koshei, the Immortal]";
			mes "She'll thank me for giving her a quick death!!";
			next;
			mes "[Koshei, the Immortal]";
			mes "But you, human... You are here to disturb me?";
			next;
			mes "[Koshei, the Immortal]";
			mes "No one can stop me! Now, die!!!";
			next;
			mes "[Gray Wolf]";
			mes "Watch out!!";
			next;
			donpcevent "Gray Wolf#rus05::OnEnable";
			mes "[Koshei, the Immortal]";
			mes "Gray Wolf...";
			mes "You think you can fight me?!";
			next;
			specialeffect EF_FIREHIT,AREA,"Gray Wolf#rus05";
			mes "- Staggering from -";
			mes "- Koshei's flames, -";
			mes "- Gray Wolf quickly tell me -";
			next;
			mes "[Gray Wolf]";
			mes "Listen, I can still help Maria if I treat her now.";
			mes "I will flee with her and leave you to deal with Koshei!!";
			next;
			donpcevent "Gray Wolf#rus05::OnDisable";
			donpcevent "Maria Morebna#rus46::OnDisable";
			mes "[Koshei, the Immortal]";
			mes "Stop! Where do you think you're going?!!!";
			delitem 7876,1;
			rhea_rus_main = 48;
			// changequest 8176,8177;
			monster "mosk_dun01",45,256,"Koshei, the Immortal",1890,1,"Wall#rus04::OnMyMobDead";
			donpcevent "Koshei#rus47::OnEnable";
			close;
		}
		mes "[Girl's Voice]";
		mes "Have you.. got the key?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Sure! Here it...";
		mes "...............Errr?";
		close;
	} else if (rhea_rus_main == 48) {
		if ($@rus_req02 == 1) {
			mes "[Gray Wolf's voice]";
			mes "I can sense Koshei's presence.";
			next;
			mes "[Gray Wolf's voice]";
			mes "I can still help Maria if I treat her now.";
			mes "I will flee with her and leave you to deal with Koshei!!";
			close;
		}
		mes "["+ strcharinfo(0) +"]";
		mes "...Maria...";
		mes "I... could do nothing...";
		next;
		mes "[Gray Wolf]";
		mes "No, it's not too late!";
		emotion ET_SURPRISE, playerattached();
		donpcevent "Gray Wolf#rus05::OnEnable";
		next;
		mes "[Gray Wolf]";
		mes "She's alive.";
		mes "But, she's still unstable.";
		next;
		mes "[Gray Wolf]";
		mes "To save her, I need 'Life Water' and 'Death Water'. Find Baba Yaga, she'll know what to do.";
		next;
		mes "[Gray Wolf]";
		mes "I can't keep her alive for much longer. You must find Baba Yaga.";
		rhea_rus_main = 49;
		// changequest 8177,8178;
		close2;
		donpcevent "Gray Wolf#rus05::OnDisable";
		end;
	} else if (rhea_rus_main > 48 && rhea_rus_main < 51) {
		mes "[Gray Wolf's voice]";
		mes "But, she's still unstable.";
		next;
		mes "[Gray Wolf's voice]";
		mes "To save her, I need 'Life Water' and 'Death Water'. Find Baba Yaga, she'll know what to do.";
		next;
		mes "[Gray Wolf's voice]";
		mes "I can't keep her alive for much longer. You must find Baba Yaga.";
		close;
	} else if (rhea_rus_main == 51) {
		if ($@rus_req02 == 1) {
			mes "[Gray Wolf's voice]";
			mes "I can sense Koshei's presence.";
			next;
			mes "[Gray Wolf's voice]";
			mes "I can still help Maria if I treat her now.";
			mes "I will flee with her and leave you to deal with Koshei!!";
			close;
		}
		mes "[Gray Wolf's voice]";
		mes "Did you get the 'Life Water' and 'Death Water'?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "I've got them! How's Maria?!";
		donpcevent "Gray Wolf#rus05::OnEnable";
		donpcevent "Maria Morebna#rus46::OnEnable";
		next;
		mes "[Gray Wolf]";
		mes "I fear that her spirit has gone. Severe wounds and curses are hindering her spirit from coming back. But we can save her with that water.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ok... First...";
		next;
		if(select("Death Water:Life Water") == 1) {
			mes "["+ strcharinfo(0) +"]";
			mes "I hope this works...";
			next;
			mes "- I pour the Death Water -";
			mes "- on Maria's stiff body -";
			next;
		} else {
			mes "["+ strcharinfo(0) +"]";
			mes "I hope this works...";
			next;
			mes "- I pour the Life Water -";
			mes "- on Maria's stiff body -";
			next;
			mes "[Maria Morebna]";
			mes "..........................";
			next;
			mes "- Nothing changed -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Huk, was this wrong...?!";
			next;
			mes "[Gray Wolf]";
			mes "What are you doing?! I told you we did not have much time! What are you going to do now?!";
			next;
			donpcevent "Gray Wolf#rus05::OnDisable";
			donpcevent "Maria Morebna#rus46::OnDisable";
			mes "["+ strcharinfo(0) +"]";
			mes "I am so sorry. But some water is left...";
			close;
		}
		mes "- The wounds and -";
		mes "- curses on her body -";
		mes "- are removed !! -";
		specialeffect EF_ABSORBSPIRITS,AREA,"Maria Morebna#rus46";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ok! Next...";
		next;
		if(select("Death Water:Life Water") == 1) {
			mes "["+ strcharinfo(0) +"]";
			mes "Pour the 'Death Water' again...";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...!? No, not 'Death Water'.. I should pour 'Life Water'.......";
			next;
			mes "[Gray Wolf]";
			mes "............................";
			mes "Can I trust you...?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Hehehe, you can trust me. Next is the 'Life Water'.";
			next;
			mes "- I pour 'Life Water' on Maria -";
			next;
		} else {
			mes "["+ strcharinfo(0) +"]";
			mes "Ok, next the 'Life Water'.";
			next;
			mes "- I pour the Life Water -";
			mes "- on Maria's stiff body  -";
			next;
		}
		mes "- !! -";
		specialeffect EF_RESURRECTION,AREA,"Maria Morebna#rus46";
		next;
		mes "[Gray Wolf]";
		mes "Success!!";
		next;
		mes "[Maria Morebna]";
		mes "Ah, did I...?!";
		mes "You saved me. I really appreicate it. Thank you for helping us fight against Koshei.";
		next;
		mes "[Maria Morebna]";
		mes "And you, Gray Wolf.. Thank you for protecting me while I was helpless.";
		next;
		mes "[Maria Morebna]";
		mes "Koshei wasn't completely destroyed. But, his power has weakened, it shouldn't be hard to seal his power without me also being sealed.";
		next;
		mes "[Maria Morebna]";
		mes "Koshei and I are bound by magic. If one's power should be sealed, the other must be sealed as well.";
		next;
		mes "[Maria Morebna]";
		mes "But the original seal weakened over time and Koshei was able to get out of his confinement. That is why I asked you to get me out of here.";
		next;
		mes "[Maria Morebna]";
		mes "He realized that I was trying to break free and waited here for anyone who would help me. I never ever expected it...";
		next;
		mes "[Maria Morebna]";
		mes "Anyway, I'm so grateful for everything you did.";
		next;
		mes "[Maria Morebna]";
		mes "Please accept my poor reward, I hope that it will be of some help for such a brave adventurer. I hope that the gods will bless you on your journey.";
		// completequest 8180;
		next;
		mes "[Maria Morebna]";
		mes "It's been a long time since I've felt the sunlight, fresh wind and the scent of grass. I'm so grateful.";
		rhea_rus_main = 52;
		// completequest 8171;
		.@rus_food = rand(1,6);
		switch (rand(1,6)) {
			case 1: getitem 12093,1; break;// Dex_Dish08
			case 2: getitem 12088,1; break;// Agi_Dish08
			case 3: getitem 12073,1; break;// Str_Dish08
			case 4: getitem 12078,1; break;// Int_Dish08
			case 5: getitem 12083,1; break;// Vit_Dish08
			case 6: getitem 12098,1; break;// Luk_Dish08
		}
		if (checkre(3)) {
			if (BaseLevel < 56) getexp 1300,350;
			else if (BaseLevel < 61) getexp 2460,615;
			else if (BaseLevel < 66) getexp 4242,1060;
			else if (BaseLevel < 71) getexp 6489,1622;
			else if (BaseLevel < 76) getexp 16491,4123;
			else if (BaseLevel < 81) getexp 27629,6907;
			else if (BaseLevel < 86) getexp 34041,8510;
			else if (BaseLevel < 91) getexp 41846,10462;
			else if (BaseLevel < MAX_LEVEL) getexp 88814,22204;
			else getitem 617,1; //Old_Violet_Box
		} else {
			if (BaseLevel < 56) getexp 13000,3500;
			else if (BaseLevel < 61) getexp 24600,6150;
			else if (BaseLevel < 66) getexp 42420,10605;
			else if (BaseLevel < 71) getexp 64892,16223;
			else if (BaseLevel < 76) getexp 164908,41227;
			else if (BaseLevel < 81) getexp 276292,69073;
			else if (BaseLevel < 86) getexp 340408,85102;
			else if (BaseLevel < 91) getexp 418460,104615;
			else if (BaseLevel < 99) getexp 888140,222035;
			else getitem 617,1; //Old_Violet_Box
		}
		donpcevent "Gray Wolf#rus05::OnDisable";
		donpcevent "Maria Morebna#rus46::OnDisable";
		close;
	} else if (rhea_rus_main > 51) {
		mes "[Girl's Voice]";
		mes "... Koshei is immortal and will surely appear again someday...";
		next;
		mes "[Girl's Voice]";
		mes "When that time comes, I will deal with him. I will use my time of waiting to train to make myself strong whenever he returns...";
		next;
		mes "[Girl's Voice]";
		mes "I'm grateful that you did your best for me and my village. I will never forget your kindness.";
		next;
		mes "[Girl's Voice]";
		mes "Ah, Go to Baba Yaga in your free time. She seems to have something to tell you.";
		next;
		mes "[Girl's Voice]";
		mes "Take care of yourself. It is better for you to stay away from here because, Koshei may try to use your power as his own, huhu.";
		close;
	}

OnInit:
	$@rus_req02 = 0;
	end;

OnEnable:
	enablenpc "Wall#rus04";
	end;

OnDisable:
	disablenpc "Wall#rus04";
	end;

OnMyMobDead:
	donpcevent "Koshei#rus47::OnDisable";
	$@rus_req02 = 0;
	// stopnpctimer;
	announce "Koshei, the Immortal : Keeeek, you, cursed human.. I'll never give up!!! We'll see who's smiling in the end!!!",bc_map,0xCE3131;
	end;
}

//----------------------------------------------------------------------------
// Koshei, The Immortal
//----------------------------------------------------------------------------
mosk_dun01,5,5,0	script	Koshei#rus47	-1,0,0,{
	end;
OnInit:
	disablenpc "Koshei#rus47";
	end;

OnEnable:
	initnpctimer;
	enablenpc "Koshei#rus47";
	end;

OnDisable:
	stopnpctimer;
	disablenpc "Koshei#rus47";
	end;

OnTimer3000:
	mapannounce "mosk_dun01","Koshei, the Immortal : I will kill all who disturb me!! Cry in terror weak humans!!!",bc_map,0xCE3131;
	end;

OnTimer63000:
	mapannounce "mosk_dun01","Koshei, the Immortal : You worms, you mere monsters... I will curse all who are in my way!!",bc_map,0xCE3131;
	end;

OnTimer150000:
	mapannounce "mosk_dun01","Koshei, the Immortal : Mankind! Cry in terror!! Hahahahahahahhahahah!!!",bc_map,0xCE3131;
	end;

OnTimer300000:
	stopnpctimer;
	initnpctimer;
	end;
}

//----------------------------------------------------------------------------
// Gray Wolf & Maria Morebna
//----------------------------------------------------------------------------
-	script	mos_rus#main	-1,{
	end;

OnEnable:
	initnpctimer;
	enablenpc();
	end;

OnTimer120000:
OnDisable:
	stopnpctimer;
OnInit:
	disablenpc();
	end;
}
mosk_dun01,50,256,3	duplicate(mos_rus#main)	Gray Wolf#rus05	4_RUS_DWOLF
mosk_dun01,46,256,3	duplicate(mos_rus#main)	Maria Morebna#rus46	4_F_RUSCHILD

//----------------------------------------------------------------------------
// The Blacksmith (Golden Key)
//----------------------------------------------------------------------------
moscovia,178,127,0	script	The Blacksmith#rus06	1_M_SMITH,{
	if ((MaxWeight-Weight) < 3500) {
		mes "[The Blacksmith]";
		mes "Why are you carrying that much?";
		mes "Are you training for something?";
		close;
	}
	if (rhea_rus_main < 6) {
		mes "[The Blacksmith]";
		mes "Bahaha~";
		mes "Good weather! Eh?";
		mes "Perfect for a picnic.";
		next;
		mes "[The Blacksmith]";
		mes "But, I've heard that some people have become lost in the forest on the island near this village. What's going on?";
		close;
	} else if (rhea_rus_main == 6) {
		mes "[The Blacksmith]";
		mes "Bahaha~";
		mes "Good weather! Eh?";
		mes "Perfect for a picnic.";
		next;
		mes "[The Blacksmith]";
		mes "But, I've heard that some people have become lost in the forest on the island near this village. What's going on?";
		next;
		select("Excuse me...");
		mes "["+ strcharinfo(0) +"]";
		mes "Excuse me, have you heard of a keymaker who knows how to make a '^0000ffGolden Key^000000'?";
		next;
		mes "[The Blacksmith]";
		mes "Hmm, are you an adventurer? Who told you about the '^0000ffGolden Key^000000'?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ah, in fact...";
		next;
		mes "- You tell him about -";
		mes "- Maria Morebna -";
		mes "- and Gray Wolf -";
		next;
		mes "[The Blacksmith]";
		mes "Well, then... The keymaker for the '^0000ffGolden Key^000000'.";
		mes "You are very lucky to have asked me about this.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "W, what do you mean...?";
		next;
		mes "[The Blacksmith]";
		mes "I'm the only one in this town that knows what materials are needed to make the '^0000ffGolden Key^000000'! Bahaha!";
		next;
		mes "[The Blacksmith]";
		mes "I guess you think that getting the materials will be easy huh?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Hey I didn't say...";
		next;
		mes "[The Blacksmith]";
		mes "Bahahaha~";
		mes "It will take a lot of work.";
		mes "A long journey awaits you";
		mes "If you choose to take it.";
		next;
		mes "[The Blacksmith]";
		mes "Your boots will be worn";
		mes "out after this journey.";
		mes "What do you think?";
		mes "Would you like to try?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Of course! I have to help Maria!";
		next;
		mes "[The Blacksmith]";
		mes "Bahaha! I like you!";
		mes "Ok, first, bring me ^0000ff25 Steel^000000. I'm not going anywhere so come back here when you have them.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ok so that's the first thing you need for the 'Golden Key' right?";
		next;
		mes "[The Blacksmith]";
		mes "Bahahaha~";
		mes "I promise you, I'll explain when you bring the ^0000ff25 Steel^000000 to me. Please just get the Steel and come back.";
		rhea_rus_main = 7;
		// changequest 8140,8141;
		close;
	} else if (rhea_rus_main == 7) {
		if (countitem(999) > 24) {// Steel
			mes "[The Blacksmith]";
			mes "Ohhh, that was faster than I expected!";
			next;
			mes "[The Blacksmith]";
			mes "Ok then, wait here.";
			next;
			mes "- He melts the steel -";
			mes "- and begins to forge -";
			mes "- it into something !! -";
			next;
			mes "[The Blacksmith]";
			mes "Bahaha~, it's not my";
			mes "best work, but it'll do.";
			mes "Here ya go!";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Ah?! This is?!!";
			next;
			mes "[The Blacksmith]";
			mes "Strong Steel Boots!";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "The Golden!!.........................";
			mes "....................Eh, what?";
			next;
			mes "[The Blacksmith]";
			mes "Bahaha~ Didn't I tell you? A long journey awaits you. These boots will help you on your long journey.";
			next;
			mes "[The Blacksmith]";
			mes "When they have worn out, you will know that your journey is near it's end.";
			next;
			mes "[The Blacksmith]";
			mes "^ff0000You must always wear these boots while gathering the materials for the 'Golden Key'.^000000";
			next;
			mes "[The Blacksmith]";
			mes "Ok, I'll tell you what materials you need to get. I can make the key anytime if you get them to me.";
			next;
			mes "[The Blacksmith]";
			mes "You need ^0000ff2 Cursed Ruby, 3 Gold, 1 Red Ring, 2 Lusalka's Hair, 10 Golden Thread^000000 to make the key.";
			// changequest 8141,8142;
			next;
			mes "[The Blacksmith]";
			mes "Well, you know what to do now. I will be waiting here.";
			mes "Bahahaha~";
			mes "And don't forget to wear these!";
			delitem 999,25;// Steel
			rhea_rus_main = 8;
			// changequest 8138,8139;
			if (BaseClass == Job_Merchant || BaseClass == Job_Swordman || BaseClass == Job_Thief || BaseClass == Job_Archer)
				getitem 2429,1;// Iron_Boots01
			else
				getitem 2430,1;// Iron_Boots02
			close;
		}
		mes "[The Blacksmith]";
		mes "What are you doing? First, you must get me ^0000ff25 Steel^000000.";
		next;
		mes "[The Blacksmith]";
		mes "The faster you get me the materials, The faster you can help Maria Morebna.";
		close;
	} else if (rhea_rus_main == 8) {
		if (countitem(724) > 1 && countitem(969) > 2 && countitem(7877) && countitem(7878) > 1 && countitem(7879) > 9) {// Cardinal_Jewel_, Gold, Red_Ring, Lusalka_Hair, Golden_Thread
			if (rhea_rus_ring > 8 && rhea_rus_hair > 8 && rhea_rus_quiz > 29) {
				if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, did I forget to wear something...?";
					close;
				}
				mes "[The Blacksmith]";
				mes "So, you got all the materials. I can't believe it.";
				mes "You did your best until your boots were worn out, didn't you?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Yes, you know, it's not very comfortable walking around in Steel boots all day!";
				next;
				mes "[The Blacksmith]";
				mes "Bahaha~ Ok, well done.";
				mes "Well.. While you were looking for the materials, I was searching for the keymaker who can make the key!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "I thought you said that you knew how to make the key?";
				next;
				mes "[The Blacksmith]";
				mes "Hmm... Well I know the materials. And I know who makes the key. So I will tell you where to find the keymaker. Is that ok?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Of course! I have to know where this person is.";
				next;
				mes "[The Blacksmith]";
				mes "Ok, listen carefully. The Keymaker is at a cabin deep inside of the forest.";
				next;
				mes "[The Blacksmith]";
				mes "Ah, wait. Take off your armor. I need to cast a protection spell on you, ok? Hey, don't get the wrong idea. This is just a simple protection spell!";
				nude;
				next;
				mes "[The Blacksmith]";
				mes "Bah ram y--- wait that's uh something else...";
				next;
				mes "[The Blacksmith]";
				mes "'^ff0000Spellshield Protection^000000.";
				specialeffect2 EF_ABSORBSPIRITS;
				next;
				mes "[The Blacksmith]";
				mes "This spell protects you from any curse the keymaker might try to use. Remember the words of the spell. It won't last very long because I am just a blacksmith.";
				next;
				mes "[The Blacksmith]";
				if (countitem(2429))
					delitem 2429,1;
				else if (countitem(2430))
					delitem 2430,1;
				else {
					mes "The forest is dangerous. Be very careful in there!";
					mes "Ah, and your steel boots..?";
					next;
					mes "[The Blacksmith]";
					mes "Where are they?";
					close;
				}
				mes "The forest is dangerous. Be very careful in there!";
				mes "Ah and you shouldn't be needing those Steel Boots anymore. Good luck!";
				rhea_rus_main = 9;
				// changequest 8142,8158;
				close;
			}
		}
		mes "[The Blacksmith]";
		mes "You need ^0000ff2 Cursed Ruby, 3 Gold, 1 Red Ring, 2 Lusalka's Hair, 10 Golden Thread^000000 to make the key.";
		next;
		switch(select("Red Ring?:Lusalka's Hair?:Golden Thread?")) {
			case 1:
				mes "[The Blacksmith]";
				mes "The Red Ring has powerful enchanting powers. I had one before, but I gave it to my friend, Vassili, as a gift.";
				next;
				mes "[The Blacksmith]";
				mes "I think it would be odd to ask him to give it back to me. So uh you've got to ask him if he would give it to you.";
				break;
			case 2:
				mes "[The Blacksmith]";
				mes "It's said that a bride who drowns to death just before her wedding becomes Lusalka, the aqua fairy.";
				mes "You must find Lusalka's hair.";
				next;
				mes "[The Blacksmith]";
				mes "I heard that a young maid has been lost recently.";
				mes "It's very unfortunate but...";
				mes "she might be Lusalka...";
				next;
				mes "[The Blacksmith]";
				mes "Her mother is somewhere in this village asking for people to help her find her missing daughter.";
				break;
			case 3:
				mes "[The Blacksmith]";
				mes "Golden Thread is made from gold by using a special spinning wheel technique. I don't know exactly how it's done. But I know who does.";
				next;
				mes "[The Blacksmith]";
				mes "Find a man named Marozka. He is the only one who knows how to use the spinning wheel to make the Golden Thread.";
				next;
				mes "[The Blacksmith]";
				mes "Maria should know where he is.";
				break;
		}
		next;
		mes "[The Blacksmith]";
		mes "Ah, and... You still have the boots that I made right? ^ff0000Without them, you cannot get anything for the key, I swear. You must put on them.^000000";
		next;
		mes "[The Blacksmith]";
		mes "Well, you know what to do now. I will be waiting here.";
		close;
	} else if (rhea_rus_main == 9) {
		mes "[The Blacksmith]";
		mes "The keymaker is at a cabin deep inside of the forest.";
		next;
		mes "[The Blacksmith]";
		mes "This person is no ordinary person. It is said that you can be cursed by the keymaker's words.";
		next;
		mes "[The Blacksmith]";
		mes "Don't forget the spell, '^ff0000Spellshield Protection.^000000'";
		close;
	} else if (rhea_rus_main > 9 && rhea_rus_main < 52) {
		mes "[The Blacksmith]";
		mes "He is in his cabin deep inside of the forest. There, the keymaker of the Golden Key is living.";
		next;
		mes "[The Blacksmith]";
		mes "The Golden Key is able to release Maria. Good luck!";
		close;
	} else if (rhea_rus_main > 51) {
		mes "[The Blacksmith]";
		mes "I heard the news. You have done well.";
		next;
		mes "[The Blacksmith]";
		mes "Ah, the person living around that cabin wants you to see her. She seems to have something to tell you.";
		close;
	}
}

//----------------------------------------------------------------------------
// Vassili Grandpapa (Red Ring)
//----------------------------------------------------------------------------
moscovia,206,81,0	script	Vassili Grandpapa#rus07	4_M_05,{
	if ((MaxWeight-Weight) < 3500) {
		mes "[Vassili Grandpapa]";
		mes "Why are you carring that much?";
		mes "Are you training for something?";
		close;
	}
	if (rhea_rus_main < 8) {
		mes "[Vassili Grandpapa]";
		mes "Hmm, are you an adventurer? So, how do you like it here?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "It's not too bad.";
		mes "The weather here is great!";
		next;
		mes "[Vassili Grandpapa]";
		mes "Even though it is fine now in Moscovia, it is not such a great place during the harsh winter season.";
		next;
		mes "[Vassili Grandpapa]";
		mes "Eeee, I don't want to experience that coldness any more.";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_ring == 0) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Vassili Grandpapa]";
			mes "Hmm, are you an adventurer? So, how do you like it here?";
			next;
			if(select("It's so-so:I have something to ask...") == 1) {
				mes "[Vassili Grandpapa]";
				mes "Hmm, you have traveled so much. I guess if you're tired from your trip then it's only natural, huhu.";
				close;
			}
			mes "[Vassili Grandpapa]";
			mes "Eh? What do you want to ask me about?";
			next;
			input .@input$;
			if (.@input$ == "Red Ring") {
				mes "[Vassili Grandpapa]";
				mes "Red Ring?! Why are you looking for that?";
				next;
			} else {
				mes "[Vassili Grandpapa]";
				mes "Mmm, what? I don't understand you.";
				close;
			}
			mes "- You tell him about the -";
			mes "- Gray Wolf and Maria -";
			next;
			mes "[Vassili Grandpapa]";
			mes "Huuuh, I see.";
			next;
			mes "[Vassili Grandpapa]";
			mes "What should I do?";
			mes "I want to help but I can't.";
			mes "I gave it to my youngest";
			mes "daughter, Mashenka,";
			mes "as a present. But... she...";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Are you ok?";
			next;
			mes "[Vassili Grandpapa]";
			mes "It's just that Mashenka...";
			mes "..........";
			mes "....she died...";
			next;
			mes "[Vassili Grandpapa]";
			mes "She was really pretty and smart. My first daughter, Ryubaba, is also pretty and smart but her temper is...";
			mes "hotter than Ifrit's flames!";
			mes "Do you know what I mean?";
			next;
			mes "[Vassili Grandpapa]";
			mes "Anyway, Mashenka was such a kind and tender daughter. On cold winter nights, when I came back home late, she would wait for me with a hot bowl of my favorite stew.";
			next;
			mes "[Vassili Grandpapa]";
			mes "How couldn't I be touched by such kindness? So, I gave the Red Ring to her as a gift.";
			mes "I can still remember how happy she was when I gave it to her.";
			next;
			mes "[Vassili Grandpapa]";
			mes "She disappeared soon... after Now all I have is Ryubaba. She is also pretty and smart but nothing can relieve the sadnesss in my heart from losing Mashenka...";
			rhea_rus_ring = 1;
			// setquest 8143;
			close;
		} else if (rhea_rus_ring < 8) {
			mes "[Vassili Grandpapa]";
			mes "I can still remember how happy she was when I gave it to her.";
			next;
			mes "[Vassili Grandpapa]";
			mes "She disappeared soon... after Now all I have is Ryubaba. She is also pretty and smart but nothing can relieve the sadnesss in my heart from losing Mashenka...";
			close;
		} else if (rhea_rus_ring == 8) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Vassili Grandpapa]";
			mes "Ehh? you are the adventurer that I met before. Something to tell me?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...Listen to... this.";
			next;
			if (countitem(7883)) {// Pointed_Wooden_Flute
				mes "- You play the flute -";
				next;
				mes "^ff0000Red ring that my father gave me^000000";
				mes "^ff0000Red ring that my father gave me^000000";
				mes "^ff0000The red ring enchanted^000000";
				mes "^ff0000For the loveliest daughter^000000";
				next;
				mes "^ff0000Red ring bringing up jealousy^000000";
				mes "^ff0000Red ring bringing up jealousy^000000";
				mes "^ff0000Red ring enchanted^000000";
				mes "^ff0000My sister envies^000000";
				next;
				mes "^ff0000Cold hand tightening my neck^000000";
				mes "^ff0000Cold eyes tightening my heart^000000";
				mes "^ff0000Cold marsh swallowing my body^000000";
				mes "^ff0000Red ring taken away^000000";
				mes "^ff0000Red ring enchanted^000000";
				emotion ET_HUK;
				emotion ET_THINK, playerattached();
				next;
				mes "[Vassili Grandpapa]";
				mes "...W, what is this? Ehh??";
				mes "My daughter, Mashenka, was.. by Ryubaba...!?";
				next;
				mes "[Vassili Grandpapa]";
				mes "No... this isn't true?";
				mes "Don't try to trick me... Why are you telling... That flute is... Mashenka...";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Isn't this.. isn't this Mashenka's voice?";
				next;
				mes "[Vassili Grandpapa]";
				mes "Don't tell me those lies about..!! My daughters... That...";
				next;
				mes "[Vassili Grandpapa]";
				mes ".............................";
				next;
				mes "[Vassili Grandpapa]";
				mes ".............................";
				next;
				mes "[Vassili Grandpapa]";
				mes ".............................";
				next;
				mes "[Vassili Grandpapa]";
				mes ".............................";
				next;
				mes "[Vassili Grandpapa]";
				mes ".............................";
				next;
				mes "[Vassili Grandpapa]";
				mes ".............................";
				next;
				mes "[Vassili Grandpapa]";
				mes ".............................";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "...Uh... I'm so sorry...";
				next;
				mes "[Vassili Grandpapa]";
				mes "... Can you please... play the flute again?";
				next;
				mes "- You play the flute -";
				mes "- with Mashenka's voice -";
				next;
				mes "^ff0000Red ring that my father gave me^000000";
				mes "^ff0000Red ring that my father gave me^000000";
				mes "^ff0000The red ring enchanted^000000";
				mes "^ff0000For the loveliest daughter^000000";
				next;
				mes "^ff0000Red ring bringing up jealousy^000000";
				mes "^ff0000Red ring bringing up jealousy^000000";
				mes "^ff0000Red ring enchanted^000000";
				mes "^ff0000My sister envies^000000";
				next;
				mes "^ff0000Cold hand tightening my neck^000000";
				mes "^ff0000Cold eyes tightening my heart^000000";
				mes "^ff0000Cold marsh swallowing my body^000000";
				mes "^ff0000Red ring taken away^000000";
				mes "^ff0000Red ring enchanted^000000";
				emotion ET_THINK;
				emotion ET_THINK, playerattached();
				next;
				mes "[Vassili Grandpapa]";
				mes "It is.. It is true...";
				mes "When I saw this ring in Ryubaba's room, I never thought that. But, it has to be true...";
				next;
				mes "[Vassili Grandpapa]";
				mes "Damn this cursed ring!!! Why did my daughters have this tragedy....? ~Sob!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "......................";
				next;
				mes "[Vassili Grandpapa]";
				mes "........i'm sorry. ...I know that this wasn't easy for you to tell me. Thank you for the truth.";
				next;
				mes "[Vassili Grandpapa]";
				mes "You said you needed this ring, right? Take it...";
				mes "It has brought me nothing but grief.";
				// if (isbegin_quest(8147) == 1)
					// completequest 8147;
				next;
				mes "[Vassili Grandpapa]";
				mes "...It is my fault that this tragedy between my daughters happened. I will spend the rest of my life trying to make up for it...";
				delitem 7883,1; // Pointed_Wooden_Flute
				getitem 7877,1; // Red_Ring
				rhea_rus_ring = 10;
				// completequest 8144;
				if (checkre(3)) {
					if (BaseLevel < 56) getexp 470,0;
					else if (BaseLevel < 61) getexp 615,0;
					else if (BaseLevel < 66) getexp 750,0;
					else if (BaseLevel < 71) getexp 1000,0;
					else if (BaseLevel < 76) getexp 1500,0;
					else if (BaseLevel < 81) getexp 2000,0;
					else if (BaseLevel < 86) getexp 4500,0;
					else if (BaseLevel < 91) getexp 8500,0;
					else if (BaseLevel < MAX_LEVEL) getexp 30000,0;
					else {
						getitem 607,1; //Yggdrasilberry
						getexp 30000,0;
					}
				} else {
					if (BaseLevel < 56) getexp 4700,0;
					else if ( BaseLevel < 61) getexp 6150,0;
					else if (BaseLevel < 66) getexp 10605,0;
					else if (BaseLevel < 71) getexp 16223,0;
					else if (BaseLevel < 76) getexp 41227,0;
					else if (BaseLevel < 81) getexp 69073,0;
					else if (BaseLevel < 86) getexp 85102,0;
					else if (BaseLevel < 91) getexp 104615,0;
					else if (BaseLevel < 99) getexp 222035,0;
					else getitem 607,1; //Yggdrasilberry
				}
				close;
			}
			mes "[Vassili Grandpapa]";
			mes "...............................";
			mes "...............................";
			mes "...What did you say?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Ehh?! This is weird. Where is the flute?!";
			emotion ET_HUK, playerattached();
			close;
		} else if (rhea_rus_ring == 9) {
			mes "[Vassili Grandpapa]";
			mes "You may think it is foolish but I cannot relieve the sadness of my lost daughter.";
			next;
			mes "[Vassili Grandpapa]";
			mes "It is parents that wander around the entrance of the village to wait for their children...";
			close;
		}
	}
	mes "[Vassili Grandpapa]";
	mes "..It is my fault that this tragedy between my daughters happened. I will spend the rest of my life trying to make up for it...";
	close;
}

//----------------------------------------------------------------------------
// Ryubaba (Red Ring)
//----------------------------------------------------------------------------
moscovia,213,216,3	script	Ryubaba#rus08	4_F_RUSWOMAN2,{
	if ((MaxWeight-Weight) < 3500) {
		mes "[Ryubaba]";
		mes "What on earth do you have in your bag?";
		mes "Are you training for something?";
		close;
	}
	if (rhea_rus_main < 8) {
		mes "[Ryubaba]";
		mes "Ah, how beautiful I am.";
		next;
		mes "[Ryubaba]";
		mes "Mmm, you must be an adventurer? What would you say? Have you seen somebody more beautiful than me? I doubt it. How can you find anyone more beautiful than me?";
		emotion ET_SMILE;
		close;
	}
	else if (rhea_rus_main == 8) {
		if (!rhea_rus_ring) {
			mes "[Ryubaba]";
			mes "Ah, how beautiful I am.";
			next;
			mes "[Ryubaba]";
			mes "Mmm, you must be an adventurer? What would you say? Have you seen somebody more beautiful than me? I doubt it. How can you find anyone more beautiful than me?";
			emotion ET_SMILE;
			close;
		} else if (rhea_rus_ring == 1) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Ryubaba]";
			mes "Ah, how beautiful I am.";
			next;
			mes "[Ryubaba]";
			mes "Mmm, you must be an adventurer? What would you say? Have you seen somebody more beautiful than me? I doubt it. How can you find anyone more beautiful than me?";
			next;
			if(select("Are you crazy!:Yes, you are right.") == 1) {
				mes "["+ strcharinfo(0) +"]";
				mes "Are you crazy!? Don't you know how wide the world is and how many beautiful people there are? You're pretty full of it, country girl!";
				next;
				mes "["+ strcharinfo(0) +"]";
				if (Sex == SEX_FEMALE)
					mes "Besides, if there was a most beautiful girl in the world it would be me, me, me!";
				else {
					mes "Have you seen dancers dancing? Have you seen beautiful and pure priests?!";
					mes "And nothing is like the kind Kafra Employees!!!";
				}
				next;
				mes "[Ryubaba]";
				mes "What!? You bastard!!";
				mes "I hate you! Get out of my face!";
				rhea_rus_ring = 2;
				close2;
				warp "moscovia",220,210;
				end;
			}
			mes "["+ strcharinfo(0) +"]";
			mes "Yes, you are really beautiful.";
			emotion ET_SMILE, playerattached();
			next;
			mes "[Ryubaba]";
			mes "Huhu, oh you jest. You know what you're talking about. Ah, this is a Choco drink that I have made. Give it a taste, isn't it good?";
			rhea_rus_ring = 4;
			getitem 573,1;// Chocolate_Drink
			close;
		} else if (rhea_rus_ring == 2) {
			mes "[Ryubaba]";
			mes "I have never met a person ruder than you!";
			mes "I hate you! Get out of my face!";
			close2;
			warp "moscovia",220,210;
			end;
		} else if (rhea_rus_ring == 3) {
			if (countitem(748) > 0 || countitem(749) > 0) {// Witherless_Rose, Frozen_Rose
				mes "[Ryubaba]";
				mes "What? Why are you here? You get of my...";
				next;
				mes "[Ryubaba]";
				mes "...Is that for me?";
				next;
				mes "[Ryubaba]";
				if (countitem(748))
					delitem 748,1;
				else if (countitem(749))
					delitem 749,1;
				else {
					mes "Well, I forgive.. eh?";
					next;
					mes "[Ryubaba]";
					mes "What? Are you trying to trick me!?";
					mes "I have never met a person ruder than you!";
					mes "I hate you! Get out of my face!";
					close2;
					warp "moscovia",220,210;
					end;
				}
				mes "Ok. Well, I forgive you.";
				rhea_rus_ring = 4;
				close;
			}
			mes "[Ryubaba]";
			mes "I have never met a person ruder than you!";
			mes "I hate you! Get out of my face!";
			close2;
			warp "moscovia",220,210;
			end;
		} else if (rhea_rus_ring == 4) {
			mes "[Ryubaba]";
			mes "Huhu, have you ever met anyone as beautiful as I am?";
			next;
			select("You are...");
			mes "["+ strcharinfo(0) +"]";
			mes "...You are the most beautiful...";
			next;
			mes "[Ryubaba]";
			mes "Really? Everybody thinks so.";
			mes "Ah, I forgot asking you.";
			mes "Why are you here?";
			next;
			input .@input$;
			mes "[Ryubaba]";
			if (.@input$ == "Red Ring") {
				mes "A Red Ring?!";
				next;
			} else { 
				mes "Heh, what are you talking about? What is that?";
				close;
			}
			mes "[Ryubaba]";
			mes "Ah, that ring... Yes, my father gave it to my baby sister, Mashenka.";
			mes "But, she went out to take a stroll and disappeared around the marsh.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Wait, your father told me that she died!";
			next;
			mes "[Ryubaba]";
			mes "Right... Let me finish talking. We tried searching for her but we couldn't find her. She must have been wearing the ring when she disappeared around the marsh.";
			rhea_rus_ring = 5;
			// changequest 8143,8144;
			close;
		} else if (rhea_rus_ring > 4 && rhea_rus_ring < 7) {
			mes "[Ryubaba]";
			mes "Ah, that ring... Yes, my father gave it to my baby sister, Mashenka.";
			mes "But, she went out to take a stroll and disappeared around the marsh.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Wait, your father told me that she died!";
			next;
			mes "[Ryubaba]";
			mes "Right... Let me finish talking. We tried searching for her but we couldn't find her. She must have been wearing the ring when she disappeared around the marsh.";
			close;
		} else if (rhea_rus_ring == 7) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Ryubaba]";
			mes "Ah, you come here again. What can I do for you?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "... Listen to this song.";
			next;
			if (countitem(7883) > 0) {// Pointed_Wooden_Flute
				mes "- You play the flute -";
				next;
				mes "^ff0000Red ring that my father gave me^000000";
				mes "^ff0000Red ring that my father gave me^000000";
				mes "^ff0000The red ring enchanted^000000";
				mes "^ff0000For the loveliest daughter^000000";
				next;
				mes "^ff0000Red ring bringing up jealousy^000000";
				mes "^ff0000Red ring bringing up jealousy^000000";
				mes "^ff0000Red ring enchanted^000000";
				mes "^ff0000My sister envies^000000";
				next;
				mes "^ff0000Cold hand tightening my neck^000000";
				mes "^ff0000Cold eyes tightening my heart^000000";
				mes "^ff0000Cold marsh swallowing my body^000000";
				mes "^ff0000Red ring taken away^000000";
				mes "^ff0000Red ring enchanted^000000";
				emotion ET_HUK;
				emotion ET_THINK, playerattached();
				next;
				mes "[Ryubaba]";
				mes "S, stop! You'd better stop!?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Isn't this voice Mashenka's!? What did you do to her!?";
				next;
				mes "[Ryubaba]";
				mes "... I hated her. My father... father loved only her! He didn't talk to me, only to her!";
				next;
				mes "[Ryubaba]";
				mes "I asked her to show me the ring. But, she wouldn't let me see it. She always got on my nerves! Stupid girl!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "She was your sister! How can you speak like that!?";
				mes "Your father needs to know about all of this!";
				next;
				mes "[Ryubaba]";
				mes "No!!!";
				mes "Give me that flute!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "No! Your father has to know!";
				next;
				mes "[Ryubaba]";
				mes "Please, I am begging you... Don't tell my father...";
				emotion ET_CRY;
				next;
				mes "- Suddenly, she sheds -";
				mes "- tears and kneels down -";
				next;
				mes "[Ryubaba]";
				mes "I have been always worried that someone would find out... He has been feeling bad ever since what happened. How much worse would he feel if he knew the truth...?";
				next;
				mes "[Ryubaba]";
				mes "Could you please ignore this? Give me that flute... Ah... The red ring? How about exchanging it for the ring? Don't you need this?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "But...";
				next;
				mes "[Ryubaba]";
				mes "Oh, please.. This is not only for my sake, but also for my old father.... please I beg you.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "...Mmmm, what should I do...";
				next;
				if(select("Exchange:Not exchange") == 1) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Mmmm, what should I do...";
					mes "Ok, I will do it.";
					next;
				} else {
					mes "["+ strcharinfo(0) +"]";
					mes "...Mmmm, what should I do...";
					mes "No, I can't do it!";
					next;
					mes "[Ryubaba]";
					mes "What!!!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "I have to let your father know the truth! He has to know what you have done!";
					next;
					mes "[Ryubaba]";
					mes "W, wait!!!";
					rhea_rus_ring = 8;
					// changequest 8146,8147;
					close2;
					warp "moscovia",203,80;
					end;
				}
				mes "[Ryubaba]";
				mes "Are you sure!? Thank you!";
				// completequest 8146;
				next;
				mes "[Ryubaba]";
				mes "I have to repent for my sins and atone for them for the rest of my life.";
				delitem 7883,1; // Pointed_Wooden_Flute
				getitem 7877,1; // Red_Ring
				rhea_rus_ring = 9;
				// // completequest 8143;
				if (checkre(3)) {
					if (BaseLevel < 56) getexp 470,0;
					else if (BaseLevel < 61) getexp 615,0;
					else if (BaseLevel < 66) getexp 750,0;
					else if (BaseLevel < 71) getexp 1000,0;
					else if (BaseLevel < 76) getexp 1500,0;
					else if (BaseLevel < 81) getexp 2000,0;
					else if (BaseLevel < 86) getexp 4500,0;
					else if (BaseLevel < 91) getexp 8500,0;
					else if (BaseLevel < MAX_LEVEL) getexp 30000,0;
					else {
						getitem 607,1; //Yggdrasilberry
						getexp 30000,0;
					}
				} else {
					if (BaseLevel < 56) getexp 4700,0;
					else if (BaseLevel < 61) getexp 6150,0;
					else if (BaseLevel < 66) getexp 10605,0;
					else if (BaseLevel < 71) getexp 16223,0;
					else if (BaseLevel < 76) getexp 41227,0;
					else if (BaseLevel < 81) getexp 69073,0;
					else if (BaseLevel < 86) getexp 85102,0;
					else if (BaseLevel < 91) getexp 104615,0;
					else if (BaseLevel < 99) getexp 222035,0;
					else getitem 607,1; //Yggdrasilberry
				}
				close;
			}
			mes "["+ strcharinfo(0) +"]";
			mes "...!? Where is the flute!?";
			emotion ET_HUK, playerattached();
			close;
		} else if (rhea_rus_ring == 8) {
			mes "[Ryubaba]";
			mes "You give it back to me!";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "I have to let your father know the truth! He has to know what you have done!";
			next;
			mes "[Ryubaba]";
			mes "W, wait!!!";
			close2;
			warp "moscovia",203,80;
			end;
		}
		mes "[Ryubaba]";
		mes "................................";
		mes "I was stupid...";
		next;
		mes "[Ryubaba]";
		mes "I have to repent for my sins and atone for them for the rest of my life.";
		close;
	}
	mes "[Ryubaba]";
	mes "................................";
	mes "I was stupid...";
	next;
	mes "[Ryubaba]";
	mes "I have to repent for my sins and atone for them for the rest of my life.";
	close;
}

//----------------------------------------------------------------------------
// Little Boy (Ryubaba Info)
//----------------------------------------------------------------------------
moscovia,223,210,3	script	Little Boy#rus09	4_M_RUSCHILD,{
	if (rhea_rus_main < 8) {
		mes "[Little Boy]";
		mes "I will be an adventer and will marry the most beautiful bride!";
		mes "A bride more beautiful than sister Ryubaba!";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_ring == 2) {
			mes "[Little Boy]";
			mes "Hehe, you have done by her?";
			next;
			mes "[Little Boy]";
			mes "Everyone knows her. She is beautiful. My borther told me that he wanted to marry her.";
			mes "But her temper makes people hesitate.";
			next;
			mes "[Little Boy]";
			mes "I don't like her cause she doesn't give me candies or cookies. Although she is beautiful, her temper is so bad...";
			next;
			if (countitem(529) || countitem(538)) {// Candy, Well_Baked_Cookie
				mes "[Little Boy]";
				mes "Ah, do you have candies or cookies?";
				next;
				if(select("Give some:Don't give") == 2) {
					mes "[Little Boy]";
					mes "Hm! Hmph! Pish! !";
					mes "You are the same as Sister Ryubaba!";
					close;
				}
				mes "[Little Boy]";
				mes "Wow, really?";
				mes "That is very kind of you!";
				next;
				mes "[Little Boy]";
				mes "Ah, I will inform you of something!";
				next;
				mes "[Little Boy]";
				if (countitem(529))
					delitem 529,1;
				else if (countitem(538))
					delitem 538,1;
				else {
					mes "Sister Ryubaba likes.. eh?";
					mes "Don't you have candies or cookies? Don't you want to give them to me?";
					close;
				}
				mes "Sister Ryubaba likes presents! Especially flowers such as roses. She believes that they resemble her.";
				rhea_rus_ring = 3;
				close;
			}
			mes "[Little Boy]";
			mes "I love candy and cookies most.";
			close;
		} else if (rhea_rus_ring == 3) {
			mes "[Little Boy]";
			mes "Sister Ryubaba likes presents! Especially flowers such as roses. She believes that they resemble her.";
			close;
		}
	}
	mes "[Little Boy]";
	mes "I will be an adventer and will marry the most beautiful bride!";
	mes "A bride more beautiful than sister Ryubaba!";
	close;
}

//----------------------------------------------------------------------------
// Shepherdess (Wooden Flute for Red Ring)
//----------------------------------------------------------------------------
mosk_fild02,157,233,0	script	Shepherdess#rus10	1_F_04,{
	if (rhea_rus_main < 8) {
		mes "[Shepherdess]";
		mes "Haaaa, boring, boring! Herding sheep is really boring!";
		next;
		mes "[Shepherdess]";
		mes "I wish that I could listen to music all the time.";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_ring < 5) {
			mes "[Shepherdess]";
			mes "Haaaa, boring, boring! Herding sheep is really boring!";
			next;
			mes "[Shepherdess]";
			mes "I wish that I could listen to music all the time.";
			close;
		} else if (rhea_rus_ring == 5) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Shepherdess]";
			mes "Haaaa, boring, boring! Herding sheep is really boring!";
			next;
			mes "[Shepherdess]";
			mes "I wish that I could listen to music all the time.";
			next;
			select("Excuse me...");
			mes "["+ strcharinfo(0) +"]";
			mes "Excuse me... Have you seen a girl named, Mashenka?";
			mes "She was last seen walking towards the marsh.";
			next;
			mes "[Shepherdess]";
			mes "Hm, I think I might have heard something about her but I don't remember...";
			mes "You should check around the marsh yourself to see if you find something.";
			next;
			mes "[Shepherdess]";
			mes "Ah, right! While you're searching, can you gather some Pointed Branches for me? Could you please get me ^0000ff25 Pointed Branches^000000?";
			next;
			mes "[Shepherdess]";
			mes "I am an excellent flute player! If you get me enough Pointed Branches, I will make a flute from them and play beautiful music for you. Please~!";
			rhea_rus_ring = 6;
			// changequest 8144,8145;
			close;
		} else if (rhea_rus_ring == 6) {
			if (countitem(7882) > 24) {// Pointed_Branch
				if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, did I forget to wear something...?";
					close;
				}
				mes "[Shepherdess]";
				mes "Wow, did you get the Pointed Branches!?";
				next;
				mes "[Shepherdess]";
				mes "Ok! I will make a flute and play you the most beautiful music you've ever heard!";
				next;
				mes "- She begins to cut and trim -";
				mes "- the Pointed Branches and -";
				mes "- finally makes a good flute! -";
				next;
				mes "[Shepherdess]";
				mes "Ok, good! Let me play it to test its sound!";
				next;
				mes "- She closes her eyes -";
				mes "- and plays the flute -";
				next;
				mes "^ff0000Red ring that my father gave me^000000";
				mes "^ff0000Red ring that my father gave me^000000";
				mes "^ff0000The red ring enchanted^000000";
				mes "^ff0000For the loveliest daughter^000000";
				next;
				mes "^ff0000Red ring bringing up jealousy^000000";
				mes "^ff0000Red ring bringing up jealousy^000000";
				mes "^ff0000Red ring enchanted^000000";
				mes "^ff0000My sister envies^000000";
				next;
				mes "^ff0000Cold hand tightening my neck^000000";
				mes "^ff0000Cold eyes tightening my heart^000000";
				mes "^ff0000Cold marsh swallowing my body^000000";
				mes "^ff0000Red ring taken away^000000";
				mes "^ff0000Red ring enchanted^000000";
				emotion ET_HUK;
				emotion ET_HUK, playerattached();
				next;
				mes "[Shepherdess]";
				mes "W, what is this? Horrible! Why did this flute play a voice?";
				next;
				mes "[Shepherdess]";
				mes "I've never seen this before! This doesn't feel right! You! Take this away!";
				next;
				mes "- ^0000ffShepherdess gives me the^000000 -";
				mes "- ^0000ff'Pointed Wooden Flute'!!^000000 -";
				delitem 7882,25;
				rhea_rus_ring = 7;
				getitem 7883,1;// Pointed_Wooden_Flute
				// changequest 8145,8146;
				close;
			}
			mes "[Shepherdess]";
			mes "Hm, I think I might have heard something about her but I don't remember...";
			mes "You should check around the marsh yourself to see if you find something.";
			next;
			mes "[Shepherdess]";
			mes "Ah, right! While you're searching, can you gather some Pointed Branches for me? Could you please get me ^0000ff50 Pointed Branches^000000?";
			next;
			mes "[Shepherdess]";
			mes "I am an excellent flute player! If you get me enough Pointed Branches, I will make a flute from them and play beautiful music for you. Please~!";
			close;
		} else if (rhea_rus_ring > 6) {
			mes "[Shepherdess]";
			mes "I will never play a flute made from the Pointed Branches around the marsh ever again!";
			close;
		}
	}
	mes "[Shepherdess]";
	mes "Haaaa, boring, boring! Herding sheep is really boring!";
	next;
	mes "[Shepherdess]";
	mes "I wish that I could listen to music all the time.";
	close;
}

//----------------------------------------------------------------------------
// Pointed Trees (Wooden Flute)
//----------------------------------------------------------------------------
-	script	PTree#rusmain	-1,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {// Pointed_Branch
			if (rand(1,3) == 2) {
				mes "- I avoid the thorns and -";
				mes "- cut off a branch!! -";
				getitem 7882,1;
				donpcevent strnpcinfo(0) +"::OnDisable";
				close;
			}
			mes "- My hand is pricked by thorns! -";
			specialeffect2 EF_HIT2;
			percentheal -5,0;
			close;
		}
	}
	end;

OnDisable:
	initnpctimer;
	disablenpc();
	end;

OnTimer60000:
OnEnable:
	stopnpctimer;
	enablenpc();
	end;
}
mosk_fild02,151,188,0	duplicate(PTree#rusmain)	Pointed Tree#rus11	HIDDEN_NPC
mosk_fild02,160,227,0	duplicate(PTree#rusmain)	Pointed Tree#rus12	HIDDEN_NPC
mosk_fild02,160,179,0	duplicate(PTree#rusmain)	Pointed Tree#rus13	HIDDEN_NPC
mosk_fild02,142,247,0	duplicate(PTree#rusmain)	Pointed Tree#rus14	HIDDEN_NPC
mosk_fild02,149,223,0	duplicate(PTree#rusmain)	Pointed Tree#rus15	HIDDEN_NPC
mosk_fild02,114,223,0	duplicate(PTree#rusmain)	Pointed Tree#rus16	HIDDEN_NPC
mosk_fild02,101,197,0	duplicate(PTree#rusmain)	Pointed Tree#rus17	HIDDEN_NPC
mosk_fild02,125,182,0	duplicate(PTree#rusmain)	Pointed Tree#rus18	HIDDEN_NPC

//----------------------------------------------------------------------------
// Worried Mother (Lusalka's Hair)
//----------------------------------------------------------------------------
moscovia,166,145,1	script	Worried Mother#rus19	4_F_RUSWOMAN3,{
	if (rhea_rus_main < 8) {
		mes "[Worried Mother]";
		mes "Where is she...";
		next;
		mes "[Worried Mother]";
		mes "Have you heard of the bridge who drowned to death just before her wedding and became Lusalka, an aqua nymph?";
		next;
		mes "[Worried Mother]";
		mes "My daughter disappeared some days ago and now i'm really worried. I hope nothing happened to her...";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 1) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Worried Mother]";
			mes "Where is she...";
			next;
			mes "[Worried Mother]";
			mes "Have you heard of the bridge who drowned to death just before her wedding and became Lusalka, an aqua nymph?";
			next;
			mes "[Worried Mother]";
			mes "My daughter disappeared some days ago and now i'm really worried. I hope nothing happened to her...";
			next;
			mes "[Worried Mother]";
			mes "Did you go to the marsh in the Moscovia field? Did you see my daughter? I don't care even if she became Lusalka. I just want to know where she is.";
			next;
			if(select("Calm her down.:I will find her.") == 1) {
				mes "["+ strcharinfo(0) +"]";
				mes "She should be ok.";
				mes "She will be back soon.";
				next;
				mes "[Worried Mother]";
				mes "Will she? I really hope so.";
				close;
			}
			mes "[Worried Mother]";
			mes "Ah, will you?";
			next;
			mes "[Worried Mother]";
			mes "I tried to find her but, I couldn't approach the marsh due to all of the monsters.";
			next;
			mes "[Worried Mother]";
			mes "Please, please find my daughter.";
			rhea_rus_hair = 1;
			// setquest 8148;
			close;
		} else if (rhea_rus_hair == 1) {
			mes "[Worried Mother]";
			mes "Ah, there are some things that you have to know.";
			next;
			mes "[Worried Mother]";
			mes "If my daughter has became the water nymph Lusalka you need to listen to what I know about her.";
			next;
			mes "[Worried Mother]";
			mes "Lusalka is a good aqua nymph but is not completely harmless. Her stare will seriously hurt anyone who makes eye contact with her.";
			next;
			mes "[Worried Mother]";
			mes "You must have something to protect yourself from Lusalka. '^0000ffHoly Water^000000' will protect you from Lusalka'a gaze.";
			next;
			mes "[Worried Mother]";
			mes "And Lusalka is nocturnal. You should be able to find her from ^ff00005 pm to 6 am PST^000000.";
			next;
			mes "[Worried Mother]";
			mes "Don't forget. You have to bring '^0000ffHoly Water^000000' with you, and find her from ^ff00005 pm to 6 am PST^000000.";
			next;
			mes "[Worried Mother]";
			mes "I'm not sure where she would be but it has to be somewhere near water. Please, find where my daughter is. I beg of you.";
			rhea_rus_hair = 2;
			// changequest 8148,8149;
			close;
		} else if (rhea_rus_hair > 1 && rhea_rus_hair < 9) {
			mes "[Worried Mother]";
			mes "Lusalka is a good aqua nymph but is not completely harmless. Her stare will seriously hurt anyone who makes eye contact with her.";
			next;
			mes "[Worried Mother]";
			mes "You must have something to protect yourself from Lusalka. '^0000ffHoly Water^000000' will protect you from Lusalka'a gaze.";
			next;
			mes "[Worried Mother]";
			mes "And Lusalka is nocturnal. You should be able to find her from ^ff00005 pm to 6 am PST^000000.";
			next;
			mes "[Worried Mother]";
			mes "Don't forget. You have to bring '^0000ffHoly Water^000000' with you, and find her from ^ff00005 pm to 6 am PST^000000.";
			next;
			mes "[Worried Mother]";
			mes "I'm not sure where she would be but it has to be somewhere near water. Please, find where my daughter is. I beg of you.";
			close;
		}
	}
	mes "[Worried Mother]";
	mes "I am able to do nothing recently.";
	next;
	mes "[Worried Mother]";
	mes "It seems that I lost something, but I don't know what it is...";
	close;
}

//----------------------------------------------------------------------------
// Marsh Warning Signs
//----------------------------------------------------------------------------
-	script	Caution#07rus::NoSwim	-1,{
	mes " WARNING !! ";
	mes "No Swimming";
	close;
}
mosk_fild02,101,204,0	duplicate(NoSwim)	Caution#rus01	2_BULLETIN_BOARD
mosk_fild02,101,200,0	duplicate(NoSwim)	Caution#rus02	2_BULLETIN_BOARD

//----------------------------------------------------------------------------
// Lusalka Trigger (Lusalka's Hair)
//----------------------------------------------------------------------------
mosk_fild02,116,202,3	script	Lusalka#07russai_22	-1,3,3,{
	end;
OnTouch_:
	if (rhea_rus_main != 8 || rhea_rus_hair < 2) {
		emotion ET_QUESTION, playerattached();
		end;
	}
	if (rhea_rus_hair == 2) {
		if (gettime(DT_HOUR) >= 17 || gettime(DT_HOUR) <= 6) {
			mes "- Splash !! -";
			next;
			if (countitem(523) > 0) {// Holy_Water
				mes "- You hear a splashing sound -";
				mes "- and see something gleaming -";
				donpcevent "Lusalka#rus23::OnEnable";
				close;
			}
			mes "- You hear a splashing as -";
			mes "- something gleaming -";
			mes "- seems to stare at you!! -";
			next;
			specialeffect2 EF_FLASHER;
			percentheal -60,0;
			close;
		}
	} else if (rhea_rus_hair > 2 && rhea_rus_hair < 7) {
		mes "[Lusalka's Voice]";
		mes "His name is 'Igor'.. He has gone to the capital of Rune-Midgarts. Give him my golden earrings.";
		next;
		mes "[Lusalka's Voice]";
		mes "And please, tell him to stop suffering and to be happy. This is my request.";
		close;
	} else if (rhea_rus_hair == 7) {
		if (gettime(DT_HOUR) >= 17 || gettime(DT_HOUR) <= 6) {
			mes "- Splash !! -";
			next;
			if (countitem(523) > 0) {
				mes "-You hear splashing sound and see something gleaming-";
				donpcevent "Lusalka#rus23::OnEnable";
				close;
			}
			mes "-You seem to hear the splash but something gleaming raids on you!!-";
			specialeffect2 EF_FLASHER;
			percentheal -60,0;
			close;
		}
	} else if (rhea_rus_hair == 8) {
		mes "["+ strcharinfo(0) +"]";
		mes "What was that?!";
		mes "Why am I here?";
		next;
		mes "- After standing up, you see -";
		mes "- the wet hair in front of you -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...This.. is Lusalka's hair?";
		mes "Ah, right.. I came here to get her hair.";
		next;
		mes "- You pick up the hair -";
		next;
		mes "- As soon as you touch the -";
		mes "- cool damp hair, you seem -";
		mes "- the feel the sadness within -";
		rhea_rus_hair = 9;
		getitem 7878,2;
		// // completequest 8150;
		// completequest 8153;
		close;
	} else if (rhea_rus_hair > 8) {
		mes "- You feel that someone -";
		mes "- is watching you -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Who's there? Anybody here?";
		next;
		mes "- The splashing sound -";
		mes "- fades away, but you -";
		mes "- still feel the sadness -";
		close;
	}
}

//----------------------------------------------------------------------------
// Lusalka (Lusalka's Hair)
//----------------------------------------------------------------------------
mosk_fild02,124,202,3	script	Lusalka#rus23	4_F_RUSGREEN,{
	if (countitem(523)) {// Holy_Water
		if (rhea_rus_main < 8) {
			mes "[Lusalka]";
			mes "...Your alive...";
			mes "My stare didn't...";
			mes "What are you doing here...?";
			close;
		} else if (rhea_rus_main == 8) {
			if (rhea_rus_hair < 2) {
				mes "[Lusalka]";
				mes "...Your alive...";
				mes "My stare didn't...";
				mes "What are you doing here...?";
				close;
			} else if (rhea_rus_hair == 2) {
				if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, did I forget to wear something...?";
					close;
				}
				mes "...Your alive...";
				mes "My stare didn't...";
				mes "What are you doing here...?";
				next;
				mes "[Lusalka]";
				mes "Nighttime for the aqua nymph.";
				mes "Haven't you heard that Lusalka's stare can kill people. If you didn't have the 'Holy Water', you would surely have died.";
				next;
				select("I am an adventurer and...");
				mes "[Lusalka]";
				mes "...An adventurer...?";
				mes "If so, you came here from another continent, not Moscovia...?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "I'm from Rune-Midgarts.";
				next;
				mes "[Lusalka]";
				mes "...Rune... Midgarts...";
				mes "A few days ago, my lover left for Rune-Midgarts.. Can you find him for me? I want to talk with him...";
				next;
				mes "[Lusalka]";
				mes "...I don't know why but, I can't remember how I became Lusalka. When I woke up, I was lying down on the bottom of the river.";
				next;
				mes "[Lusalka]";
				mes "I forgot everything, but not him. His smile and warm hand. I remember everything about him.";
				next;
				mes "[Lusalka]";
				mes "I watched him from the bottom of the river sitting randomly around the river and staring into the marsh. With very sad eyes.";
				next;
				mes "[Lusalka]";
				mes "I suffered seeing him grieve, but wasn't able to meet him. Ordinary people are killed immediately when they see Lusalka's stare...";
				next;
				mes "[Lusalka]";
				mes "I saw him coming to the marsh everyday and heard him mourning. And his assurance to go to Rune-Midgarts.";
				next;
				mes "[Lusalka]";
				mes "Adventurer, can you find him for me? I can't leave this marsh. Please, find him for me?";
				next;
				mes "[Lusalka]";
				mes "I don't want him to come back or to meet me again. But, Please tell him that I hope he'll stop suffering and to be happy.";
				next;
				mes "[Lusalka]";
				mes "I became Lusalka, but it is ok. I'm not sad. But, I can feel his sadness around this river that surrounds me. I feel sorry about it.";
				next;
				mes "[Lusalka]";
				mes "Please, find him and tell him that I am ok and to stop suffering...";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Where can I find him?";
				next;
				mes "[Lusalka]";
				mes "The night when he left, he said that he would go to the capital of Rune-Midgarts. I am not sure if he is still there...";
				next;
				if(select("Ok, I will do it:I don't think I can do it...") == 2) {
					mes "["+ strcharinfo(0) +"]";
					mes "Rune-Midgarts is large! I don't think I can do it.";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "There's nothing we can do. Just give it up.";
					next;
					mes "[Lusalka]";
					mes "Ah... but...";
					emotion ET_CRY;
					donpcevent "Lusalka#rus23::OnDisable";
					close;
				}
				mes "[Lusalka]";
				mes "Ah! Thank you so much! His name is '^0000ffIgor^000000'. Ah, give these earrings to him. He gave them to me as a present.";
				next;
				mes "- ^0000ffI recieve the^000000 -";
				mes "- ^0000ffgolden earrings^000000 -";
				mes "- ^0000fffrom Lusalka!^000000 -";
				rhea_rus_hair = 3;
				// changequest 8149,8150;
				donpcevent "Lusalka#rus23::OnDisable";
				close;
			} else if (rhea_rus_hair > 2 && rhea_rus_hair < 7) {
				mes "[Lusalka]";
				mes "His name is 'Igor'.. He has gone to the capital of Rune-Midgarts. Give him my golden earrings.";
				next;
				mes "[Lusalka]";
				mes "And please, tell him to stop suffering and to be happy. This is my request.";
				close;
			} else if (rhea_rus_hair == 7) {
				if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, did I forget to wear something...?";
					close;
				}
				mes "[Lusalka]";
				mes "Have you seen him? How was he?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "This is a message from Igor.";
				mes "He said that he remembers every moment with you and still loves you.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "And he would come back to Moscovia until the full moon and wanted you to meet him. He told me that he will be strong enough not to make you suffer.";
				next;
				mes "[Lusalka]";
				mes "Igor...";
				next;
				mes "[Lusalka]";
				mes "Thank you very much. I really appreciate it.";
				mes "How can I thank you? Let me know what I can do for you.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Can I ask a favor of you?";
				next;
				mes "[Lusalka]";
				mes "If I can, I will do it.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "If so!!";
				mes "....I need some of your hair.";
				next;
				mes "[Lusalka]";
				mes "...Eh, hair? Is that all?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Actually it's not all.";
				mes "I need 2 lockes!";
				next;
				mes "[Lusalka]";
				mes "Ah, hahaha.";
				mes "Is that what you wanted? Huhu, sure take what you want.";
				next;
				mes "- Lusalka cuts some -";
				mes "- of her hair with her -";
				mes "- sharp nails -";
				next;
				mes "[Lusalka]";
				mes "Here, my hair...?!";
				mes "Aaaaaaaah!??!?!";
				sc_start SC_CURSE,60000,0;
				specialeffect2 EF_LORD;
				emotion ET_HUK, playerattached();
				percentheal -30,0;
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "W, what was that!?";
				mes "Who's there?!";
				next;
				mes "[Voice unidentified]";
				mes "Don't think that you've succeeded in keeping me sealed in this prison you fool!";
				mes "You will never stop me!!!";
				mes "hahahaha!!!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "W, who are you!? Ahkkk!!";
				sc_start SC_BLIND,10000,0;
				rhea_rus_hair = 8;
				// // completequest 8150;
				// completequest 8153;
				donpcevent "Lusalka#rus23::OnDisable";
				close;
			} else if (rhea_rus_hair > 7) {
				mes "["+ strcharinfo(0) +"]";
				mes "...?! What are you? The marsh ghost?";
				next;
				mes "[Lusalka]";
				mes "..........................";
				next;
				mes "- The green thing seems to open its mouth to say something but closes it soon after and watches you with its sad eyes-";
				close;
			}
			mes "["+ strcharinfo(0) +"]";
			mes "...?! What are you? The marsh ghost?";
			next;
			mes "[Lusalka]";
			mes "..........................";
			next;
			mes "- The green thing seems to open its mouth to say something but closes it soon after and watches you with its sad eyes-";
			close;
		}
		end;
	}
	mes "-When Lusalka watches you, you are blacked out-";
	specialeffect2 EF_FLASHER;
	percentheal -60,0;
	donpcevent "Lusalka#rus23::OnDisable";
	close;

OnEnable:
	initnpctimer;
	enablenpc "Lusalka#rus23";
	end;

OnTimer300000:
OnDisable:
	stopnpctimer;
OnInit:
	disablenpc "Lusalka#rus23";
	end;
}

//----------------------------------------------------------------------------
// Wanderer (Lusalka's Hair)
//----------------------------------------------------------------------------
prontera,228,279,3	script	Wanderer#rus24	4_M_RUSMAN2,{
	if (rhea_rus_main < 8) {
		mes "[A Wanderer from a strange land]";
		mes "Hey, there are so many adventurers around here. I can see why this is the capital of the Rune-Midgarts Kingdom!";
		next;
		mes "[A Wanderer from a strange land]";
		mes "In your free time, come to see me! The weather here is even more favorable than our the best summer back home.";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 3) {
			mes "[A Wanderer from a strange land]";
			mes "Hey, there are so many adventurers around here. I can see why this is the capital of the Rune-Midgarts Kingdom!";
			next;
			mes "[A Wanderer from a strange land]";
			mes "In your free time, come to see me! The weather here is even more favorable than our the best summer back home.";
			close;
		} else if (rhea_rus_hair == 3) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[A Wanderer from a strange land]";
			mes "Hey, there are so many adventurers around here. I can see why this is the capital of the Rune-Midgarts Kingdom!";
			next;
			mes "[A Wanderer from a strange land]";
			mes "In your free time, come to see me! The weather here is even more favorable than our the best summer back home.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Back home?";
			mes "Excuse me for asking, but are you from Moscovia?";
			next;
			mes "[A Wanderer from a strange land]";
			mes "Ho, how did you know that?";
			mes "Have you been there before?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Ah, yes. I have been there...";
			mes "By the way, the important thing is.. are you.....";
			next;
			input .@input$;
			if (.@input$ == "Igor") {
				mes "["+ strcharinfo(0) +"]";
				mes "Ah, yes. I have been there...";
				mes "By the way, the important thing is.. are you..... "+ .@input$ +"?";
				next;
			} else {
				mes "["+ strcharinfo(0) +"]";
				mes "Ah, yes. I have been there...";
				mes "By the way, the important thing is.. are you..... "+ .@input$ +"?";
				next;
				mes "[A Wanderer from a strange land]";
				mes "Hmm, no.";
				mes "I have never heard that name.";
				close;
			}
			mes "[A Wanderer from a strange land]";
			mes "Hmm, no. But, that name is familiar.";
			next;
			mes "[A Wanderer from a strange land]";
			mes "Ah, oh yes! How could I forget?";
			emotion ET_AHA;
			next;
			mes "[A Wanderer from a strange land]";
			mes "We came here from Moscovia together. He called himself Igg. I came here with him but parted with him quite a while ago. He was sad because he couldn't forget about his lost lover.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Ah, yes that must be Igor.";
			mes "I am looking for him!";
			mes "Do you know where he is now?";
			next;
			mes "[A Wanderer from a strange land]";
			mes "Hmm, I don't know";
			mes "exactly where he is.";
			mes "Though, he did tell";
			mes "me that he wanted";
			mes "to travel to a desert.";
			rhea_rus_hair = 4;
			// changequest 8150,8151;
			close;
		} else if (rhea_rus_hair > 3 && rhea_rus_hair < 7) {
			mes "[A Wanderer from a strange land]";
			mes "He called himself Igg. I came here with him but parted with him quite a while ago. He was sad because he couldn't forget about his lost lover.";
			next;
			mes "[A Wanderer from a strange land]";
			mes "Hmm, I don't know";
			mes "exactly where he is.";
			mes "Though, he did tell";
			mes "me that he wanted";
			mes "to travel to a desert.";
			close;
		}
	}
	mes "[A Wanderer from a strange land]";
	mes "Is there anywhere I should go? Where have you been with him?";
	next;
	mes "[A Wanderer from a strange land]";
	mes "Let me know somewhere.";
	close;
}

//----------------------------------------------------------------------------
// Morocc Villager (Lusalka's Hair)
//----------------------------------------------------------------------------
morocc,165,82,0	script	Morocc Villager#rus25	1_M_02,{
	if (rhea_rus_main < 8) {
		mes "[Morocc Villager]";
		mes "Huh, more and more adventurers are settling here recently, so it's hard to tell who is a villager or an adventurer.";
		next;
		mes "[Morocc Villager]";
		mes "But natives, like me, can tell the difference.";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 4) {
			mes "[Morocc Villager]";
			mes "Huh, more and more adventurers are settling here recently, so it's hard to tell who is a villager or an adventurer.";
			next;
			mes "[Morocc Villager]";
			mes "But natives, like me, can tell the difference.";
			close;
		} else if (rhea_rus_hair == 4) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Morocc Villager]";
			mes "Huh, more and more adventurers are settling here recently, so it's hard to tell who is a villager or an adventurer.";
			next;
			mes "[Morocc Villager]";
			mes "But natives, like me, can tell the difference.";
			next;
			mes "[Morocc Villager]";
			mes "As I was saying, I like this village. The desert is hot and Kafra staff is even hotter!!! *hack* *cough*!!";
			next;
			mes "[Morocc Villager]";
			mes "Ah, but don't get me wrong! I'm not coughing because of the Kafra Staffers. It's uhh the heat, it's getting to me... ya...";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "................................";
			mes "The hell you talking about..? I'm looking for someone.";
			next;
			mes "[Morocc Villager]";
			mes "I see so many adventurers around here, how can I remember everybody? Got any descriptions of this someone..? Or traits..? anything to help me remember.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Hmm... I don't know how he looks like but he is from a land called Moscovia.";
			next;
			mes "[Morocc Villager]";
			mes "Ah, are you talking about a guy that's always sad and dresses funny? I figured his accent wasn't from around here...";
			next;
			mes "[Morocc Villager]";
			mes "He was here a coupla days ago but he left to see the Pyramid. I never saw him after that. I said it would be dangerous but he went anyways.";
			next;
			mes "[Morocc Villager]";
			mes "Yep that's gotta be who you're looking for. I can see his gloomy face right now... that poor sad man.";
			rhea_rus_hair = 5;
			// changequest 8151,8152;
			close;
		} else if (rhea_rus_hair > 4 && rhea_rus_hair < 7) {
			mes "[Morocc Villager]";
			mes "He was here a coupla days ago but he left to see the Pyramid. I never saw him after that. I said it would be dangerous but he went anyways.";
			next;
			mes "[Morocc Villager]";
			mes "Yep that's gotta be who you're looking for. I can see his gloomy face right now... that poor sad man.";
			close;
		}
	}
	mes "[Morocc Villager]";
	mes "Many travellers in the village and I feel fun to see them. Even though I am here, I feel like that I travel all around the world?";
	close;
}

//----------------------------------------------------------------------------
// Soldier/Igor (Lusalka's Hair)
//----------------------------------------------------------------------------
moc_pryd04,126,120,0	script	Soldier#rus26	4_M_RUSMAN1,{
	if (rhea_rus_main < 8) {
		mes "[A gloomy looking soldier]";
		mes "............................";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 5) {
			mes "[A gloomy looking soldier]";
			mes "............................";
			close;
		} else if (rhea_rus_hair == 4 || rhea_rus_hair == 5) {
			.@player_name$ = strcharinfo(0);
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ .@player_name$ +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[A gloomy looking soldier]";
			mes "............................";
			next;
			mes "[A gloomy looking soldier]";
			mes "...I don't know who you are. Just get outta my face. I don't want to talk...";
			next;
			mes "["+ .@player_name$ +"]";
			mes "It's pretty dangerous here. There are fierce monsters all over the place.";
			next;
			mes "[A gloomy looking soldier]";
			mes "... Good. Let them come. I want to die here alone.";
			next;
			mes "["+ .@player_name$ +"]";
			mes "A-Are you Igor? What're you talking about? Have you gone nuts?";
			next;
			mes "["+ .@player_name$ +"]";
			mes "Do you have any idea how much your lover is suffering?";
			next;
			mes "[A gloomy looking soldier]";
			mes "My... lover...?";
			next;
			mes "["+ .@player_name$ +"]";
			mes "I brought a message from her. She says not to suffer anymore and to just be happy...";
			next;
			mes "["+ .@player_name$ +"]";
			mes "The more you suffer, the deeper she sinks into sadness. Don't think that you're the only one that's suffering...";
			next;
			mes "[A gloomy looking soldier]";
			mes "...Svetlana?!";
			mes "Wait, how could you...? She... how do I know that she really spoke to you?!";
			next;
			mes "-^0000ff Without a word, ^000000-";
			mes "-^0000ff you give him Lusalka's ^000000-";
			mes "-^0000ff golden earrings ^000000-";
			next;
			mes "[A gloomy looking soldier]";
			mes "T, this is Svetlana's...?!";
			mes "H, how did you!?";
			next;
			mes "["+ .@player_name$ +"]";
			mes "I met her by accident. She became Lusalka in the marsh of Moscovia.";
			next;
			mes "["+ .@player_name$ +"]";
			mes "She told me that you wouldn't believe me so she gave me these earrings as proof... The present that you gave to her.";
			next;
			mes "[A gloomy looking soldier]";
			mes "Is that true?";
			mes "Did she really become Lusalka?";
			next;
			mes "[A gloomy looking soldier]";
			mes "It was near the end of the harsh Moscovia winter... She... didn't realize that the ice on the marsh was already melting...";
			next;
			mes "[A gloomy looking soldier]";
			mes "By then, it was too late the ice cracked where she was and she fell into the freezing cold marsh.";
			next;
			mes "[A gloomy looking soldier]";
			mes "She wasn't able to swim. I tried to get her out but it was impossible.";
			next;
			mes "[A gloomy looking soldier]";
			mes "She sunk quickly into the marsh. I was able to reach her hand but, she realized that it would kill both of us and she released my hand... I regret that moment every single day.";
			next;
			mes "[A gloomy looking soldier]";
			mes "My last memory of her was of her smiling, as she sunk into the cold, wet marsh. As if to say, 'You will be ok.'";
			next;
			mes "[A gloomy looking soldier]";
			mes "I, I was a coward. I was too afraid of drowning to pull her out of the marsh. Too afraid of....";
			mes "Oh... Svetlana!!!";
			rhea_rus_hair = 6;
			close;
		} else if (rhea_rus_hair == 6) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[A gloomy looking soldier]";
			mes "I knew that she had become the cursed nymph Lusalka. But, I still went every night... to find her. I just wanted to see her and talk to her.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "She told me that she also wanted to see you. But, she was afraid that Lusalka's curse would kill you if you saw her.";
			mes "And so she hid...";
			next;
			mes "[A gloomy looking soldier]";
			mes "How could she think of me...";
			mes "...I, how should I.. Should I...";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Don't be sad. She still loves you. Your suffering is her suffering.";
			next;
			mes "[A gloomy looking soldier]";
			mes "................................................She is? Thank you. You've encouraged me.";
			next;
			mes "[A gloomy looking soldier]";
			mes "I will go back to Moscovia. But, I'm not well enough at the moment to go back.";
			next;
			mes "[A gloomy looking soldier]";
			mes "Could you please go to her and tell her my message?";
			mes "I remember every moment I've had with her and... I still love her.";
			next;
			mes "[A gloomy looking soldier]";
			mes "Before the full moon, I will be back to Moscovia and meet her. I will come back so strong and happy that when I go to see her she will not suffer anymore.";
			rhea_rus_hair = 7;
			// changequest 8152,8153;
			close;
		} else if (rhea_rus_hair == 7) {
			mes "[A gloomy looking soldier]";
			mes "Could you please go to her and tell her my message?";
			mes "I remember every moment I've had with her and... I still love her.";
			next;
			mes "[A gloomy looking soldier]";
			mes "Before the full moon, I will be back to Moscovia and meet her. I will come back so strong and happy that when I go to see her she will not suffer anymore.";
			close;
		} 
	}
	mes "[A gloomy looking soldier]";
	mes "... I feel like I lost something precious.";
	next;
	mes "- He looks down at the golden earrings and rubs it carefully -";
	close;
}

//----------------------------------------------------------------------------
// Marozka's Dungeon (Golden Thread)
//----------------------------------------------------------------------------
mosk_dun01,45,250,3	script	1#rus27	WARPNPC,3,3,{
	end;
OnTouch_:
	warp "mosk_que",49,22;
	end;

OnEnable:
	initnpctimer;
	specialeffect EF_PORTAL2;
	enablenpc "1#rus27";
	end;

OnTimer30000:
	stopnpctimer;
OnInit:
	disablenpc "1#rus27";
	end;
}
mosk_que,0,0	monster	Freezer	1887,10,20000
mosk_que,0,0	monster	Hatii Baby	1888,3,300000
mosk_que,0,0	monster	Sasquatch	1243,15,10000

mosk_que,49,22,3	script	#rus27	-1,3,3,{
	end;
OnTouch_:
	if (rhea_rus_main == 8) {
		if (!rhea_rus_quiz) {
			mes "[Voice unidentified]";
			mes "Who dares to come into my cave!";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Are you Marozka? Maria sent me! I need your 'Golden Thread' to make a 'Golden Key' to release her from the wall!";
			next;
			mes "[Voice unidentified]";
			mes "...To make a 'Golden Key'?";
			mes "Do you think that you are right for this job?";
			next;
			mes "[Voice unidentified]";
			mes "You must be fighting against 'Koshei' if you are asking about the 'Golden Key' and Maria! Do you think that you are strong enough to fight against him?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Of course I'm strong enough!";
			next;
			mes "[Voice unidentified]";
			mes "You are very confident.";
			mes "But, I need to test you to see if you truly are capable.";
			next;
			mes "[Voice unidentified]";
			mes "In this cave, there is a 'Stone Furnace' and an 'Apple Tree'.";
			mes "You can escape from the cave with ^0000ff100 Well Baked Cookies^000000 from the Stone Furnace and ^0000ff100 Apples^000000 from the Apple Tree.";
			next;
			mes "[Voice unidentified]";
			mes "It won't be easy. Monsters are wandering around the Stone Furnace and the Apple Tree.";
			next;
			mes "[Voice unidentified]";
			mes "Show me what you can do.";
			rhea_rus_quiz = 1;
			// setquest 8155;
			close;
		}
	}
	emotion ET_QUESTION, playerattached();
	end;
}

mosk_que,45,131,0	script	Stone Furnace#rus28	HIDDEN_NPC,{
	if (rhea_rus_main == 8) {
		if (rhea_rus_quiz == 1) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "- You can see the -";
			mes "- well baked cookies. -";
			mes "- Be careful and -";
			mes "- don't get burned -";
			next;
			if (rand(1,3) == 2) {
				mes "- You quickly stretch out -";
				mes "- your hand and pick up -";
				mes "- the well baked cookies! -";
				next;
				mes "- ^0000ffYou got 100^000000 -";
				mes "- ^0000ffWell Baked Cookies!!^000000 -";
				next;
			} else {
				mes "- You quickly stretch out -";
				mes "- your hand and pick up -";
				mes "- the well baked cookies! -";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Oops, it's hot, hot!!!";
				specialeffect2 EF_FIREHIT;
				emotion ET_HUK, playerattached();
				percentheal -5,0;
				close;
			}
			mes "[Marozka's Guard]";
			mes "How did this rat get inside the cave?!";
			announce "Marozka's Guard : Invader! Search the whole cave!!",bc_map,0x87CEEB;
			rhea_rus_quiz = 2;
			if (!$@rus_req01) {
				initnpctimer;
				monster "mosk_que",49,156,"Marozka's Guard",1889,1,"Stone Furnace#rus28::OnMyMobDead";
				$@rus_req01 = 1;
			}
			close;
		}
	}
	emotion ET_QUESTION, playerattached();
	end;

OnMyMobDead:
	stopnpctimer;
	$@rus_req01 = 0;
	announce "Mazroka : You are truly brave. When you get the cookies and apples, come to see me.",bc_map,0x87CEEB;
	end;

OnTimer300000:
	killmonster "mosk_que","Stone Furnace#rus28::OnMyMobDead";
	stopnpctimer;
OnInit:
	$@rus_req01 = 0;
	end;
}

mosk_que,56,202,0	script	Occult Apple Tree#rus29	HIDDEN_NPC,{
	if (rhea_rus_main == 8) {
		if (rhea_rus_quiz == 2) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "- There are Ripe Apples -";
			mes "- growing in clusters. -";
			mes "- But they are higher than -";
			mes "- you expected them to be -";
			next;
			if (rand(1,5) == 2) {
				mes "- You hit the tree firmly, -";
				mes "- and the apples fall down! -";
				next;
			} else {
				mes "- You hit the tree firmly, -";
				mes "- worms fall down! -";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Ahhhhhhhh!!!";
				emotion ET_HUK, playerattached();
				close;
			}
			mes "- ^0000ff You get 100 Apples !!^000000 -";
			announce "Mazroka : You are truly brave. When you get the cookies and apples, come to see me.",bc_map,0x87CEEB;
			rhea_rus_quiz = 3;
			close;
		}
	}
	emotion ET_QUESTION, playerattached();
	end;
}

mosk_que,47,217,0	warp	Escape#rus30	3,3,mosk_fild02,237,266

//----------------------------------------------------------------------------
// Marozka (Golden Thread)
//----------------------------------------------------------------------------
mosk_fild02,243,270,0	script	Marozka#rus31	4_M_LGTGRAND,{
	if (rhea_rus_main < 8) {
		mes "[Marozka]";
		mes "...........................";
		close;
	} else if (rhea_rus_main == 8) {
		if (rhea_rus_quiz < 3) {
			mes "[Marozka]";
			mes "...........................";
			close;
		} else if (rhea_rus_quiz == 3) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Marozka]";
			mes ".....................you came.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Are you Marozka? Here, I've proven to you my strength now can you make me the 'Golden Thread'?";
			mes "I need it to get Maria out of that wall.";
			next;
			mes "- You put the cookies and -";
			mes "- apples in front of him -";
			mes "- and he slowly utters -";
			next;
			mes "[Marozka]";
			mes "As you've heard, to make the 'Golden Thread' is very difficult and takes a very long time.";
			next;
			mes "[Marozka]";
			mes "I will begin making it now... let me see... Could you please come back to me in an hour?";
			rhea_rus_quiz = 4;
			rus_time01 = gettime(DT_HOUR);
			rus_time02 = gettime(DT_DAYOFWEEK);
			// changequest 8155,8156;
			close;
		} else if (rhea_rus_quiz == 4) {
			if (rus_time01 != gettime(DT_HOUR) || rus_time02 != gettime(DT_DAYOFWEEK)) {
				mes "[Marozka]";
				mes "Ah, just in time.";
				mes "I have finally finished making the 'Golden Thread'. Just wait one more second and it'll be ready.";
				rhea_rus_quiz = 28;
				close;
			}
			mes "[Marozka]";
			mes "As you've heard, to make the 'Golden Thread' is very difficult and takes a very long time.";
			next;
			mes "[Marozka]";
			mes "I will begin making it now... let me see... Could you please come back to me in an hour?";
			close;
		} else if (rhea_rus_quiz == 28) {
			mes "[Marozka]";
			mes "As promised, here's the 'Golden Thread'.";
			mes "So, you are really going to fight Koshei the Immportal, eh?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "I don't know but I promised to get Maria out of there.";
			next;
			mes "[Marozka]";
			mes "Huh, Koshei is not your average adversary. Strength alone cannot beat him. You will need wisdom and an unfaltering spirit in order to win.";
			next;
			mes "[Marozka]";
			mes "Koshei will be extremely hostile to you because you are helping Maria.";
			next;
			mes "[Marozka]";
			mes "Do you still want the Golden Thread? Ok, I will give it to you! But, there is one more test.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "One more test?";
			mes "Didn't I already prove my worth?";
			next;
			mes "[Marozka]";
			mes "That was a test of your strength. Now you must pass the test of mind and wisdom.";
			rhea_rus_quiz = 29;
			// changequest 8156,8157;
			close;
		} else if (rhea_rus_quiz == 29) {
			if (getequipid(EQI_SHOES) != 2429 && getequipid(EQI_SHOES) != 2430) {
				mes "["+ strcharinfo(0) +"]";
				mes "...Hmm, did I forget to wear something...?";
				close;
			}
			mes "[Marozka]";
			mes "...So? Have you decided?";
			next;
			if(select("I need more time...:I will take it!") == 1) {
				mes "[Marozka]";
				mes "Ok then. Come back when you are ready.";
				close;
			}
			mes "[Marozka]";
			mes "You will... Ok, let's get to it. You must answer all of these questions correctly in order to pass the test.";
			next;
			mes "[Marozka]";
			mes "What is deaf, dumb, and blind and always tells the truth?";
			next;
			.@j = select("A Poring:A Picky:A Mirror:A Tree"); 
			.@rus_quiz01 = (.@j==3) ? 1 : 0;
			mes "[Marozka]";
			mes "If 4 cats can catch 4 mice every 4 minutes, what is the minimum number of cats needed to get 10 mice in 10 minutes?";
			next;
			.@j = select("4:5:6:10");
			.@rus_quiz01 = (.@j==1)?.@rus_quiz01+1:.@rus_quiz01;
			mes "[Marozka]";
			mes "Which of these gets shorter during winter and longer during summer?";
			next;
			.@j = select("Sky:Day:Waves:Wind");
			.@rus_quiz01 = (.@j==2)?.@rus_quiz01+1:.@rus_quiz01;
			mes "[Marozka]";
			mes "Doris Etticoat, wears a petticoat and has a red nose; the longer she stands, the shorter she grows. What is she?";
			next;
			.@j = select("A Star:A Candle:A Sword:The Moon");
			.@rus_quiz01 = (.@j==2)?.@rus_quiz01+1:.@rus_quiz01;
			mes "[Marozka]";
			mes "My top and bottom are twins of a kind. The middle of me makes one body combined. If I stand tall and still, run faster I will. What am I?";
			next;
			.@j = select("A Woman:Valkyrie:The Moon:An Hourglass");
			.@rus_quiz01 = (.@j==4)?.@rus_quiz01+1:.@rus_quiz01;
			mes "[Marozka]";
			mes "Now let's see how you did.";
			next;
			if (.@rus_quiz01 > 4) {
				mes "[Marozka]";
				mes "You got all of them correct.";
				next;
			} else {
				mes "[Marozka]";
				mes "I told you before that I wouldn't give you the Golden Thread until you got all questions correct.";
				next;
				mes "[Marozka]";
				mes "It is not too late to try again. With wisdom comes patience.";
				close;
			}
			mes "[Marozka]";
			mes "I know that a quiz is a strange way of evaluating a person's wisdom. But, it is my way of knowing if you are truly committed to fighting Koshei.";
			next;
			mes "[Marozka]";
			mes "I hope you help Maria with your strength and kindness.";
			rhea_rus_quiz = 30;
			getitem 7879,10;// Golden_Thread
			// completequest 8157;
			close;
		}
	}
	mes "[Marozka]";
	mes "...............................";
	next;
	mes "- He closes his eyes -";
	mes "- and stands still -";
	close;
}

//----------------------------------------------------------------------------
// Baba Yaga (Golden Key)
//----------------------------------------------------------------------------
mosk_dun02,48,214,5	script	Baba Yaga#rus32	4_F_BABAYAGA,{
	if (rhea_rus_main < 9) {
		mes "[Baba Yaga]";
		mes "...........................";
		mes "If you lotter around here any longer, I will make myself some tasty human soup! Hehehehehe.";
		emotion ET_KIK;
		emotion ET_HUK, playerattached();
		close;
	} else if (rhea_rus_main == 9) {
		.@player_name$ = strcharinfo(0);
		mes "[Baba Yaga]";
		mes "Why are you here, you yummy looking human? If you lotter around here any longer, I will make myself some tasty human soup! Hehehehehe";
		next;
		mes "["+ .@player_name$ +"]";
		mes "I, ah, I.. Gold.. golden...";
		next;
		mes "[Baba Yaga]";
		mes "What are you babbling about?";
		mes "Do you want me to transform you into a savage beast?!";
		next;
		mes "[Baba Yaga]";
		mes "'Presto Change-o!!'";
		mes "'Turn into a pig!!'";
		specialeffect2 EF_BARRIER;
		emotion ET_HUK;
		next;
		mes "[Baba Yaga]";
		mes "Hmm? You are protected by a Protection Spell?";
		mes "But, it was weake. My spell destroyed it.";
		next;
		mes "[Baba Yaga]";
		mes "Leave now, or I will curse you again! 'Presto...'";
		next;
		mes "["+ .@player_name$ +"]";
		mes "Eh, eh.. I mean.. I say.. spell...";
		next;
		input .@input$;
		if (.@input$ == "Spellshield Protection") {
			mes "["+ .@player_name$ +"]";
			mes "Eh, eh.. I mean.. I say.. spell...";
			mes ""+ .@input$ +" !!!";
			specialeffect2 EF_ABSORBSPIRITS;
			next;
		} else {
			mes "["+ .@player_name$ +"]";
			mes "Eh, eh.. I mean.. I say.. spell...";
			mes ""+ .@input$ +" !!!";
			next;
			mes "[Baba Yaga]";
			mes "What are you planning to do with that weak spell!?";
			mes "Get away, child!";
			close2;
			warp "mosk_dun02",135,163;
			end;
		}
		mes "[Baba Yaga]";
		mes "Ho, you are protected by a Protection Spell. You are no ordinary kid.";
		next;
		mes "["+ .@player_name$ +"]";
		mes "I heard that you are able to make the 'Golden Key' and that's why I am here!";
		next;
		mes "[Baba Yaga]";
		mes "'Golden Key'? Why do you need it?";
		next;
		mes "["+ .@player_name$ +"]";
		mes "I need it to release Maria Mobrena from her dark wall prison.";
		next;
		mes "[Baba Yaga]";
		mes "...Maria Morebna...";
		mes "Are you fighting against Koshei?";
		next;
		mes "["+ .@player_name$ +"]";
		mes "If he gets in my way of keeping my promise to her, I guess that I will fight him.";
		next;
		mes "[Baba Yaga]";
		mes "Ho, kiheeheheheheheh. Ehehehehehehe.";
		mes "You are interesting. You don't seem to be scared of Koshei.";
		next;
		mes "[Baba Yaga]";
		mes "Ok, the materials for the key are...";
		next;
		if (countitem(724) > 1 && countitem(969) > 2 && countitem(7877) && countitem(7878) > 1 && countitem(7879) > 9) {
			mes "[Baba Yaga]";
			mes "You have already gatered all the materials?";
			next;
		} else {
			mes "[Baba Yaga]";
			mes "What? I cannot make you the 'Golden Key' without the materials.";
			next;
			mes "[Baba Yaga]";
			mes "Go and find ^0000ff2 Cursed Ruby, 3 Gold, 1 Red Ring, 2 Lusalka's Hair, 10 Golden Thread^000000!";
			close;
		}
		mes "[Baba Yaga]";
		mes "Ok, let's begin. Ah, before that... Wait here!";
		delitem 724,2;
		delitem 969,3;
		delitem 7877,1;
		delitem 7878,2;
		delitem 7879,10;
		rhea_rus_main = 10;
		close;
	} else if (rhea_rus_main == 10) {
		mes "[Baba Yaga]";
		mes "You come here!";
		next;
		mes "- Baba Yaga looks -";
		mes "- at you carefully -";
		next;
		mes "[Baba Yaga]";
		mes "Hmmm, you look energetic and strong. Ok, while I make the 'Golden Key', you must first do a favor for me!";
		next;
		if (BaseClass == Job_Archer) {
			mes "[Baba Yaga]";
			mes "My cow has run away. Find her and cast a Return Spell on her. The spell is '^ff0000Good feed is orange-flavored^000000'. You sould remember it.";
			next;
			mes "[Baba Yaga]";
			mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
			rhea_rus_main = 11;
			// changequest 8158,8159;
			close;
		} else if (BaseClass == Job_Acolyte) {
			mes "[Baba Yaga]";
			mes "Behind my house, there is noisy coffin. It has been so nosiy recently that I can't sleep. Silence it.";
			next;
			mes "[Baba Yaga]";
			mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
			rhea_rus_main = 16;
			// changequest 8158,8161;
			close;
		} else if (BaseClass == Job_Thief) {
			mes "[Baba Yaga]";
			mes "Please find my silver spoons. Those bad pirates stole them. I can feel them around the wrecked ship. Bring them to me.";
			next;
			mes "[Baba Yaga]";
			mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
			rhea_rus_main = 21;
			// changequest 8158,8163;
			close;
		} else if (BaseClass == Job_Mage) {
			mes "[Baba Yaga]";
			mes "Buy me a magic book. It is published by Momotaro in Amatsu. Go there and buy it for me.";
			next;
			mes "[Baba Yaga]";
			mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
			rhea_rus_main = 26;
			// changequest 8158,8169;
			close;
		} else if (BaseClass == Job_Swordman) {
			mes "[Baba Yaga]";
			mes "Can you see a jar next to the cabin? There is a House ghost living in there. Drive him out of there. He irritates me a lot.";
			next;
			mes "[Baba Yaga]";
			mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
			rhea_rus_main = 31;
			// changequest 8158,8171;
			close;
		}
		mes "[Baba Yaga]";
		mes "Go to the Broom Grandmother in Payon and buy me a broom. It is best for cleaning but I don't have time to go there.";
		next;
		mes "[Baba Yaga]";
		mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
		rhea_rus_main = 36;
		// changequest 8158,8173;
		close;
	} else if (rhea_rus_main > 10 && rhea_rus_main < 16) {
		mes "[Baba Yaga]";
		mes "My cow has run away. Find her and cast a Return Spell on her. The spell is '^ff0000Good feed is orange-flavored^000000'. You sould remember it.";
		next;
		mes "[Baba Yaga]";
		mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
		close;
	} else if (rhea_rus_main > 15 && rhea_rus_main < 21) {
		mes "[Baba Yaga]";
		mes "Can you see a jar next to the cabin? There is a House ghost living in there. Drive him out of there. He irritates me a lot.";
		next;
		mes "[Baba Yaga]";
		mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
		close;
	} else if (rhea_rus_main > 20 && rhea_rus_main < 26) {
		mes "[Baba Yaga]";
		mes "Please find my silver spoons. Those bad pirates stole them. I can feel them around the wrecked ship. Bring them to me.";
		next;
		mes "[Baba Yaga]";
		mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
		close;
	} else if (rhea_rus_main == 26) {
		mes "[Baba Yaga]";
		mes "Buy me a magic book. It is published by Momotaro in Amatsu. Go there and buy it for me.";
		next;
		mes "[Baba Yaga]";
		mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
		close;
	} else if (rhea_rus_main == 27) {
		if (countitem(7881) > 0) {
			mes "[Baba Yaga]";
			mes "Ho, did you buy the magic book? Give it to me. I will try it out.";
			next;
			mes "- Baba Yaga takes the book, -";
			mes "reads one of the pages, -";
			mes "and casts something -";
			next;
			mes "[Baba Yaga]";
			mes "Ok.. Let's do this.";
			mes "'Keep off the grass!!!'";
			specialeffect EF_BEGINSPELL4;
			delitem 7881,1;
			rhea_rus_main = 28;
			monster "mosk_dun02",52,210,"Violent Gardener",1493,1,"Baba Yaga#rus32::OnMyMobDead";
			monster "mosk_dun02",53,210,"Dangerous Gardener",1500,1,"Baba Yaga#rus32::OnMyMobDead";
			monster "mosk_dun02",54,210,"Brutal Gardener",1497,1,"Baba Yaga#rus32::OnMyMobDead";
			donpcevent "Baba Yaga#rus32::OnDisable";
			close;
		}
		mes "[Baba Yaga]";
		mes "Buy me a magic book. It is published by Momotaro in Amatsu. Go there and buy it for me.";
		next;
		mes "[Baba Yaga]";
		mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
		close;
	} else if (rhea_rus_main == 28) {
		mes "["+ strcharinfo(0) +"]";
		mes "W, what is this, suddenly?!";
		next;
		mes "[Baba Yaga]";
		mes "Ho.. this is for a beautiful garden. This is better than I expected. Ok then, let's do this.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Hey, are you listening to me?";
		next;
		mes "[Baba Yaga]";
		mes "'There is an order for you to open your eyes!!!'";
		specialeffect2 EF_BEGINSPELL3;
		rhea_rus_main = 29;
		monster "mosk_dun02",52,210,"Alarm to 5 minutes",1193,1,"Baba Yaga#rus32::OnMyMobDead";
		monster "mosk_dun02",53,210,"Alarm on time",1193,1,"Baba Yaga#rus32::OnMyMobDead";
		monster "mosk_dun02",54,210,"Alarm past 5 minutes",1193,1,"Baba Yaga#rus32::OnMyMobDead";
		donpcevent "Baba Yaga#rus32::OnDisable";
		close;
	} else if (rhea_rus_main == 29) {
		mes "["+ strcharinfo(0) +"]";
		mes "What are you doing!!";
		next;
		mes "[Baba Yaga]";
		mes "Hmm, this one makes people deligent and doesn't look effective. Ok then, next is a House Ghost...";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Hey, I am talking...";
		emotion ET_CRY, playerattached();
		next;
		mes "[Baba Yaga]";
		mes "'In the corner...'";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "!!!!!!!!!!!!!!!!!!!!!!!!!";
		emotion ET_HUK;
		next;
		mes "[Baba Yaga]";
		mes "What, child? Do you feel bad?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "When will you give me the key?!";
		next;
		mes "[Baba Yaga]";
		mes "Huh, I can make it for you right now. You have a violent temper.";
		rhea_rus_main = 44;
		// changequest 8161,8162;
		close;
	} else if (rhea_rus_main > 30 && rhea_rus_main < 36) {
		mes "[Baba Yaga]";
		mes "Can you see a jar next to the cabin? There is a House ghost living in there. Drive him out of there. He irritates me a lot.";
		next;
		mes "[Baba Yaga]";
		mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
		close;
	} else if (rhea_rus_main > 35 && rhea_rus_main < 41) {
		mes "[Baba Yaga]";
		mes "Go to the Broom Grandmother in Payon and buy me a broom. It is best for cleaning but I don't have time to go there.";
		next;
		mes "[Baba Yaga]";
		mes "Ok! Move, move! You better be quick or I will find a way to punish you. Ehehehehehe.";
		close;
	} else if (rhea_rus_main == 41) {
		mes "["+ strcharinfo(0) +"]";
		mes "I have done your favor! I got the cow!";
		next;
		mes "[Baba Yaga]";
		mes "Oh, great. I just finished making the 'Golden Key'!";
		next;
		mes "[Baba Yaga]";
		mes "Here, help Maria with this key and watch out for Koshei. He is very dangerous. Kehehehehehe.";
		rhea_rus_main = 47;
		getitem 7876,1;
		// changequest 8160,8176;
		close;
	} else if (rhea_rus_main == 42) {
		mes "["+ strcharinfo(0) +"]";
		mes "I have done your favor! The coffin is now silenced!";
		next;
		mes "[Baba Yaga]";
		mes "Oh, yes. I can sleep at night now. Kehehehehe.";
		next;
		mes "[Baba Yaga]";
		mes "You are on time. I just finished making the 'Golden Key'!";
		next;
		mes "[Baba Yaga]";
		mes "Here, help Maria with this key and watch out for Koshei. He is very dangerous. Kehehehehehe.";
		// changequest 8162,8176;
		rhea_rus_main = 47;
		getitem 7876,1;
		close;
	} else if (rhea_rus_main == 43) {
		if (countitem(7880)) {
			mes "["+ strcharinfo(0) +"]";
			mes "I have done your favor! I found and got the silver spoons!";
			next;
			mes "[Baba Yaga]";
			mes "Oh, yes. They are expensive ones. Those bad pirates.. Kehehehehe.";
			next;
			mes "[Baba Yaga]";
			mes "You are on time. I just finished making the 'Golden Key'!";
			next;
			mes "[Baba Yaga]";
			mes "Here, help Maria with this key and watch out for Koshei. He is very dangerous. Kehehehehehe.";
			delitem 7880,1;
			rhea_rus_main = 47;
			// changequest 8168,8176;
			getitem 7876,1;
			close;
		}
		mes "["+ strcharinfo(0) +"]";
		mes "I have done your favor! I found and got the silver spoons!";
		next;
		mes "[Baba Yaga]";
		mes "Oh, yes, yes. Give them to me.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Here they.. They..?!";
		next;
		mes "[Baba Yaga]";
		mes "You fool! Where did you sell my spoons!? Get them for me right now!";
		close;
	} else if (rhea_rus_main == 44) {
		mes "["+ strcharinfo(0) +"]";
		mes "I have done your favor. Give me the key!";
		next;
		mes "[Baba Yaga]";
		mes "Oh, yes, you violent tempered child. I just finished making the 'Golden Key'.";
		next;
		mes "[Baba Yaga]";
		mes "Here, help Maria with this key and watch out for Koshei. He is very dangerous. Kehehehehehe.";
		rhea_rus_main = 47;
		// changequest 8170,8176;
		getitem 7876,1;
		close;
	} else if (rhea_rus_main == 45) {
		mes "["+ strcharinfo(0) +"]";
		mes "I have done your favor! The House ghost is now quiet!";
		next;
		mes "[Baba Yaga]";
		mes "Oh, yes. That irritating ghost is gone. Kehehehehe.";
		next;
		mes "[Baba Yaga]";
		mes "You are on time. I just finished making the 'Golden Key'!";
		next;
		mes "[Baba Yaga]";
		mes "Here, help Maria with this key and watch out for Koshei. He is very dangerous. Kehehehehehe.";
		rhea_rus_main = 47;
		// changequest 8164,8167;
		// changequest 8172,8176;
		getitem 7876,1;
		close;
	} else if (rhea_rus_main == 46) {
		mes "["+ strcharinfo(0) +"]";
		mes "I have done your favor! Here, the best broom from Payon!";
		next;
		mes "[Baba Yaga]";
		mes "Ooh, yes. Well done. My flying broom was getting old. Kehehehehe.";
		next;
		mes "[Baba Yaga]";
		mes "You are on time. I just finished making the 'Golden Key'!";
		next;
		mes "[Baba Yaga]";
		mes "Here, help Maria with this key and watch out for Koshei. He is very dangerous. Kehehehehehe.";
		rhea_rus_main = 47;
		// changequest 8175,8176;
		getitem 7876,1;
		close;
	} else if (rhea_rus_main > 46 && rhea_rus_main < 49) {
		mes "[Baba Yaga]";
		mes "You got the key and went to Maria immedately, right?";
		next;
		mes "[Baba Yaga]";
		mes "Take care of yourself. When you release her, Koshei will come out and bring destruction.";
		close;
	} else if (rhea_rus_main == 49) {
		mes "[Baba Yaga]";
		mes "What are you doing here? Kehehehe.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Koshei... suddenly appeared.. and Maria.. Wolf... killed...";
		next;
		mes "[Baba Yaga]";
		mes "Calm down and speak slowly. I cannot hear you at all. Drink some water.";
		next;
		mes "- You drink some water and -";
		mes "- tell her the story slowly -";
		next;
		mes "[Baba Yaga]";
		mes "You beat Koshei? Did you?";
		mes "Kehehe, you are no ordinary kid.";
		next;
		mes "[Baba Yaga]";
		mes "Water to enliven Maria...";
		next;
		mes "[Baba Yaga]";
		mes "'Living Water'... I just need the ingredients.  I need ^0000ff1 Holy Water^000000 and ^0000ff2 Yggdrasil Leaves^000000.";
		next;
		mes "[Baba Yaga]";
		mes "And 'Dead Water'.. I need ^0000ff1 Cursed Water^000000 and ^0000ff10 Hinalle Leaflets^000000.";
		next;
		mes "[Baba Yaga]";
		mes "Bring them to me quickly! Time is running out!";
		rhea_rus_main = 50;
		// changequest 8178,8179;
		close;
	} else if (rhea_rus_main == 50) {
		if (countitem(523) && countitem(12020) && countitem(610) > 1 && countitem(520) > 9) {
			mes "[Baba Yaga]";
			mes "Kehe, you are very quick.";
			next;
			mes "[Baba Yaga]";
			mes "Ok, let's make the 'Living Water' first...";
			next;
			mes "- Baba Yaga brings a big pot, -";
			mes "- pours the Holy Water in it, -";
			mes "- puts the Yggdrasil Leaves -";
			mes "- in it and stirs them up -";
			mes "- as it casts strange spells -";
			next;
			mes "[Baba Yaga]";
			mes "Yg~ Yg~ Yggdrasil~ Yggdrasil has lots of iron~";
			specialeffect EF_PHARMACY_OK;
			next;
			mes "[Baba Yaga]";
			mes "Here, I made the 'Living Water' so now let's make the 'Dead Water'...";
			next;
			mes "- Baba Yaga pours the cursed -";
			mes "- water in another pot, then -";
			mes "- pounds the Hinalle leaflets, -";
			mes "- puts their juice in the pot -";
			mes "- and stirs them together -";
			mes "- as it casts strange spells -";
			next;
			mes "[Baba Yaga]";
			mes "Hi~ hi~ hi~ hi~ na~ lle~ Stir with right hand~ Stir with left hand~ Both hands will be ok~";
			specialeffect EF_PHARMACY_OK;
			next;
			mes "[Baba Yaga]";
			mes "Here, it's done.";
			next;
			mes "[Baba Yaga]";
			mes "Take this and help Maria. Kehehehehehe.";
			next;
			mes "[Baba Yaga]";
			mes "First, pour the 'Dead Water' to remove the wound and curse on her and then pour the 'Living Water' to enliven her.";
			next;
			mes "[Baba Yaga]";
			mes "Go there right now! Kehehehehe";
			next;
			mes "- ^0000ffYou get the 'Living Water'^000000 -";
			mes "- ^0000ffand the 'Dead Water' !!^000000 -";
			delitem 523,1;
			delitem 12020,1;
			delitem 610,2;
			delitem 520,10;
			rhea_rus_main = 51;
			// changequest 8179,8180;
			close;
		}
		mes "[Baba Yaga]";
		mes "'Living Water'... I just need the ingredients.  I need ^0000ff1 Holy Water^000000 and ^0000ff2 Yggdrasil Leaves^000000.";
		next;
		mes "[Baba Yaga]";
		mes "And 'Dead Water'.. I need ^0000ff1 Cursed Water^000000 and ^0000ff10 Hinalle Leaflets^000000.";
		next;
		mes "[Baba Yaga]";
		mes "Bring them to me quickly! Time is running out!";
		close;
	} else if (rhea_rus_main == 51) {
		mes "[Baba Yaga]";
		mes "Go to Maria to help her.";
		next;
		mes "[Baba Yaga]";
		mes "First, pour the 'Dead Water' to remove the wound and curse on her and then pour the 'Living Water' to enliven her.";
		next;
		mes "[Baba Yaga]";
		mes "Go there right now! Kehehehehe";
		close;
	} else if (rhea_rus_main == 52) {
		mes "[Baba Yaga]";
		mes "You are more useful than I thought, kid.";
		next;
		mes "[Baba Yaga]";
		mes "I thank you for helping Maria. To tell the truth, it was me that connected her with Koshei. In order to seal Koshei, I needed a sacrfice...";
		next;
		mes "[Baba Yaga]";
		mes "I succeeded in sealing Koshei away by using a girl who was magically strong. Sadly the girl also had to remain in the same condition as Koshei in order to maintain the seal.";
		next;
		mes "[Baba Yaga]";
		mes "However, after so many years it was impossible to keep him sealed with Maria's power alone.";
		next;
		mes "[Baba Yaga]";
		mes "So that's when I decided that if you could subdue Koshei, it would be the only way to release Maria instead of using her to maintain the seal.";
		next;
		mes "[Baba Yaga]";
		mes "So, that is why I helped you out by making the 'Golden Key'.";
		next;
		mes "[Baba Yaga]";
		mes "Koshei is still alive, but he is weaker than before. So I don't need to use Maria anymore to seal Koshei.";
		next;
		mes "[Baba Yaga]";
		mes "Thank you so much for helping Maria...";
		next;
		mes "[Baba Yaga]";
		mes "I want to give anything helpful for you.";
		next;
		mes "[Baba Yaga]";
		mes "Whenever you come to me, I will make you potions with just a few materials and a small fee. I hope that this will be of help to you. Kehehehehehe.";
		rhea_rus_main = 53;
		close;
	} else if (rhea_rus_main > 52) {
		mes "[Baba Yaga]";
		mes "Oh, you are back. What can I do for you?";
		next;
		switch(select("Condensed Red Potion:Condensed Yellow Potion:Cancel")) {
		case 1:
			.@item = 545;
			.@zeny_req = 20;
			setarray .@item_req[0], 501,1092,7134,512;
			setarray .@amount[0], 1,1,1,5;
			.@string$ =  "I can only make 100 at a time. If you don't want any, then just say '0'";
			break;
		case 2:
			.@item = 546;
			.@zeny_req = 50;
			setarray .@item_req[0], 503,1092,7134,513;
			setarray .@amount[0], 1,1,1,10;
			.@string$ = "Tell me the number less than 100. If you don't want, tell me zero";
			break;
		case 3:
			mes "[Baba Yaga]";
			mes "You don't want anything?";
			next;
			mes "[Baba Yaga]";
			mes "I don't understand you. What do you want? kehehehehe.";
			close;
		}
		mes "[Baba Yaga]";
		mes sprintf( "To make %s, I need ^0000ff%d %s, %d %s, %d %s, %d %s and %d Zeny^000000.", getitemname(.@item), .@amount[0], getitemname(.@item_req[0]), .@amount[1], getitemname(.@item_req[1]), .@amount[2], getitemname(.@item_req[2]), .@amount[3], getitemname(.@item_req[3]), .@zeny_req );
		if (Zeny >= .@zeny_req && countitem(.@item_req[0]) >= .@amount[0] && countitem(.@item_req[1]) >= .@amount[1] && countitem(.@item_req[2]) >= .@amount[2] && countitem(.@item_req[3]) >= .@amount[3]) {
			.@total = countitem(.@item_req[0])/.@amount[0];
			.@total = ( .@total <= ( countitem(.@item_req[1])/.@amount[1] ) ) ? .@total : ( countitem(.@item_req[1])/.@amount[1] );
			.@total = ( .@total <= ( countitem(.@item_req[2])/.@amount[2] ) ) ? .@total : ( countitem(.@item_req[2])/.@amount[2] ));
			.@total = ( .@total <= ( countitem(.@item_req[3])/.@amount[3] ) ) ? .@total : ( countitem(.@item_req[3])/.@amount[3] );
			.@total = ( .@total <= ( Zeny/.@zeny_req ) ) ? .@total : ( Zeny/.@zeny_req );
			next;
			mes "[Baba Yaga]";
			mes "With your materials, I can make ^0000ff"+ .@total +"^000000 "+ getitemname(.@item) +".";
			next;
			mes "[Baba Yaga]";
			mes "How many do you want me to make? "+ .@string$ +". Kehehehehe.";
			next;
			while(1) {
				input .@input;
				mes "[Baba Yaga]";
				if (!.@input) {
					mes "You don't want it?";
					next;
					mes "[Baba Yaga]";
					mes "I don't understand you. What do you want? Kehehehehe.";
					close;
				} else if (.@input > 100) {
					mes "I said no more than 100 at a time. Kehehehehe.";
					next;
				} else break;
			}
			if (Zeny < ( .@zeny_req *.@input ) || countitem(.@item_req[0]) < ( .@amount[0] *.@input ) || countitem(.@item_req[1]) < ( .@amount[1] *.@input ) || countitem(.@item_req[2]) < (.@amount[2] *.@input ) || countitem(.@item_req[3]) < (.@amount[3] *.@input )) {
				mes "[Baba Yaga]";
				mes "Where are the materials?";
				mes "They are not enough! Check them and come back again! Kehehehehe.";
				close;
			}
			mes "[Baba Yaga]";
			mes "Ho, you want "+ .@input +". Ok, wait here for a while.";
			next;
			mes "- Baba Yaga grinds the "+ getitemname(.@item_req[3]) +" -";
			mes "- and pours the "+ getitemname(.@item_req[0]) +" -";
			mes "- into the Medicine Bowl, -";
			mes "- boils and cools it down -";
			mes "- and puts it in the Test Tube -";
			next;
			mes "[Baba Yaga]";
			mes "Here, done!";
			specialeffect EF_PHARMACY_OK;
			next;
			mes "[Baba Yaga]";
			mes "Whenever you want more, come to me.";
			delitem .@item_req[0], ( .@amount[0] *.@input );
			delitem .@item_req[1], ( .@amount[1] *.@input );
			delitem .@item_req[2], ( .@amount[2] *.@input );
			delitem .@item_req[3], ( .@amount[3] *.@input );
			Zeny = Zeny - (.@input*.@zeny_req);
			getitem .@item, .@input;
		}
		close;
	}
	mes "[Baba Yaga]";
	mes "What are you, human child.";
	close;

OnDisable:
	initnpctimer;
	disablenpc "Baba Yaga#rus32";
	end;

OnTimer180000:
	stopnpctimer;
	killmonster "mosk_dun02","Baba Yaga#rus32::OnMyMobDead";

OnMyMobDead:
	enablenpc "Baba Yaga#rus32";
	end;
}

//----------------------------------------------------------------------------
// Baba Yaga's Tasks (Golden Key)
//----------------------------------------------------------------------------
mosk_dun02,257,193,0	script	Cow#rus33	4_BULL,3,3,{
	end;
OnTouch_:
	mes "[Cow]";
	mes "Moo...";
	if (rhea_rus_main == 11) {
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Hah, t, that is Baba Yaga's cow?!";
		mes "Y, you...";
		next;
		mes "- You approach to the cow carefully and hold its nape -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "You! Go home now!";
		emotion ET_HUK;
		next;
		mes "- The cow seems surprised, jumps and tries to attack you !! -";
		next;
		.@npc_num = atoi( charat( strnpcinfo(2),4 ) );
		if (.@npc_num == 3)
			setarray .@other_npc[0],4,5;
		else if (.@npc_num == 4)
			setarray .@other_npc[0],3,5;
		else
			setarray .@other_npc[0],3,4;
		if (rand(1,4) == 3) {
			mes "- You almost get hit and dodge its attack and cast the spell !! -";
			next;
			input .@input$;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +" !!!";
			if (.@input$ == "Good feed is orange-flavored") {
				specialeffect EF_TELEPORTATION2;
				next;
				mes "- You cast the spell in a hurry and the cow is surronded by the light and disappears !! -";
				disablenpc();
				enablenpc "Cow#rus3"+ .@other_npc[0];
				next;
			} else {
				next;
				mes "[Cow]";
				mes "...Moo...";
				emotion ET_THINK;
				next;
				mes "- The cow, seems to gibe at you, looks at you quickly and runs to bushes !! -";
				disablenpc();
				if (rand(2))
					enablenpc "Cow#rus3"+ .@other_npc[0];
				else
					enablenpc "Cow#rus3"+ .@other_npc[1];
				close;
			}
		} else {
			mes "["+ strcharinfo(0) +"]";
			mes "Akkkk?! Eh!? The s-spell...";
			next;
			mes "- You hesitate, the cow, seems to gibe at you, passes by you and runs to bushes !! -";
			disablenpc();
			if (rand(2))
				enablenpc "Cow#rus3"+ .@other_npc[0];
			else
				enablenpc "Cow#rus3"+ .@other_npc[1];
			close;
		}
		mes "["+ strcharinfo(0) +"]";
		mes "What a surprise. The cow is bad like its owner.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ok, then. Let's get back to Baba Yaga...";
		rhea_rus_main = 41;
		// changequest 8159,8160;
		close;
	} else if (rhea_rus_main == 41) {
		next;
		mes "- The cow is tied around its neck and eats grass comfortably -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "I must return to Baba Yaga...";
	}
	close;
}
mosk_dun02,146,247,4	duplicate(Cow#rus33)	Cow#rus34	4_BULL,3,3
mosk_dun02,102,107,4	duplicate(Cow#rus33)	Cow#rus35	4_BULL,3,3

mosk_dun02,65,232,0	script	Noisy Coffin#rus36	4_NFCOFFIN,{
	if (rhea_rus_main < 19) {
		mes "[Noisy Coffin]";
		mes "Isn't it good to be alive? Isn't it to live?";
		next;
		mes "[Noisy Coffin]";
		mes "Don't you want to exchange lives with me? Exchange with me, exchange!";
		if (rhea_rus_main < 16) close;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ehh, that's one noisy coffin.";
		next;
		mes "[Noisy Coffin]";
		mes "I was alive! I was alive!";
		mes "What is different between you and me? Why are you still alive? Why didn't you die? Why did I die?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "... How can I silence him...";
		next;
		while (.@break_while == 0) {
			switch(select("Pray:Sing a hymn:Pour Holy Water on him:Kick him")) {
			case 1:
				mes "["+ strcharinfo(0) +"]";
				mes "...I'll pray.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Heaven, earth, and wind belong to God, there is no place for evil.";
				specialeffect EF_BLESSING;
				next;
				mes "[Noisy Coffin]";
				if (rhea_rus_main == 17) {
					mes "Heek, heeee! Heeeeeek!";
					rhea_rus_main = 18;
				} else {
					mes "What was that? What was that for? Was it fun?";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "......................................";
					.@break_while = 1;
				}
				break;
			case 2:
				mes "["+ strcharinfo(0) +"]";
				mes "Hmm, hmm! I'll sing a hymn. The first phrase 'Holy god against evils'!!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "- The covetous, the perverse -";
				mes "- All the evils hateful -";
				mes "- Will be droven off this land -";
				specialeffect EF_GLORIA;
				next;
				mes "[Noisy Coffin]";
				if (rhea_rus_main == 18) {
					mes "Heek, heeee! Heeeeeek!";
					rhea_rus_main = 19;
				} else {
					mes "Perverse! The perverse!! Drive away!! What was that song?! Was it fun?!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "......................................";
					.@break_while = 1;
				}
				break;
			case 3:
				if (countitem(523)) {
					mes "["+ strcharinfo(0) +"]";
					mes "If you don't shut up, I will pour Holy Water on you!";
					next;
					mes "- You open the bottle of Holy Water and pour it around the coffin carefully !! -";
					specialeffect EF_SPHERE;
					next;
					mes "[Noisy Coffin]";
					if (rhea_rus_main == 16) {
						mes "Heek, heeee! Heeeeeek!";
						delitem 523,1;
						rhea_rus_main = 17;
					} else {
						mes "Ah, cold! No, it's cool! Was it fun? Was it fun?!";
						delitem 523,1;
						next;
						mes "["+ strcharinfo(0) +"]";
						mes "......................................";
						.@break_while = 1;
					}
				} else {
					mes "["+ strcharinfo(0) +"]";
					mes "Yeah, where's the Holy water?";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "...... I don't have any...";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "......................................";
					.@break_while = 1;
				}
				break;
			case 4:
				mes "["+ strcharinfo(0) +"]";
				mes "...If you don't shut up...";
				mes "......I will kick you!!";
				next;
				mes "- You close your eyes, take a deep breathe and kick the coffin with the might of God !! -";
				next;
				mes "[Noisy Coffin]";
				if (rhea_rus_main == 19) {
					mes "Heeeek! Heeeeeee!!!! I am scared! Stop it!!";
					specialeffect EF_HOLYHIT;
					rhea_rus_main = 20;
				} else {
					mes "Slam! Slam! I like noise! Do it more, more, more!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "......................................";
				}
				.@break_while = 1;
				break;
			}
			next;
		}
		if (rhea_rus_main < 20) {
			mes "["+ strcharinfo(0) +"]";
			mes "... Not effective...";
			rhea_rus_main = 16;
			close;
		}
		mes "["+ strcharinfo(0) +"]";
		mes ".............If you make noise once more, you will see more than you imagine...";
		next;
		mes "[Noisy Coffin]";
		mes "................................";
		emotion ET_THINK;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Hu, the job has been done.";
		mes "Let's get back to Baba Yaga.";
		rhea_rus_main = 42;
		// changequest 8161,8162;
		close;
	} else if (rhea_rus_main == 20) {
		mes "["+ strcharinfo(0) +"]";
		mes ".............If you make noise once more, you will see more than you imagine...";
		next;
		mes "[Noisy Coffin]";
		mes "................................";
		emotion ET_THINK;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Hu, the job has been done.";
		mes "Let's get back to Baba Yaga.";
		rhea_rus_main = 42;
		close;
	} else if (rhea_rus_main == 42) {
		mes "["+ strcharinfo(0) +"]";
		mes ".............If you make noise once more, you will see more than you imagine...";
		next;
		mes "[Noisy Coffin]";
		mes "................................";
		emotion ET_THINK;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Hu, the job has been done.";
		mes "Let's get back to Baba Yaga.";
		close;
	}
	mes "[Noisy Coffin]";
	mes ".............................";
	close;
}

treasure01,165,58,0	script	Old Treasure Box#rus37	HIDDEN_NPC,{
	if ((MaxWeight-Weight) < 3500) {
		mes "You are carrying too much!";
		mes "Lose some weight and try again.";
		close;
	}
	if (rhea_rus_main > 20 && rhea_rus_main < 25) {
		mes "- It is locked -";
		close;
	} else if (rhea_rus_main == 25) {
		mes "- Around the locked box, a women having snakes on her head is engraved -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Does this work...";
		next;
		select("Insert the key into the lock");
		mes "- As soon as you insert the key into the lock, the eyes of the woman moves and she looks at you -";
		next;
		mes "- Her eyes are made from jewels !! -";
		if (countitem(747)) {
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Arrrrrk? What is this!!";
			specialeffect EF_FLASHER;
			next;
		} else {
			sc_start SC_BLIND,60000,0;
			donpcevent "Old Treasure Box#rus37::OnCall";
			close2;
			donpcevent "Old Treasure Box#rus37::OnDisable";
			end;
		}
		mes "- You wave your arms and cover your eyes. The mirror inside your bag reflects the light from her eyes accidentally !! -";
		specialeffect EF_FLASHER;
		next;
		mes "- The light reflected goes to the woman shape and fumes comes from the box and it opens !! -";
		next;
		mes "- ^0000ff You find Baba Yaga's spoon !!^000000 -";
		// changequest 8167,8168;
		rhea_rus_main = 43;
		getitem 7880,1;
		close;
	} else if (rhea_rus_main == 43) {
		mes "- The treasure box where you found the silver spoons -";
		close;
	}
	end;

OnCall:
	initnpctimer;
	monster "treasure01",164,58,"Medusa",1148,1,"Old Treasure Box#rus37::OnMyMobDead";
	monster "treasure01",157,59,"Obeaune",1044,1,"Old Treasure Box#rus37::OnMyMobDead";
	monster "treasure01",164,54,"Obeaune",1044,1,"Old Treasure Box#rus37::OnMyMobDead";
	monster "treasure01",163,63,"Obeaune",1044,1,"Old Treasure Box#rus37::OnMyMobDead";
	monster "treasure01",168,59,"Obeaune",1044,1,"Old Treasure Box#rus37::OnMyMobDead";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Old Treasure Box#rus37";
	end;

OnTimer180000:
	stopnpctimer;
	killmonster "treasure01","Old Treasure Box#rus37::OnMyMobDead";

OnMyMobDead:
	enablenpc "Old Treasure Box#rus37";
	end;
}

treasure01,24,39,0	script	Old Bed#rus38	HIDDEN_NPC,{
	if (rhea_rus_main >= 21 && rhea_rus_main < 26) {
		mes "- An old bed covered with dust and must -";
		next;
		switch(select("On the bed:Under the bed:Bed sheet")) {
		case 1:
			mes "- Mushrooms grow on the bed -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...Life......";
			close;
		case 2:
			mes "- You look at the under the bed -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Ouch?!";
			specialeffect2 EF_HIT2;
			percentheal -5,0;
			next;
			mes "- Something unidentified bites your hand !! -";
			close;
		}
		if (rhea_rus_main != 21) {
			mes "- While running in a hurry, the sheet is a bit torn -";
			close;
		}
		mes "- You raise the dirty sheet that has many holes -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...?! What is this?";
		next;
		mes "- There is a scar on the sheet that seems to have the location !! -";
		viewpoint 1,165,58,1,0xFF0000;
		viewpoint 1,61,183,2,0xFF0000;
		viewpoint 1,98,118,3,0xFF0000;
		viewpoint 1,27,115,4,0xFF0000;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...This may be?!";
		next;
		mes "[Voice unidentified]";
		mes "Who is there!?";
		viewpoint 2,165,58,1,0x00FF00;
		viewpoint 2,61,183,2,0x00FF00;
		viewpoint 2,98,118,3,0x00FF00;
		viewpoint 2,27,115,4,0x00FF00;
		emotion ET_HUK, playerattached();
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Eek, it would be best to run away now!";
		rhea_rus_main = 22;
		// changequest 8163,8164;
		close2;
		warp "treasure01",68,28;
	}
	end;
}

treasure01,98,119,0	script	Dirty Wall#rus39	HIDDEN_NPC,{
	if (rhea_rus_main >= 22 && rhea_rus_main < 26) {
		mes "- Something is engraved on the wall -";
		next;
		mes "- ^ff0000Her... careful.. Mermaid's song.. sleeping.. the eyes.. protect your.. mirror^000000 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...What is this talking about...?";
		if (rhea_rus_main == 22) {
			rhea_rus_main = 23;
			// changequest 8164,8165;
		}
		close;
	}
	end;
}

treasure01,61,183,0	script	Old_Wooden_Box#rus40	HIDDEN_NPC,{
	if (rhea_rus_main == 23) {
		mes "- Something is glimmering inside of the box -";
		next;
		select("Put hand inside the box");
		if (rand(1,7) == 4) {
			mes "- You take out something glimmering from the box -";
			next;
			mes "- ^0000ffYou find the handle of a broken key !!^000000 -";
			rhea_rus_main = 24;
			// changequest 8165,8166;
			close;
		}
		mes "- You try to put your hand inside it but the gap is too small to do it -";
		next;
		mes "- You ruin the box a little -";
		close;
	} else if (rhea_rus_main > 23 && rhea_rus_main < 26) {
		mes "- The old box that contained the handle of a broken key -";
		close;
	}
	end;
}

treasure01,27,115,0	script	Opened Treasure Chest#41	HIDDEN_NPC,{
	if (rhea_rus_main == 24) {
		mes "- You open the box, junk is in it -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "... Should I search this...?";
		next;
		mes "- You sigh and stretch your hand into the box -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...!? What is this?!";
		next;
		.@russ_key02 = rand(1,7);
		if (.@russ_key02 != 3) {
			switch (.@russ_key02) {
				case 1: mes "- You find the cuticle of Kukre !! -"; break;
				case 2: mes "- You find the egg of a Theif Bug !! -"; break;
				case 4: mes "- You find something that seems to be a banana before !! -"; break;
				case 5: mes "- You find the tentacles of a Jelly Fish !! -"; break;
				case 6: mes "- You find pieces of cloth with must on it !! -"; break;
				case 7: mes "- You find a bone !! -"; break;
			}
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "W, what is this!?";
			emotion ET_HUK, playerattached();
			close;
		}
		mes "- ^0000ffYou find the handle of a broken key in the junk !!^000000 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Eh, this may be...";
		next;
		mes "- You adjust the piece of the broken key with the its handle and they make a sound and become a key !!-";
		rhea_rus_main = 25;
		// changequest 8166,8167;
		close;
	} else if (rhea_rus_main > 24 && rhea_rus_main < 26) {
		mes "- The junk box containig the piece of the broken key -";
		close;
	}
	end;
}

amatsu,233,234,3	script	Momotoro Publisher#rus42	4_F_JPN,{
	if ((MaxWeight-Weight) < 3500) {
		mes "[Momotoro Publisher]";
		mes "What on earth do you have in your bag?";
		mes "Are you training for something?";
		close;
	}
	if (rhea_rus_main < 26) {
		mes "[Momotoro Publisher]";
		mes "Did you order a book?";
		next;
		mes "[Momotoro Publisher]";
		mes "Someone ordered a book but did not pick it up.";
		close;
	} else if (rhea_rus_main == 26) {
		mes "[Momotoro Publisher]";
		mes "Did you order a book?";
		next;
		mes "[Momotoro Publisher]";
		mes "Someone ordered a book but did not pick it up.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ah, I.. a magic book...";
		next;
		mes "[Momotoro Publisher]";
		mes "What? Ah, did you come here to pick up the book? Please, let me know your name?";
		next;
		input .@input$;
		if (.@input$ == "Baba Yaga") {
			mes "["+ strcharinfo(0) +"]";
			mes "I am "+ .@input$ +".";
			next;
			mes "[Momotoro Publisher]";
			mes ""+ .@input$ +" ... Ah, here it is.";
			next;
		} else {
			mes "["+ strcharinfo(0) +"]";
			mes "I am "+ .@input$ +" ";
			next;
			mes "[Momotoro Publisher]";
			mes ""+ .@input$ +" ... Let's see...";
			next;
			mes "[Momotoro Publisher]";
			mes "Hmm? I am sorry but there is no book reserved for "+ .@input$ +". Can you check again please?";
			close;
		}
		mes "[Momotoro Publisher]";
		mes "Are these the right ones? 'Magic to destroy time', 'The story of the house ghost around the world', 'Strange and weird world of Herbs";
		mes "Hmm, the price for all is 5,000 Zeny.";
		next;
		if (Zeny > 4999) {
			mes "[Momotoro Publisher]";
			mes "Eh, yep this is 5,000 Zeny.";
			next;
		} else {
			mes "[Momotoro Publisher]";
			mes "You don't have enough money?";
			mes "Check it again and come to me, please";
			close;
		}
		mes "[Momotoro Publisher]";
		mes "Thank you for buying our books. If you need more books, contact us please.";
		getitem 7881,1;
		Zeny = Zeny -5000;
		rhea_rus_main = 27;
		// changequest 8169,8170;
		close;
	} else if (rhea_rus_main > 26 && rhea_rus_main < 31) {
		mes "[Momotoro Publisher]";
		mes "Thank you for buying our books. If you need more books, contact us please.";
		close;
	}
	mes "[Momotoro Publisher]";
	mes "Did you order a book?";
	next;
	mes "[Momotoro Publisher]";
	mes "Someone ordered a book but did not pick it up.";
	close;
}

mosk_dun02,57,220,0	script	House Ghost Jar#rus43	HIDDEN_NPC,{
	if (rhea_rus_main == 31) {
		mes "["+ strcharinfo(0) +"]";
		mes "... Is it in here..? Hey, hey...";
		next;
		mes "- You tap the jar -";
		mes "- with your hand -";
		specialeffect EF_SIGHTRASHER;
		emotion ET_HUK, playerattached();
		next;
		mes "- A voice laughs in the jar as -";
		mes "- it shakes from right to left -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "You! No more games! Come out of there!";
		specialeffect EF_HIT2;
		next;
		mes "- You kick the jar -";
		mes "- it rolls to the floor -";
		mes "- as bugs come out!! -";
		rhea_rus_main = 32;
		monster "mosk_dun02",58,220,"Thief Bug Male",1054,1,"House Ghost Jar#rus43::OnMyMobDead";
		monster "mosk_dun02",59,220,"Ancient Worm",1305,1,"House Ghost Jar#rus43::OnMyMobDead";
		monster "mosk_dun02",60,220,"Thief Bug Male",1054,1,"House Ghost Jar#rus43::OnMyMobDead";
		donpcevent "House Ghost Jar#rus43::OnDisable";
		close;
	} else if (rhea_rus_main == 32) {
		mes "["+ strcharinfo(0) +"]";
		mes "Ehh.. you, what are you doing!!";
		next;
		mes "- As you plan to kick the jar -";
		mes "- again, something scared -";
		mes "- utters in a shaky voice -";
		specialeffect EF_CURSEATTACK;
		next;
		mes "[House Ghost]";
		mes "No! Please stop it! I was wrong!";
		next;
		mes "[House Ghost]";
		mes "I have been bored. After dying, I've had nothing to do and no friends to play with..";
		next;
		mes "[House Ghost]";
		mes "When I was alive, I always stayed still, but now it's too boring...";
		next;
		mes "[House Ghost]";
		mes "I can't even drink my favorite milk... Being a ghost is too inconvenient.";
		next;
		if(select("Can I play with you?:So what can I do for you?") == 1) {
			mes "[House Ghost]";
			mes "Ehhh, are you sure?";
		} else {
			mes "[House Ghost]";
			mes "Hmm, can you do something for me? It won't take much time.";
		}
		next;
		mes "[House Ghost]";
		mes "What about a card game? I was good at those games! Ah, where are my cards? Wait here! I'll find them!";
		rhea_rus_main = 33;
		close;
	} else if (rhea_rus_main == 33) {
		.@player_name$ = strcharinfo(0);
		mes "[House Ghost]";
		mes "Hehe, what about a card game? I have an Angeling, Ghostring and a Poring Card.";
		mes "All you have to do is just guess which card I pick up!";
		next;
		mes "[House Ghost]";
		mes "Let's play best out of 5. So if you win 3 games, I promise to stay quiet!";
		next;
		mes "["+ .@player_name$ +"]";
		mes "Ok! It will be fun. Let's do it.";
		next;
		setarray .@card$[0], "Poring","Angeling","Ghostring";
		while(.@rugame_turn01 < 5 && .@ruuser_score01 < 3) {
			mes "[House Ghost]";
			mes "Ok, first let me shuffle these cards around.";
			mes "Ready!";
			emotion ET_BLABLA;
			next;
			mes "[House Ghost]";
			mes "One!";
			specialeffect EF_HIT1;
			next;
			mes "[House Ghost]";
			mes "One! Two!";
			specialeffect EF_HIT2;
			next;
			mes "[House Ghost]";
			mes "One! Two! Three!";
			specialeffect EF_HIT3;
			next;
			mes "[House Ghost]";
			mes "Ok! I will pick one of them up!";
			specialeffect EF_STEAL;
			next;
			mes "[House Ghost]";
			mes "Ok! I will pick one of them up!";
			mes "What is this card?";
			cutin "sorry.bmp",4;
			next;
			.@rucard_game01 = rand(1,3);
			.@s = select("Poring:Angeling:Ghostring") -1;

			mes "["+ .@player_name$ +"]";
			mes "Hmmm, I think it is the "+ .@card$[.@s] +" Card!";
			next;
			mes "[House Ghost]";
			mes "Ok, time to find out!";
			mes "One! Two! Three!!";
			next;
			cutin "",255;
			switch( .@rucard_game01 ) {
			case 1:
				cutin "",4; // Poring Card
				.@win_string$ = "You are good. Can you do it next time?";
				break;
			case 2:
				cutin "",4; // Angeling Card
				.@win_string$ = "You are pretty good at this. Ok, but can you do it again?";
				break;
			case 3:
				cutin "",4; // Ghostring Card
				.@win_string$ = "You are pretty good at this. Ok, but can you do it again?";
				break;
			}
			emotion ET_SURPRISE;
			if (.@rucard_game01 == .@s +1) {
				emotion ET_AHA, playerattached();
				next;
				mes "[House Ghost]";
				mes "You got it right.";
				mes .@win_string$;
				.@ruuser_score01++;
			}
			else {
				emotion ET_HUK, playerattached();
				next;
				mes "[House Ghost]";
				mes "Huuu...";
				mes "Better luck next time!";
			}
			.@rugame_turn01++;
			cutin "",255;
			next;
		}
		if (.@ruuser_score01 == 3) {
			mes "[House Ghost]";
			mes "You are better than I thought.";
			rhea_rus_main = 34;
			close;
		}
		mes "["+ .@player_name$ +"]";
		mes "I was not thinking correctly! Let's do it again!";
		next;
		mes "[House Ghost]";
		mes "Huhu, ok. Let's do it again?";
		close;
	} else if (rhea_rus_main == 34) {
		.@player_name$ = strcharinfo(0);
		mes "[House Ghost]";
		mes "Ah, it was fun. It has been a long time since I've been able to play a game like that.";
		next;
		mes "[House Ghost]";
		mes "As promised, I will be quiet now. Thank you for playing with me.";
		next;
		mes "["+ .@player_name$ +"]";
		mes "Oh and by the way, I have a present for you!";
		next;
		if (countitem(519)) {
			mes "["+ .@player_name$ +"]";
			mes "You said you like milk. Here, take this.";
			next;
		} else {
			mes "["+ .@player_name$ +"]";
			mes "You said you like milk. Here, take.. Eh?";
			next;
			mes "["+ .@player_name$ +"]";
			mes "W, where is this? Wait here. I will bring it soon!!";
			close;
		}
		mes "[House Ghost]";
		mes "Ah, wow!! Can I have this?";
		next;
		mes "[House Ghost]";
		mes "Thank you so much!!";
		mes "I promise I wil be quiet now. I will be the acting guardian for this house!";
		next;
		mes "[House Ghost]";
		mes "I will never forget your kindness of entertaining me.";
		rhea_rus_main = 45;
		// changequest 8171,8172;
		close;
	} else if (rhea_rus_main == 45) {
		mes "[House Ghost]";
		mes "Thank you so much!!";
		mes "I promise I wil be quiet now. I will be the acting guardian for this house!";
		next;
		mes "[House Ghost]";
		mes "I will never forget your kindness of entertaining me.";
		close;
	}
	end;

OnDisable:
	initnpctimer;
	disablenpc "House Ghost Jar#rus43";
	end;

OnTimer180000:
	stopnpctimer;
	killmonster "mosk_dun02","House Ghost Jar#rus43::OnMyMobDead";

OnMyMobDead:
	enablenpc "House Ghost Jar#rus43";
	end;
}

payon,65,119,0	script	Broom Grandma#rus44	1_F_ORIENT_04,{
	if (rhea_rus_main < 36) {
		mes "[Broom Grandma]";
		mes "A broom from Payon is the best!";
		next;
		mes "[Broom Grandma]";
		mes "It is so good that even ghosts want only a Payon broom.";
		close;
	} else if (rhea_rus_main == 36) {
		mes "[Broom Grandma]";
		mes "A broom from Payon is best!";
		next;
		mes "[Broom Grandma]";
		mes "It is so good that even ghosts want only a Payon broom.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "I want to buy a broom.";
		next;
		mes "[Broom Grandma]";
		mes "Oh, you are a guest. Yes, you need a broom?";
		next;
		mes "[Broom Grandma]";
		mes "But, I have no broom. Ghosts stole all my newly made brooms. I was pleased because they were nice even for ghosts. But...";
		next;
		mes "[Broom Grandma]";
		mes "My son went to their place to get back the brooms, but he failed since the ghosts tricked him.";
		next;
		mes "[Broom Grandma]";
		mes "Ah.. What should I do...";
		rhea_rus_main = 37;
		// changequest 8173,8174;
		close;
	} else if (rhea_rus_main > 36 && rhea_rus_main < 41) {
		mes "[Broom Grandma]";
		mes "There are ghosts inside the dungeon of Payon. There is a tree there where the ghosts is hiding.";
		next;
		mes "[Broom Grandma]";
		mes "My son went to their place to get back the brooms, but he failed since the ghosts tricked him.";
		next;
		mes "[Broom Grandma]";
		mes "Ah.. What should I do...";
		close;
	} else if (rhea_rus_main == 46) {
		mes "[Broom Grandma]";
		mes "Ah, you have taken them back. You are a great adventurer.";
		next;
		mes "[Broom Grandma]";
		mes "You can have that broom. I believe it is its destiny.";
		close;
	}
	mes "[Broom Grandma]";
	mes "A broom from Payon is the best!";
	next;
	mes "[Broom Grandma]";
	mes "It is so good that even ghosts want only a Payon broom.";
	close;
}

pay_dun04,163,186,0	script	Ghost Tree#rus45	HIDDEN_NPC,{
	if (rhea_rus_main == 37) {
		mes "[Ghost Tree]";
		mes "Errr, a human? What are you doing here? Do you want to play with me?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Return the broom.";
		next;
		mes "[Ghost Tree]";
		mes "Kuhuhuhu, if you want it, you must give me the correct answers to my questions!";
		next;
		if(select("Ok, ask me!:No, just give it to me!") == 2) {
			mes "[Ghost Tree]";
			mes "What!? You are rude to ask for what you want by doing nothing!";
			next;
			mes "[Ghost Tree]";
			mes "Get away! You must be punished!";
			sc_start SC_CONFUSION,60000,0;
			close2;
			warp "pay_dun04",46,43;
			end;
		}
		mes "[Ghost Tree]";
		mes "Kuhuhu, you a cool kid?!";
		mes "I like a person confident as talented. Let's begin the test!";
		next;
		mes "[Ghost Tree]";
		mes "Eh.. Let's see. This will be a good start! Let's get started if you are ready!";
		rhea_rus_main = 38;
		close;
	} else if (rhea_rus_main == 38) {
		mes "[Ghost Tree]";
		mes "First question. Listen to me carefully and answer the question!";
		next;
		mes "[Ghost Tree]";
		mes "Kafra sisters had a race. Listen to what they say and guess their ranking in the race. Understand?";
		next;
		mes "[Ghost Tree]";
		mes "Ok, then, listen to them.";
		next;
		mes "[Kafra Roxie]";
		mes "I am not good at running but Jasmine won over me and I won over Blossom.";
		next;
		mes "[Kafra Blossom]";
		mes "I think that the smaller you are, the less the air disturbs you. Curly Sue was so fast that I couldn't follow her.";
		next;
		mes "[Kafra Jasmine]";
		mes "I won over Pavianne, but not Curly Sue. Huhu.";
		next;
		mes "[Kafra Curly Sue]";
		mes "Wohuhu, it was difficult to race with the fast runners. Anyway, I am pleased to win over Roxie!";
		next;
		mes "[Kafra Pavianne]";
		mes "...I wasn't the last one even though Roxie won over me...";
		next;
		mes "[Ghost Tree]";
		mes "Ok then, who was the first?!";
		next;
		.@rus_kafra01 = callsub( S_Question, "Curly Sue" );
		mes "[Ghost Tree]";
		mes "Who was the second?";
		next;
		.@rus_kafra01 += callsub( S_Question, "Jasmine" );
		mes "[Ghost Tree]";
		mes "Who was the third?";
		next;
		.@rus_kafra01 += callsub( S_Question, "Roxie" );
		mes "[Ghost Tree]";
		mes "And then who was the forth?";
		next;
		.@rus_kafra01 += callsub( S_Question, "Pavianne" );
		mes "[Ghost Tree]";
		mes "And who was the last?!";
		next;
		.@rus_kafra01 += callsub( S_Question, "Blossom" );
		mes "[Ghost Tree]";
		if (.@rus_kafra01 > 4) {
			mes "Ho, you are good!";
			next;
			mes "[Ghost Tree]";
			mes "Ok, let's see if you are good next time.";
			mes "Gear yourself up!";
			rhea_rus_main = 39;
		} else {
			mes "Ah, you are wrong, wrong!";
			mes "Do you really think that you can take the brooms back?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "I was not thinking correctly! I will try it again!";
			next;
			mes "[Ghost Tree]";
			mes "Kuhuhu, ok. Let's do it again. Try your best.";
		}
		close;
	} else if (rhea_rus_main == 39) {
		.@player_name$ = strcharinfo(0);
		mes "[Ghost Tree]";
		mes "The second question. Listen carefully and answer!";
		next;
		mes "[Ghost Tree]";
		mes "One day, you, "+ .@player_name$ +", upgraded your 'Hat of the Sun God', your ancestral treasure.";
		next;
		mes "["+ .@player_name$ +"]";
		mes "Eh? I didn't...";
		next;
		mes "[Ghost Tree]";
		mes "Shut up! Listen to me!";
		mes "While Aragam, Antonio, Hermanthorn, and Holgren, 4 blacksmiths, upgraded the 'Hat of the Sun God' in turn, it was broken!";
		next;
		mes "[Ghost Tree]";
		mes "The stauts of 'Hat of the Sun God' was +7. Here, you guess who broke it!";
		next;
		mes "[Aragam]";
		mes "I heard that Holgren upraded it up to +7. It was overpace.";
		next;
		mes "[Antonio]";
		mes "...We upgraded it twice for each...";
		next;
		mes "[Hermanthorn]";
		mes "Hogren worked after me.";
		next;
		mes "[Holgren]";
		mes "I did it after Aragam!";
		next;
		mes "[Ghost Tree]";
		mes "Have you heard all of them? Who broke the 'Hat of the Sun God'?!";
		next;
		input .@input$;
		mes "["+ .@player_name$ +"]";
		mes ""+ .@input$ +" !!";
		next;
		if (.@input$ != "Antonio") {
			mes "[Ghost Tree]";
			mes "You are wrong, wrong!";
			mes "Look at this. In this way, it will take you a million years to take them back!";
			next;
			mes "["+ .@player_name$ +"]";
			mes "I was not thinking correctly!!!";
			mes "Again, again!";
			next;
			mes "[Ghost Tree]";
			mes "Kuhuhu, Ok then. You should do better next time!";
			close;
		}
		mes "[Ghost Tree]";
		mes "Good! Well done. The last one is to cast a dice with me! If you win over me, I will give you what you want!";
		next;
		mes "[Ghost Tree]";
		mes "Gear yourself up and come to me again!";
		rhea_rus_main = 40;
		close;
	} else if (rhea_rus_main == 40) {
		.@player_name$ = strcharinfo(0);
		mes "[Ghost Tree]";
		mes "Kuhuhu, you did good until now. If you win over me, I will give the brooms as promisied.";
		next;
		mes "[Ghost Tree]";
		mes "The game is simple. Your number must be more than mine.";
		next;
		mes "[Ghost Tree]";
		mes "Cast 3 times if you win once, I will give you what you want.";
		next;
		mes "["+ .@player_name$ +"]";
		mes "Ok! I will do it!";
		next;
		setarray .@emo[1], ET_DICE1, ET_DICE2, ET_DICE3, ET_DICE4, ET_DICE5, ET_DICE6;
		while (.@rustree_turn01 < 3 && .@rususer_score01 == 0) {
			mes "[Ghost Tree]";
			mes "I cast first.";
			next;
			mes "- Ghost Tree casts a dice. The dice falls down, rotates and stops there-";
			specialeffect EF_STUNATTACK;
			next;
			.@tree_dice01 = rand(1,6);
			mes "[Ghost Tree]";
			mes "I've got ^0000ffNumber "+ .@tree_dice01 +"^000000.";
			emotion .@emo[.@tree_dice01];
			next;
			mes "["+ .@player_name$ +"]";
			mes "Ok, it is my turn?";
			next;
			mes "-You cast a dice. The dice falls down, rotates and stops there-";
			specialeffect2 EF_STUNATTACK;
			next;
			.@rus_dice01 = rand(1,6);
			mes "["+ .@player_name$ +"]";
			mes "Let's see...";
			next;
			emotion .@emo[.@rus_dice01], playerattached();
			mes "["+ .@player_name$ +"]";
			if (.@rus_dice01 == .@tree_dice01) {
				mes "Let's see... Wow, I got it! I've got ^0000ffNumber "+ .@rus_dice01 +"^000000!";
				emotion ET_SURPRISE;
				next;
				mes "[Ghost Tree]";
				mes "You seem lucky...";
				.@rususer_score01 = 1;
			} else {
				mes "Let's see................... It is ^0000ff "+ .@rus_dice01 +" ^000000...";
				mes "[Ghost Tree]";
				mes "Huuu...";
				emotion ET_SMILE;
			}
			.@rustree_turn01++;
			next;
		}
		if (.@rususer_score01) {
			mes "[Ghost Tree]";
			mes "Ah. I lost, but it was fun.";
			next;
			mes "[Ghost Tree]";
			mes "For the fun play, I will give the broom to you as promised.";
			next;
			mes "[Ghost Tree]";
			mes "I can say that you are fun. If possible, play with me again. And take them.";
			next;
			mes "- ^0000ff You receive the best broom from Payon !!^000000 - ";
			rhea_rus_main = 46;
			// changequest 8174,8175;
			close;
		}
		mes "[Ghost Tree]";
		mes "Kuhuhu, nobody is worse than you. Remember that you have to win over me to get what you want";
		next;
		mes "["+ .@player_name$ +"]";
		mes "I was not what I am! Let's do it again!";
		next;
		mes "[Ghost Tree]";
		mes "Ok, let's play again. If prepared, try again?";
		close;
	} else if (rhea_rus_main == 46) {
		mes "[Ghost Tree]";
		mes "Kuhuhu, I can say that you are fun. If possible, play with me again.";
		close;
	}
	end;
S_Question:
	input .@input$;
	mes "["+ strcharinfo(0) +"]";
	mes ""+ .@input$ +" !!";
	next;
	return ( (.@input$ == getarg(0)) ? 1 : 0 );
}

mosk_dun01,3,3,3	script	Koshei GlobalVar#admin	4_F_RUSCHILD,{
	callfunc "F_GM_NPC";
	mes "[Koshei GlobalVar]";
	mes "Please enter the password";
	.@i = callfunc("F_GM_NPC","orchid",1);
	next;
	if (.@i == 0) {
		mes "[Koshei GlobalVar]";
		mes "Please input the password exactly.";
		close;
	} else {
		mes "[Koshei GlobalVar]";
		mes "I can tell you what the";
		mes "Koshei GlobalVar";
		mes "$@rus_req02";
		mes "on mosk_dun01";
		mes "is currently set to.";
		next;
		if ($@rus_req02 == 0) {
			mes "[Koshei GlobalVar]";
			mes "Currently the GlobalVar $@rus_req02 is set to 0";
			next;
		} else if ($@rus_req02 == 1) {
			mes "[Koshei GlobalVar]";
			mes "Currently the GlobalVar $@rus_req02 is set to 1";
			next;
		} else {
			mes "[Koshei GlobalVar]";
			mes "error";
			close;
		}
		mes "[Koshei GlobalVar]";
		mes "What would you like to set the GlobalVar to?";
		next;
		switch(select("0:1:Cancel")) {
		case 1:
			mes "[Koshei GlobalVar]";
			mes "GlobalVar $@rus_req02 will now be set to '0'";
			$@rus_req02 = 0;
			donpcevent "Koshei#rus47::OnDisable";
			close;
		case 2:
			mes "[Koshei GlobalVar]";
			mes "GlobalVar $@rus_req02 will now be set to '1'";
			$@rus_req02 = 1;
			donpcevent "Koshei#rus47::OnEnable";
		case 3:
			close;
		}
	}
}
