//===== rAthena Script =======================================
//= Malangdo Quest NPCs
//===== By: ==================================================
//= Muad_Dib
//===== Current Version: =====================================
//= 1.4
//===== Compatible With: =====================================
//= rAthena SVN
//===== Description: =========================================
//= Quest NPCs related to Malangdo:
//== Malangdo Island, Help the Bad Cats in Danger,
//== Clean the Ship, Help Chef Nyas,
//== Play with Baby Cats, Archangel Wing Enchants
//===== Additional Comments: =================================
//= 1.0 First version. [Euphy]
//= 1.1 Added Clean the Ship and Help Chef Nyas.
//= 1.2 Added Archangel Wing Enchants.
//= 1.3 Added Play with Baby Cats.
//= 1.4 Added Malangdo Island.
//============================================================

// Malangdo Island :: ma_tomas
//============================================================
mal_in02,28,56,5	script	Samuel#mal	495,{
	mes "[Samuel]";
	mes "Ah, you mean the ad... well, you mean our village chief?";
	mes "You'd better not bother him, since he's always busy.";
	if (ma_tomas == 0)
		close;
	next;
	mes "[Samuel]";
	mes "^0000FFBut it'd be impossible to talk without bothering him anyway......^000000";
	mes "He is simply always busy.";
	next;
	switch(select("Ad...?:Village chief?")) {
	case 1:
		mes "[Samuel]";
		mes "Ah, there was an admiral of this ship before settling in here~";
		mes "Shining golden eyes like the sun!!!";
		mes "Silvery beard fluttering with a rough sea breeze!!!";
		next;
		mes "[Samuel]";
		mes "Kha~ It was nice!!!!";
		mes "I was fascinated by that attraction and took the ship, Navi!";
		mes "This thing is called the romance of a guy. Hoo hoo~";
		emotion e_shy;
		next;
		mes "[Samuel]";
		mes "Well... His cuticle seems to have gone bad a bit with his village chief duty, since he settled in Malangdo. But his eyes are still the same.";
		close;
	case 2:
		mes "[Samuel]";
		mes "Umm, since it is Malangdo, will it be the Malangdo chief...?!";
		mes "No, though it will be funny...";
		mes "Malangdo village... umm... this... this is also not......";
		mes "Well, this stuff is not that important.";
		next;
		mes "[Samuel]";
		mes "Although there are many differences between admiral and village chief for sure, it feels like it won't be without Admiral Tomas anyhow.";
		next;
		mes "[Samuel]";
		mes "All would think the same, not just me.";
		mes "He's having a hard time thanks to this.";
		close;
	}
}

mal_in02,22,62,3	script	Tomas#mal	556,{
	if (BaseLevel < 60) {
		mes "[Tomas, Village Chief]";
		mes "Ummm... Who are you?";
		mes "Don't you think it's too early to come here?";
		close;
	}
	if (ma_tomas == 0) {
		mes "[Tomas, Village Chief]";
		mes "Samuel!";
		mes "Are you coming to an end there?";
		cutin "ma_tomas02",2;
		next;
		mes "[Samuel]";
		mes "Yes, Admiral!";
		mes "Moved all 3 thousand boxes, including the one I just received, to the storage. The next boxes are expected to be delivered in 5 hours!";
		emotion e_omg,0,"Samuel#mal";
		next;
		mes "[Tomas, Village Chief]";
		mes "Samuel!";
		mes "How many times should I tell you to call me Village Chief, not Admiral!";
		next;
		mes "[Samuel]";
		mes "Sorry! Village Chief!";
		mes "I will correct myself!";
		emotion e_omg,0,"Samuel#mal";
		next;
		mes "[Tomas, Village Chief]";
		mes "Hmm, hmm!";
		mes "Get them sorted out and arrange them over there. Before the next boxes are here you must finish the work there!";
		next;
		mes "[Tomas, Village Chief]";
		mes "Sea cucumbers, sea squirts, sea anemones to the right! Seaweed and kelp downstairs, and send anchovies and drums to the gathering place. Let the rest stack assortatively in the corner!";
		next;
		mes "[Samuel]";
		mes "Yes! Village Chief!";
		mes "Seaweed, Sea cucumbers, sea squirts, sea anemones to the right! Seaweed and glasses downstairs! Send anchovies and drums to the gathering place! Let the rest stack assortatively in the corner!";
		emotion e_omg,0,"Samuel#mal";
		next;
		mes "[Tomas, Village Chief]";
		mes "It it not.";
		mes "Sea cucumbers, sea squirts, sea anemones to the right. Seaweed and kelp downstairs. Anchovies and drums to the gathering place. Let the rest stack assortatively in the corner.";
		emotion e_dots;
		next;
		mes "[Samuel]";
		mes "Yes!!";
		emotion e_omg,0,"Samuel#mal";
		next;
		mes "[Tomas, Village Chief]";
		mes "Huuu...";
		mes "It doesn't seem to end.";
		mes "There are still piles of paperwork to do... I will be in trouble unless I finish them up before the next boxes arrive.";
		emotion e_sigh;
		next;
		mes "[Tomas, Village Chief]";
		mes "So, the amount of the next boxes is 1300....";
		mes "And the next, the 700 boxes downstairs to load up the ship...";
		next;
		switch(select("Try to talk to him.:Stop since he seems busy.")) {
		case 1:
			mes "[Tomas, Village Chief]";
			mes "Hmm, who are you?";
			mes "You are not familiar. Sorry, but will you come again if it is not that urgent?";
			cutin "ma_tomas01",2;
			next;
			switch(select("It's my first time to Malangdo.:Another cat told me to come over here.:I will come around again later.")) {
			case 1:
				mes "[Tomas, Village Chief]";
				mes "...So I told you your face was not familiar.";
				emotion e_dots;
				next;
				mes "[Tomas, Village Chief]";
				mes "Hmm... Sorry, but as I told you before, would you talk to the other cats if it's not that urgent, since I have plenty of work left undone and no time to talk with you.";
				break;
			case 2:
				mes "[Tomas, Village Chief]";
				mes "...Anyway all are always good to leave me with the work.";
				mes "Pitiless ones...";
				emotion e_an;
				next;
				mes "[Tomas, Village Chief]";
				mes "Umm... Having said that, would you talk to the other cats if it's not that urgent, since I got plenty of work to do left undone and no time to talk with you?";
				break;
			case 3:
				mes "[Tomas, Village Chief]";
				mes "Sorry for that.";
				mes "Please come back to me again, though I don't know when I could be free.";
				close2;
				cutin "",255;
				end;
			}
			next;
			mes "[Tomas, Village Chief]";
			mes "These days I feel I'm pressed with work, although it's good to trust and rely on me as a village chief...";
			next;
			mes "[Tomas, Village Chief]";
			mes "It is too much, since they send all visitors to me.";
			next;
			mes "[Tomas, Village Chief]";
			mes "You're just in time. Go to the ^0000FFregular meeting^000000 being held now.";
			mes "The meeting place is ^0000FFat the end of the corridor^000000.";
			set ma_tomas,1;
			setquest 11209;
			close2;
			cutin "",255;
			end;
		case 2:
			mes "[Tomas, Village Chief]";
			mes "Sorry for that.";
			mes "Please come back to me again though I don't know when I could be free.";
			close2;
			cutin "",255;
			end;
		}
	} else if (ma_tomas == 1) {
		mes "[Tomas, Village Chief]";
		mes "So, the next 1000 boxes to move to the upper side...";
		cutin "ma_tomas02",2;
		next;
		mes "[Tomas, Village Chief]";
		mes "400 boxes to give out as supplies....";
		mes "And also...";
		next;
		mes "[Samuel]";
		mes "Admiral!";
		mes "Sea bass, sea jelly, sea sponge are well arranged on the right!";
		mes "Seaweed and kiwi downstairs! Anchovies and cod to the gathering place! Let the rest stack assortatively in the corner?";
		emotion e_omg,0,"Samuel#mal";
		next;
		mes "[Tomas, Village Chief]";
		mes "....";
		emotion e_dots;
		next;
		mes "[Tomas, Village Chief]";
		mes "....";
		mes ".....";
		next;
		mes "[Tomas, Village Chief]";
		mes "....";
		mes ".....";
		mes "......";
		next;
		mes "[Tomas, Village Chief]";
		mes "You!!";
		mes "How many times did I tell you! Mew~";
		mes "Huh?!";
		emotion e_an;
		cutin "ma_tomas03",2;
		next;
		mes "[Tomas, Village Chief]";
		mes "Sea cucumbers, sea squirts, sea anemones to the right. Seaweed and kelp downstairs. Anchovies and drums to the gathering place. Let the rest stack assortatively in the corner.";
		next;
		mes "[Tomas, Village Chief]";
		mes "Huh?! If you really want to put Sea bass to the right that much, let yourself stand there all day long! Mew~";
		emotion e_omg,0,"Samuel#mal";
		next;
		mes "[Tomas, Village Chief]";
		mes "I'm busy enough without you. You're getting on my nerves! Mew~";
		mes "What about getting on the ship over there? Mew!";
		next;
		mes "[Tomas, Village Chief]";
		mes "Ooops!!!";
		mes "!!!!!!";
		emotion e_omg;
		next;
		mes "[Tomas, Village Chief]";
		mes "Hmm, hmm...";
		mes "Well... what are you still doing here?";
		mes "Go to the regular meeting being held now at the end of the corridor.";
		mes "Ahem....";
		emotion e_swt2;
		cutin "ma_tomas02",2;
		close2;
		cutin "",255;
		end;
	} else if (ma_tomas == 2) {
		mes "[Tomas, Village Chief]";
		mes "Hmm, hmm...";
		mes "Well... what are you still doing here?";
		mes "Go to the regular meeting being held now at the end of the corridor.";
		mes "Ahem....";
		emotion e_swt2;
		cutin "ma_tomas02",2;
		close2;
		cutin "",255;
		end;
	} else if (ma_tomas < 35) {
		mes "[Tomas, Village Chief]";
		mes "How is the meeting going on?";
		mes "It's been a long time since I visited, since I'm busy... Tsk...";
		emotion e_swt2;
		cutin "ma_tomas02",2;
		close2;
		cutin "",255;
		end;
	} else if (ma_tomas == 35) {
		mes "[Tomas, Village Chief]";
		mes "Hoh!";
		mes "There have been such issues!";
		emotion e_ic;
		cutin "ma_tomas04",2;
		next;
		mes "[Tomas, Village Chief]";
		mes "I felt uneasy since I couldn't take care of you, being so busy.";
		mes "You already got used to Malangdo well enough by yourself.";
		emotion e_heh;
		next;
		mes "[Tomas, Village Chief]";
		mes "Then, as village chief and the admiral of the cat association, I'd like you to get along with me as well!";
		set ma_tomas,100;
		completequest 11237;
		getitem 6422,30; //Egrade_Coin
		close2;
		cutin "",255;
		end;
	}
	mes "[Tomas, Village Chief]";
	mes "Ha ha ha!";
	mes "How are you doing?";
	mes "Come to me if anything difficult happens.";
	emotion e_heh;
	cutin "ma_tomas04",2;
	close2;
	cutin "",255;
	end;
}

mal_in02,182,61,3	script	President of Meeting#mal	421,{
	if (ma_tomas == 0) {
		mes "[President of Meeting]";
		mes "Please be silent, the regular meeting is getting started a moment later~";
		close;
	} else if (ma_tomas == 1) {
		mes "[President of Meeting]";
		mes "Wow~ wow~ Now we're having an incredible sale... well, no, but a meeting.";
		mes "Please be silent.";
		next;
		mes "[President of Meeting]";
		mes "Today's main agenda is as always ^ff99ccStar Candy^000000.";
		mes "Though I have traveled through numerous areas by now, it's my first time hearing ^0000FFsuch a difficult language to learn^000000.";
		next;
		mes "[President of Meeting]";
		mes "What she cannot communicate with at all is becoming a highly growing issue.";
		next;
		mes "[President of Meeting]";
		mes "Please speak if there's any opinion on the next agenda.";
		next;
		mes "[President of Meeting]";
		mes "Umm... Yes. Then, please say first, ^6666ccScottfold^000000.";
		set ma_tomas,2;
		changequest 11209,11210;
		emotion e_paper,0,"Scottfold#mal";
		close;
	} else if (ma_tomas == 2) {
		mes "[President of Meeting]";
		mes "Umm... Yes. Please speak first, ^6666ccScottfold^000000.";
		emotion e_paper,0,"Scottfold#mal";
		close;
	} else if (ma_tomas == 3) {
		mes "[President of Meeting]";
		mes "Please speak, Koon.... next.";
		emotion e_paper,0,"Koon#mal";
		close;
	} else if (ma_tomas == 4) {
		mes "[President of Meeting]";
		mes "There will be a presentation by Dr. Devore on his study continuously.";
		emotion e_paper,0,"Linguist Devore#mal";
		close;
	} else if (ma_tomas == 5) {
		mes "[President of Meeting]";
		mes "Please speak next, Dr. Mali.";
		emotion e_paper,0,"Geologist Mali#mal";
		close;
	} else if (ma_tomas == 6) {
		mes "[President of Meeting]";
		mes "Brie!! I understand the situation, but please be calm and tell us, since it is a meeting after all.";
		close;
	} else if (ma_tomas == 7) {
		mes "[President of Meeting]";
		mes "Well, let's have a break for a while now.";
		mes "In time, Samuel brought Seaweed and tuna here.";
		close;
	}
	mes "[President of Meeting]";
	mes "Huew... It gets you so tired to conduct a meeting.";
	mes "I used to be called a tireless merchant who ranked 1st in sales...";
	next;
	mes "[President of Meeting]";
	mes "I feel really sick sometimes when the meeting is prolonged.";
	emotion e_sob;
	close;
}

mal_in02,178,66,5	script	Scottfold#mal	422,{
	if (ma_tomas == 0) {
		mes "[Scottfold]";
		mes "Attending the meeting is an important thing to do.";
		mes "It is absolutely right that all responsible cats should attend.";
		close;
	} else if (ma_tomas == 1) {
		mes "[Scottfold]";
		mes "The meeting is starting soon.";
		mes "So, shh~~";
		close;
	} else if (ma_tomas == 2) {
		mes "[Scottfold]";
		mes "Yes, honorable president.";
		mes "As for the communication with Star Candy, we have Biscuit, don't we?";
		next;
		mes "[President of Meeting]";
		mes "Of course, though she is always with ^0000FFBiscuit, who speaks the official language a bit^000000, it seems to be difficult to have a conversation in depth.";
		next;
		mes "[President of Meeting]";
		mes "Besides, Star Candy is in a very important position that our Malangdo's existance depends upon. Many others think it's necessary to talk about our future direction directly.";
		next;
		mes "[President of Meeting]";
		mes "Then for the next... yes, Koon please speak now.";
		set ma_tomas,3;
		changequest 11210,11211;
		emotion e_paper,0,"Koon#mal";
		close;
	}
	mes "[Scottfold]";
	mes "Let's quietly listen to the other's presentation.";
	next;
	mes "[Scottfold]";
	mes "...Though I say so, I also feel like saying something, somehow.";
	mes "So, I always put my hand up first!";
	close;
}

mal_in02,177,58,7	script	Koon#mal	546,{
	if (ma_tomas == 0) {
		mes "[Koon]";
		mes "Though I'm busy, I always attend this meeting.";
		mes "I'd like this to be held at times that don't disturb my work.";
		close;
	} else if (ma_tomas == 1) {
		mes "[Koon]";
		mes "I expect what comes up today.";
		close;
	} else if (ma_tomas == 2) {
		mes "[Koon]";
		mes "Scottfold is the one who participates enthusiastically.";
		mes "They say that he'll be the next president of this meeting.";
		close;
	} else if (ma_tomas == 3) {
		mes "[Koon]";
		mes "Then, how's the study of Dr. Devore going?";
		next;
		mes "[President of Meeting]";
		mes "The language of Starfish is not undertandable even for the linguist, Dr. Devore...";
		next;
		mes "[Linguist Devore]";
		mes "President! As for that matter, I'd like to speak for myself about the study.";
		next;
		mes "[President of Meeting]";
		mes "Yes. Carry on please.";
		set ma_tomas,4;
		changequest 11211,11212;
		emotion e_paper,0,"Linguist Devore#mal";
		close;
	}
	mes "[Koon]";
	mes "I hope the study of Dr. Devore comes out soon.";
	mes "I am very interested in the language as well!";
	close;
}

mal_in02,174,64,5	script	Linguist Devore#mal	549,{
	if (ma_tomas < 4) {
		mes "[Linguist Devore]";
		mes "Most of our cats are especially talented in language.";
		mes "This has a great effect on the prosperity of our merchants.";
		next;
		mes "[Linguist Devore]";
		mes "Because... it means you can do business in more areas if you know more foreign languages.";
		close;
	} else if (ma_tomas == 4) {
		mes "[Linguist Devore]";
		mes "Hello everyone.";
		mes "I am a linguist, Dr. Devore, in charge of the study on the Starfish language.";
		next;
		mes "[Linguist Devore]";
		mes "Let me say the definite conclusion first. Since ^0000FFthe study on the Starfish language^000000 started from the time we settled in Malangdo, there's been no remarkable outcome yet.";
		emotion e_swt2;
		next;
		mes "[Linguist Devore]";
		mes "Of course it is possible to talk with ^6666ccBiscuit^000000 somehow, but this is not close to the result we expected to solve the situation.";
		next;
		mes "[Koon]";
		mes "Then, how's the study on the book we found last time?";
		next;
		mes "[Linguist Devore]";
		mes "This book we assumed to be written in the Starfish language. But when I asked Biscuit, it turns out that it's a textbook to learn the Starfish language...";
		next;
		mes "[Koon]";
		mes "Isn't it very helpful for studying the Starfish language, then?";
		next;
		mes "[Linguist Devore]";
		mes "I surely thought that, but when I tried the conversation as it teaches, we ended up finding they couldn't understand it at all.";
		next;
		mes "[Linguist Devore]";
		mes "If you see the words on the first page of this book, there's a sentence seeming like short conversation.";
		next;
		mes "[Linguist Devore]";
		mes "It's like this, for the question, ¬¬¬Ñ¬Ü ¬ã¬Ú?, it says, ¬¡¬Ù ¬ã¬ì¬Þ ¬Õ¬à¬Ò¬â¬Ö, ¬Ò¬Ý¬Ñ¬Ô¬à¬Õ¬Ñ¬â¬ñ. ¬¡ ¬£¬Ú¬Ö?";
 		next;
		mes "[Linguist Devore]";
		mes "Though I tried talking to Biscuit like this, there was no feedback.";
		next;
		mes "[Linguist Devore]";
		mes "After that, as for this book, the existence of the book itself has been studied on the other side.";
		next;
		mes "[President of Meeting]";
		mes "Ok, we listened well to what Dr. Devore said.";
		mes "Then, let's wrap up the progress of the language study, and listen to Geologist, Dr. Mali.";
		set ma_tomas,5;
		changequest 11212,11213;
		emotion e_paper,0,"Geologist Mali#mal";
		close;
	} else if (ma_tomas < 18) {
		mes "[Linguist Devore]";
		mes "Hoo...";
		mes "The Starfish language is the hardest matter in my studying life.";
		next;
		mes "[Linguist Devore]";
		mes "I should solve the puzzling Starfish language soon.";
		mes "I'm ashamed to see you all like this as a result.";
		emotion e_swt2;
		close;
	} else if (ma_tomas == 18) {
		mes "[Linguist Devore]";
		mes "Right...";
		mes "This language world is so beautiful and mysterious.";
		next;
		mes "[Linguist Devore]";
		mes "There are mysteries like why the same beings use totally different languages, or why very far kinds use similar languages.";
		next;
		mes "[Linguist Devore]";
		mes "I joined this group because I thought that traveling all around the world was much more helpful to study, not just reading a book at a desk.";
		next;
		mes "[Linguist Devore]";
		mes "But this Starfish is just mysterious.";
		mes "I cannot understand it at all.";
		mes "I am rather doubtful to say it's actual 'language'.";
		emotion e_swt2;
		next;
		mes "[Linguist Devore]";
		mes "I have no clue, though I study it in various ways.";
		mes "Biscuit got used to our language, rather, and short talk is possible, but we cannot say it is conversation yet.";
		next;
		mes "[Linguist Devore]";
		mes "I feel frustrated and more to study like this, but it should be solved to deal with the other matters.";
		next;
		mes "[Linguist Devore]";
		mes "I don't see what's wrong here!";
		mes "Myself, who used to be called a master of language!";
		mes "I've never expected to come across this untouchable stuff!";
		next;
		mes "[Linguist Devore]";
		mes "Wooaaa wooaaa ahhh!!!!";
		mes "I don't see what's wrong here!";
		emotion e_omg;
		next;
		mes "[Linguist Devore]";
		mes "Why are they here and what do they want!";
		mes "I'd be good enough if I could just know it!";
		set ma_tomas,19;
		changequest 11225,11226;
		close;
	} else if (ma_tomas == 19) {
		mes "[Linguist Devore]";
		mes "Wooaaa wooaaa ahhh!!!!";
		mes "I don't see what's wrong here!";
		emotion e_omg;
		next;
		mes "[Linguist Devore]";
		mes "Why are they here and what do they want!";
		mes "I'd be good enough if I could just know it!";
		close;
	} else if (ma_tomas == 20) {
		mes "[Linguist Devore]";
		mes "What?! What did you say?!";
		mes "Fluently said!";
		mes "How come!";
		emotion e_omg;
		next;
		mes "[Linguist Devore]";
		mes "I can't believe it unless I see it with my own eyes.";
		mes "It's not right if he spoke only to me like that, isn't it?";
		next;
		mes "[Linguist Devore]";
		mes "Let's go and hear it together!!";
		set ma_tomas,21;
		changequest 11227,11228;
		close;
	} else if (ma_tomas < 34) {
		mes "[Linguist Devore]";
		mes "The study by this time was just making a totally wrong guess!";
		mes "But before you're disappointed, I'd rather be happy enough to get the answer.";
		emotion e_no1;
		next;
		mes "[Linguist Devore]";
		mes "Once we get the answer, it's only a matter of time before understanding the Starfish language.";
		close;
	} else if (ma_tomas == 34) {
		mes "[Linguist Devore]";
		mes "Is it true?!";
		mes "Did Biscuit say so?!";
		emotion e_omg;
		next;
		mes "[Linguist Devore]";
		mes "Ah, ah! Thanks to you, "+strcharinfo(0)+"!";
		mes "I feel so grateful.";
		next;
		mes "[Linguist Devore]";
		mes "I have to meet Biscuit right now and say thank you.";
		mes "It'd be possible to express my grateful mind, though we cannot understand each other.";
		next;
		mes "[Linguist Devore]";
		mes "Ah, and I really want to tell this happy news to our chief, Tomas.";
		mes "Please!!";
		emotion e_hlp;
		set ma_tomas,35;
		changequest 11236,11237;
		getitem 6422,30; //Egrade_Coin
		close;
	} else if (ma_tomas == 35) {
		mes "[Linguist Devore]";
		mes "Ah, and I really want to tell this happy news to our chief, Tomas.";
		mes "Please!!";
		emotion e_hlp;
		close;
	}
	mes "[Linguist Devore]";
	mes "Ah, ah!!";
	mes "The study on Starfish is going well.";
	mes "It could've really been a disaster, if you, "+strcharinfo(0)+", didn't help us.";
	emotion e_thx;
	close;
}

mal_in02,179,57,1	script	Geologist Mali#mal	559,{
	if (ma_tomas < 5) {
		mes "[Geologist Mali]";
		mes "Malangdo is named because the ground here is so soft, mew~";
		mes "It gets hard when you touch it, mew~";
		emotion e_slur;
		close;
	} else if (ma_tomas == 5) {
		mes "[Geologist Mali]";
		mes "Mali, mew~";
		mes "As you all know, there are many places with cracks in the ground, mew~";
		next;
		mes "[Geologist Mali]";
		mes "It's not that serious or risky a problem yet, mew~";
		mes "As we cannot predict when Star Candy will move, it's best to repair these first for now, mew~";
		next;
		mes "[Geologist Mali]";
		mes "But, as always, there is a shortage of labor, mew~";
		mes "We need many more participants, I think, mew~";
		next;
		mes "[Geologist Mali]";
		mes "As everyone has their own work to do, I understand that we all must be busy. But I'd like to participate in this repairing, since it's related to our life.";
		emotion e_hlp;
		next;
		mes "[Brie]";
		mes "Wait!";
		mes "It's not something to be done only with instant repairs!";
		mes "My father was seriously injured from the earthquake some time ago!";
		emotion e_omg,0,"Brie#mal";
		next;
		mes "[President of Meeting]";
		mes "Mr. Brie!! I understand what your situation is, but please clam dowm, since we're having a meeting.";
		set ma_tomas,6;
		changequest 11213,11214;
		emotion e_paper,0,"Brie#mal";
		close;
	} else if (ma_tomas < 13) {
		mes "[Geologist Mali]";
		mes "You attended to the meeting instead of your father today, Brie.";
		mes "He's quite unfriendly but devoted to his parents, mew~";
		emotion e_heh;
		next;
		mes "[Geologist Mali]";
		mes "Mr. Brie was not a member of our group at first, but he joined in after getting the news that his father, Rican, joined in with the new trade course development, mew~";
		next;
		mes "[Geologist Mali]";
		mes "But Brie seems to have been shocked when Rican was hurt last time, mew~";
		mes "I should study more to not let this kind of thing happen again, mew~";
		close;
	} else if (ma_tomas == 13) {
		mes "[Geologist Mali]";
		mes "Malangdo is a really special island, mew~";
		mes "Literally, it's soft.";
		next;
		mes "[Geologist Mali]";
		mes "Although I visited so many places following the group, I've never seen ground as soft as Malangdo.";
		mes "If you press the ground by mistake...";
		mes "it has magic so that you end up continously doing it over and over.";
		next;
		mes "[Geologist Mali]";
		mes "Soft and sticky feeling like this...";
		mes "Haha~ it gets you addicted to it...";
		emotion e_shy;
		next;
		mes "[Geologist Mali]";
		mes "Oops!!";
		mes "I was about to be sunk into this softness, mew~!!!";
		emotion e_omg;
		next;
		mes "[Geologist Mali]";
		mes "Though it's got the risk of making you lose your mind, it helped the ship Navi not to break, mew~";
		next;
		mes "[Geologist Mali]";
		mes "By the way, it doesn't have a special element in it, but is made up of common soil, mew~";
		next;
		mes "[Geologist Mali]";
		mes "Moreover!!";
		mes "How come it's been ^0000FFcracked with this softness^000000, mew~!";
		emotion e_omg;
		next;
		mes "[Geologist Mali]";
		mes "If this ^0000FFcrack goes on, the underground support may collapse^000000, mew...";
		next;
		mes "[Geologist Mali]";
		mes "There are many forces in for the repairing of the cracks, it feels like it's not enough, mew~";
		next;
		mes "[Geologist Mali]";
		mes "So we receive applications for voluntary service, mew~";
		mes "Though it's voluntary service, it's not free. So, please visit me at any time you want, mew~";
		next;
		switch(select("Help repairing.:Finish the talk.")) {
		case 1:
			mes "[Geologist Mali]";
			mes "Khhh!!!";
			mes "What a beatiful young person in this hard world!!!";
			mes "Whenever I come across a person like you, I feel this life is still good to live, mew~";
			emotion e_sob;
			next;
			mes "[Geologist Mali]";
			mes "Please listen to ^6666ccmy assistant, Bob^000000 in detail, mew~";
			mes "Get out of here and visit the ^6666cca room on your right^000000, mew~";
			set ma_tomas,14;
			setquest 11221;
			close;
		case 2:
			mes "[Geologist Mali]";
			mes "Woohoohoo.";
			mes "I~will~be~waiting~for~you~~";
			emotion e_lv2;
			close;
		}
	} else if (ma_tomas == 14) {
		mes "[Geologist Mali]";
		mes "Khhh!!!";
		mes "What a beatiful young person in this hard world!!!";
		mes "Whenever I come across a person like you, I feel this life is still good to live, mew~";
		emotion e_sob;
		next;
		mes "[Geologist Mali]";
		mes "Please listen to ^6666ccmy assistant, Bob^000000 in detail, mew~";
		mes "Get out of here and visit the ^6666cca room on your right^000000, mew~";
		close;
	} else if (ma_tomas == 15 || ma_tomas == 16) {
		mes "[Geologist Mali]";
		mes "Is the repairing of the cracks going well, mew?";
		mes "Don't overdo yourself, mew~";
		mes "It'd be bad if your health gets worse, mew~";
		close;
	} else if (ma_tomas == 17) {
		mes "[Geologist Mali]";
		mes "Ah! Bob complimented you so much on your great job, mew~";
		mes "Please help us next time again when you can, mew~";
		emotion e_no1;
		next;
		mes "[Linguist Devore]";
		mes "I made this, since the Starfish study was well finished and you didn't need to do such hard work like this!";
		mes "Sob sob!!!";
		emotion e_sob,0,"Linguist Devore#mal";
		next;
		mes "[Geologist Mali]";
		mes "Ohhh! What are you talking about Dr. Devore, mew~!!!!";
		mes "I don't think that way at~~all, mew~!!!";
		emotion e_omg;
		next;
		mes "[Geologist Mali]";
		mes "Everyone knows how you, Dr. Devore, are studying hard, mew~!!!";
		mes "You do your best, so be more confident, mew~!";
		set ma_tomas,18;
		completequest 11224;
		setquest 11225;
		setquest 11243;
		getitem 6422,20; //Egrade_Coin
		close;
	} else if (ma_tomas > 99) {
		if (checkquest(11240) > -1 || checkquest(11241) > -1) {
			mes "[Geologist Mali]";
			mes "Please listen to ^6666ccmy assistant, Bob^000000 in detail, mew~.";
			mes "Get out of here and visit the ^6666cca room on your right^000000, mew~";
			close;
		} else if (checkquest(11242) > -1) {
			mes "[Geologist Mali]";
			mes "Ah! Bob complimented you so much on your great job, mew~";
			mes "Please help us next time again when you can, mew~";
			changequest 11242,11243;
			getitem 6422,4; //Egrade_Coin
			close;
		} else {
			if (checkquest(11243,PLAYTIME) == 0 || checkquest(11243,PLAYTIME) == 1) {
				mes "[Geologist Mali]";
				mes "Don't overdo yourself, mew~";
				mes "It'd be bad if your health gets worse, mew~";
				close;
			}
			if (checkquest(11243,PLAYTIME) == 2)
				erasequest 11243;
			mes "[Geologist Mali]";
			mes "There is a lot more repairing left to do for today!";
			mes "It doesn't seem to be an easy thing to solve, mew~";
			next;
			switch(select("I will help.:I will stop.")) {
			case 1:
				mes "[Geologist Mali]";
				mes "Please listen to ^6666ccmy assistant, Bob^000000 in detail, mew~";
				mes "Get out of here and visit the ^6666cca room on your right^000000, mew~";
				setquest 11240;
				close;
			case 2:
				mes "[Geologist Mali]";
				mes "Then please take a rest, mew~";
				mes "I will see you next chance then, mew~";
				close;
			}
		}
	}
	mes "[Geologist Mali]";
	mes "Soft and sticky feeling like this...";
	mes "Haha~ it gets you addicted to it...";
	emotion e_slur;
	close;
}

mal_in02,140,94,0	script	Bob#mal	553,{
	if (ma_tomas < 14) {
		mes "[Bob]";
		mes "You bow-wow! bow! wow! I mew! mew! mew!";
		mes "I'm into juice from delicious fish, mew~";
		emotion e_ho;
		close;
	} else if (ma_tomas == 14) {
		// Dialogue in repeatable quest is identical.
		// Uses a variable to determine the quest mode.
		set @mal_bob_q,1;
	L_Quest1:
		set .@i, @mal_bob_q;
		set @mal_bob_q,0;
		mes "[Bob]";
		mes "You bow-wow! bow! wow! I mew! mew! mew!";
		mes "I'm into juice from delicious fish, mew~";
		emotion e_ho;
		next;
		mes "[Bob]";
		mes "Ah ahhh!!!!!!!!!!!";
		mes "Are you here for voluntary service?!";
		emotion e_omg;
		next;
		if (checkweight(1201,1) == 0) {
			mes "[Bob]";
			mes "Ummm... be lightened with your mind and body when doing voluntary service!";
			mes "You seem to have too much stuff, so get yourself lightened~";
			close;
		}
		if (MaxWeight - Weight < 1000) {
			mes "[Bob]";
			mes "Ummm... be lightened with your mind and body when doing voluntary service!";
			mes "You seem to have a lot of heavy stuff, so get yourself lightened~";
			close;
		}
		switch(select("Yes.:No.")) {
		case 1:
			mes "[Bob]";
			mes "Khhh...";
			mes "Impressed!!!";
			mes "I am impressed!!!";
			mes "The impressive mind is dancing in my heart!!!";
			emotion e_omg;
			next;
			mes "[Bob]";
			mes "I treated the people like I looked down on them and had a prejudice against human beings!!!";
			mes "I feel like crying with scales!!!!";
			mes "Impressed!!!";
			mes "Impression Pegasus Hurricane!!!";
			emotion e_omg;
			next;
			select("Stop it! Tell me how to repair the cracks.");
			mes "[Bob]";
			mes "Ah!";
			next;
			mes "[Bob]";
			mes "Hooo...";
			mes "I was so impressed that I was rude to someone I met for the first time.";
			next;
			mes "[Bob]";
			mes "Repairing the cracks is rather simple.";
			mes "Anyone can do it easily with just this ^0000FFFix Kit^000000!";
			next;
			mes "[Bob]";
			mes "Fill in the part with this mixture of gray and white clay, and fix the cracks with a stapler.";
			mes "And I'll skip explaining how to use the other tools, since you know already.";
			next;
			mes "[Bob]";
			mes "Ah, right...";
			mes "^0000ffYou may fall into the gap of the crack, unfortunately, so please watch out.^000000";
			if (.@i == 1) {
				set ma_tomas,15;
				changequest 11221,11222;
			} else
				changequest 11240,11241;
			getitem 6434,1; //Fix_Kit
			close;
		case 2:
			mes "[Bob]";
			mes "Ah, right...";
			mes "I see...";
			mes "Disappointed...";
			mes "Hoohoot shh shh~";
			emotion e_otl;
			close;
		}
	} else if (ma_tomas == 15) {
	L_Quest2:
		if (checkweight(1201,1) == 0) {
			mes " - Notice !! -";
			mes " - Since you have too many items - ";
			mes " - you cannot get the item. - ";
			mes " - Let your body lighten - ";
			mes " - and try this again. - ";
			close;
		}
		if (MaxWeight - Weight < 1000) {
			mes " - Notice !! -";
			mes " - Since your items are too heavy - ";
			mes " - you cannot get the item. - ";
			mes " - Let your body lighten - ";
			mes " - and try this again. - ";
			close;
		}
		mes "[Bob]";
		mes "Repairing the cracks is rather simple.";
		mes "Anyone can do it easily with just this ^0000FFFix Kit^000000!";
		if (countitem(6434) == 0)
			getitem 6434,1; //Fix_Kit
		next;
		mes "[Bob]";
		mes "Fill in the part with this mixture of gray and white clay, and fix the cracks with a stapler.";
		mes "And I'll skip explaining how to use the other tools, since you know already.";
		next;
		mes "[Bob]";
		mes "Ah, right...";
		mes "^0000ffYou may fall into the gap of the crack, unfortunately, so please watch out.^000000";
		close;
	} else if (ma_tomas == 16) {
		mes "[Bob]";
		mes "Khhh~~~~~~~~~~~~~~~~~~~~~~";
		mes "That was perfect!";
		emotion e_no1;
		next;
		mes "[Bob]";
		mes "The adhesive filled in just right!!";
		mes "The perfect stapler job!!";
		mes "The speechless and marvelous finishing skill!!";
		next;
		mes "[Bob]";
		mes "Impressed!";
		mes "Mysterious!";
		mes "Shocked!";
		emotion e_omg;
		next;
		mes "[Bob]";
		mes "You did a great job indeed!!!";
		mes "I will tell Dr. Mali!";
		if (countitem(6434) > 0)
			delitem 6434,1; //Fix_Kit
		set ma_tomas,17;
		changequest 11223,11224;
		close;
	} else if (ma_tomas > 99) {
		if (checkquest(11240) > -1) {
			set @mal_bob_q,2;
			goto L_Quest1;
		} else if (checkquest(11241) > -1)
			goto L_Quest2;
	}
	mes "[Bob]";
	mes "You bow-wow! bow! wow! I mew! mew! mew!";
	mes "I'm into juice from delicious fish, mew~";
	emotion e_ho;
	close;
}

-	script	Crack#mal0	-1,{
	if (.off) end;	// Official script uses a 1-second timer to disable cracks. Added to prevent abuse.
	if (ma_tomas == 15 || checkquest(11241) > -1) {
		if (countitem(6434) < 1) {
			mes "- To repair the crack -";
			mes "- you need a Fix Kit. -";
			close;
		}
		set .@ma_cr1, rand(1,10);
		if (.@ma_cr1 < 5) {
			mes "- Ground is a bit cracked. -";
			mes "- Used a stapler. -";
			set .off,1;
			donpcevent "Crackt"+substr(strnpcinfo(2),3,getstrlen(strnpcinfo(2))-1)+"#mal::OnEnable";
			close;
		} else if (.@ma_cr1 == 7) {
			mes "- With the crack opening -";
			mes "- at the center, -";
			mes "- the ground gets soft -";
			mes "- and you are instantly -";
			mes "- sucked into the ground. -";
			close2;
			warp "mal_dun01",0,0;
			end;
		} else {
			while (1) {
				switch(select("Repair the gap.:Use the stapler.")) {
				case 1:
					switch(rand(1,3)) {
					case 1:
						mes "- Mix the two colors of -";
						mes "- adhesives and put it on -";
						mes "- the crack meticulously. -";
						break;
					case 2:
						mes "- Use a plump sea squirt -";
						mes "- for the cracked gap.-";
						break;
					case 3:
						mes "- Use a slithery sea cucumber -";
						mes "- for the cracked gap.-";
						break;
					}
					next;
					break;
				case 2:
					mes "- Used the stapler for the crack -";
					mes "- and fixed it well. -";
					next;
					mes "- It seems the crack -";
					mes "- is well filled. -";
					next;
					if (rand(1,3) == 2) {
						mes "- Let's get back to report this. -";
						if (ma_tomas == 15) {
							set ma_tomas,16;
							changequest 11222,11223;
						}
						if (checkquest(11241) > -1) {
							changequest 11241,11242;
						}
					} else {
						mes "- Let's find -";
						mes "- the other cracks. -";
					}
					set .off,1;
					donpcevent "Crackt"+substr(strnpcinfo(2),3,getstrlen(strnpcinfo(2))-1)+"#mal::OnEnable";
					close;
				}
			}
		}
	}
	mes "- I can see the crack. -";
	mes "- It seems there's still -";
	mes "- not enough supporters yet. -";
	close;
OnEnable:
	enablenpc strnpcinfo(0);
	end;
OnDisable:
	set .off,0;
	disablenpc strnpcinfo(0);
	end;
}
malangdo,114,157,0	duplicate(Crack#mal0)	Crack#mal1	550
malangdo,284,237,0	duplicate(Crack#mal0)	Crack#mal2	550
malangdo,134,150,0	duplicate(Crack#mal0)	Crack#mal3	550
malangdo,173,199,0	duplicate(Crack#mal0)	Crack#mal4	550
malangdo,233,197,0	duplicate(Crack#mal0)	Crack#mal5	550
malangdo,137,239,0	duplicate(Crack#mal0)	Crack#mal6	550
malangdo,239,157,0	duplicate(Crack#mal0)	Crack#mal7	550
malangdo,221,155,0	duplicate(Crack#mal0)	Crack#mal8	550
malangdo,217,109,0	duplicate(Crack#mal0)	Crack#mal9	550
malangdo,162,183,0	duplicate(Crack#mal0)	Crack#mal10	550

-	script	Crackt0#mal	-1,{
	end;
OnInit:
	disablenpc strnpcinfo(0);
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc strnpcinfo(0);
	end;
OnTimer1000:
	donpcevent "Crack#mal"+substr(strnpcinfo(1),6,getstrlen(strnpcinfo(1))-1)+"::OnDisable";
	end;
OnTimer30000:
	donpcevent "Crack#mal"+substr(strnpcinfo(1),6,getstrlen(strnpcinfo(1))-1)+"::OnEnable";
	donpcevent strnpcinfo(0)+"::OnDisable";
	end;
}
-	duplicate(Crackt0#mal)	Crackt1#mal	-1
-	duplicate(Crackt0#mal)	Crackt2#mal	-1
-	duplicate(Crackt0#mal)	Crackt3#mal	-1
-	duplicate(Crackt0#mal)	Crackt4#mal	-1
-	duplicate(Crackt0#mal)	Crackt5#mal	-1
-	duplicate(Crackt0#mal)	Crackt6#mal	-1
-	duplicate(Crackt0#mal)	Crackt7#mal	-1
-	duplicate(Crackt0#mal)	Crackt8#mal	-1
-	duplicate(Crackt0#mal)	Crackt9#mal	-1
-	duplicate(Crackt0#mal)	Crackt10#mal	-1

mal_in02,181,55,3	script	Brie#mal	545,{
	if (ma_tomas < 6) {
		mes "[Brie]";
		mes "Sorry, but I don't feel like talking with you. Please leave me alone.";
		close;
	} else if (ma_tomas == 6) {
		mes "[Brie]";
		mes "Sorry, President.";
		next;
		mes "[Brie]";
		mes "Though Star Candy is supporting the ground of Malangdo,";
		mes "we don't understand its purpose or reason at all.";
		mes "Should we just expect not to find anything?";
		next;
		mes "[President of Meeting]";
		mes "As Dr. Devore said, it's better to wait for the results, since he's still studying...";
		next;
		mes "[Brie]";
		mes "What would you do if Star Candy left, and you had only waited?";
		mes "Malangdo may go under. I cannot just wait here like this.";
		next;
		mes "[President of Meeting]";
		mes "But, Brie, we know there's nothing but waiting.";
		mes "An enormous crack was made when Star Candy tried to make the support stand last time, as she seemed to be shocked and moved too much.";
		next;
		mes "[Geologist Mali]";
		mes "Besides, since ^0000FFStar Candy's location plays the role of pillar for this island, it seems the center would go down as you even set up pillars around her^000000, mew~";
		next;
		mes "[Geologist Mali]";
		mes "Due to the nature of this large basement space, if the center were to collapse, we can't expect what comes next. Our researchers therefore think we should treat it as carefully as we can, mew~";
		next;
		mes "[Brie]";
		mes "...";
		next;
		mes "[President of Meeting]";
		mes "We know that Rican's injury may affect the trade of Yggdrasil Berry, so don't worry too much.";
		next;
		mes "[President of Meeting]";
		mes "As for that matter, we're going to plan for it by discussing it with our chief, Tomas.";
		next;
		mes "[Brie]";
		mes "Yes...";
		next;
		mes "[President of Meeting]";
		mes "Well, let's have a break for now.";
		mes "In time, Samuel brought Seaweed and tuna here.";
		set ma_tomas,7;
		completequest 11214;
		setquest 11215;
		close;
	} else if (ma_tomas == 7) {
		mes "[Brie]";
		mes "What?!";
		mes "I won't listen if you are nagging.";
		next;
		switch(select("About Rican.:I will stop.")) {
		case 1:
			mes "[Brie]";
			mes "As for my father?";
			mes "He's the master of Yggdrasil Berry in this island.";
			next;
			mes "[Brie]";
			mes "He can only do little things, like pushing the button of the dry machine, until his legs recover from the earthquake.";
			mes "The amount of Yggdrasil Berry dramatically decreased.";
			next;
			mes "[Brie]";
			mes "I've been harvesting them instead of him, but...";
			next;
			mes "[Brie]";
			mes "Anyhow, I don't know very much about it, since I've just started this. If you want to ask about the Yggdrasil Berry, go to my house in the ^6666ccwest of Malangdo^000000.";
			next;
			mes "[Brie]";
			mes "My father will be staying there saying he's really bored today again...";
			set ma_tomas,8;
			changequest 11215,11216;
			close;
		case 2:
			mes "[Brie]";
			mes "Hoo...";
			close;
		}
	} else if (ma_tomas < 12) {
		mes "[Brie]";
		mes "Anyhow, I don't know very much about it, since I've just started this. If you want to ask about the Yggdrasil Berry, go to my house in the ^6666ccwest of Malangdo^000000.";
		next;
		mes "[Brie]";
		mes "My father will be staying there saying he's really bored today again...";
		close;
	} else if (ma_tomas == 12) {
		mes "[Brie]";
		mes "Dr. Mali, please let me help to repair the cracks!";
		mes "You called me more often long ago, but why do you say you can't give me the work now?";
		next;
		mes "[Geologist Mali]";
		mes "No, mew~";
		mes "Brie, you have to help your father, mew~";
		next;
		mes "[Brie]";
		mes "But if this island goes down, all the fuss isn't useful at all!";
		next;
		mes "[Geologist Mali]";
		mes "It's the same as the chicken and egg situation, mew~";
		mes "If we have any problems selling Yggdrasil Berry, we cannot buy the tools to repair the cracks, mew~";
		next;
		mes "[Brie]";
		mes "...";
		next;
		mes "[Geologist Mali]";
		mes "So, go back home and help your father, mew~";
		next;
		mes "[Brie]";
		mes "Ok, then I'll come back again if his legs have recovered.";
		next;
		mes "[Geologist Mali]";
		mes "Good.";
		mes "I'll wait for you, mew~";
		next;
		mes "[Geologist Mali]";
		mes "Now as I get him back home, I'm going to find the participants, mew~";
		mes "Cheers!";
		set ma_tomas,13;
		completequest 11220;
		close;
	}
	mes "[Brie]";
	mes "Hew... I think I changed from being fussy, as I felt nervous.";
	mes "Now I will think of only the harvest of fussy.";
	close;
}

mal_in01,114,169,5	script	Rican#mal	547,{
	if (ma_tomas < 9) {
		mes "[Rican]";
		mes "Woo waa hoohoo...";
		mes "Woowaa ahhh ahh ahh...";
		mes "I'm impatient... to stay home like this!!";
		emotion e_yawn;
		next;
		mes "[Rican]";
		mes "When will my legs recover, when?!";
		mes "They should be better soon, so that I can work like before...";
		mes "But I can hardly move.";
		if (ma_tomas < 8)
			close;
		next;
		mes "[Rican]";
		mes "All I can do is press the button all day long~";
		mes "This is not exciting at all~";
		mes "I'm not willing to do anything more and more~ Doobie dooba~";
		emotion e_yawn;
		next;
		select("Excuse me. Is this Rican's house?");
		mes "[Rican]";
		mes "Huh?";
		mes "Who are you!";
		mes "I am Rican!";
		mes "It's good to see you, since I'm so bored now...";
		mes "Tell me what's happening right now! Now!";
		emotion e_omg;
		next;
		select("Ask about Yggdrasil Berry.");
		mes "[Rican]";
		mes "Yggdrasil Berry?";
		mes "You... you know something!";
		mes "Umm, hahaha!";
		mes "Only a few cats know about Yggdrasil Berry!";
		emotion e_flash;
		next;
		mes "[Rican]";
		mes "Well, before I traded them with human beings like you, Yggdrasil Berry was not thought to be a very remarkable fruit.";
		next;
		mes "[Rican]";
		mes "It used to be spread out here and there in my old town. It doesn't have a good taste and causes indigestion, mew~";
		mes "Cats need to eat fishes, naturally.";
		emotion e_slur;
		next;
		mes "[Rican]";
		mes "But if human beings eat this, it gets you fully recharged.";
		next;
		mes "[Rican]";
		mes "At first, I'd never thought it could be sold at all!";
		next;
		mes "[Rican]";
		mes "Khhh~";
		mes "It was just awesome at that time...";
		next;
		mes "[Rican]";
		mes "Very long ago...";
		mes "Our group left the town for a new course to trade.";
		emotion e_shy;
		next;
		mes "[Rican]";
		mes "Actually, we dominated the areas around our town, and it was like a challenge to find unexplored areas.";
		next;
		mes "[Rican]";
		mes "But discovering the unknown is the romance of a man, isn't it?";
		emotion e_awsm;
		next;
		mes "[Rican]";
		mes "Well, the beginning was quite nice, anyway.";
		mes "After a month or two floating on the sea...";
		next;
		mes "[Rican]";
		mes "The sea has enough fishes in it, but it made me bored. I wanted to eat seasoning, like radish with chicken the most.";
		emotion e_rice;
		next;
		mes "[Rican]";
		mes "Though we drifted for a very long time, we couldn't land on any island. Rather, we met storms.";
		next;
		mes "[Rican]";
		mes "It was my first time seeing such a harsh tornado.";
		mes "At that time I was out of my mind and thought I would die.";
		next;
		mes "[Rican]";
		mes "I don't know the about the other ships, but this ship Navi luckily landed here in this island.";
		next;
		mes "[Rican]";
		mes "Khhh khhh!";
		mes "Can you believe it?";
		mes "^0000FFThat enormous ship just flied, vroom~~ like an airship and was dropped here in the middle of this island!^000000";
		emotion e_omg;
		next;
		mes "[Rican]";
		mes "Anyhow, I survived, but most of the goods in the ship were swept and we were left with only Yggdrasil Berry.";
		next;
		mes "[Rican]";
		mes "Huh? Why did we load them, if we don't eat them?";
		mes "It... it's the secret...";
		emotion e_swt;
		next;
		mes "[Rican]";
		mes "Well, it's not important. As we sent reconnaissance groups there, we found out that there's a land where the other kind lives, not like us.";
		mes "That was the land of you, human beings.";
		next;
		mes "[Rican]";
		mes "Regardless of the process, we found the new area to trade as we had first intended... we still have a small problem of not knowing how to get back to our howmetown yet...";
		next;
		mes "[Rican]";
		mes "We cats started selling with powerful viability.";
		mes "But we had only Yggdrasil Berry, right?";
		mes "We sold it with no high expectations, but could sell like hot cakes.";
		next;
		mes "[Rican]";
		mes "As rumors went, it was sold at very high prices among human beings and had a remarkable effect on them.";
		mes "So we finally settled down to sell Yggdrasil Berry with growing profits.";
		next;
		mes "[Rican]";
		mes "But we are selling the dried kind, which is ^0000FFa bit different from what human being originally know, and less effective, and hard to eat raw^000000.";
		next;
		mes "[Rican]";
		mes "Since it disappears as we prepare, it's definately the best for our group.";
		emotion e_pat;
		next;
		mes "[Rican]";
		mes "By the way, as I got injured in this important season, it harms my credibility if I don't meet the deadline to deliver the amount ordered!";
		mes "Trading is credibility!!!";
		emotion e_omg;
		next;
		mes "[Rican]";
		mes "For this reason, would you like to help me?";
		mes "Though my son is helping me, the amount we can prepare is not enough.";
		next;
		switch(select("I'll help him.:I won't.")) {
		case 1:
			mes "[Rican]";
			mes "Khhh!";
			mes "I had a good impression of you from the first time!";
			next;
			mes "[Rican]";
			mes "Harvesting Yggdrasil Berry is very easy.";
			mes "You can get it when you just dig the ground, mew~";
			emotion e_omg,1;
			next;
			select("?!");
			mes "[Rican]";
			mes "Huh?";
			mes "Doesn't it originally come from the ground?";
			emotion e_omg,1;
			next;
			select("Doesn't it grow on trees?");
			mes "[Rican]";
			mes "Well, the Yggdrasil Berry in Midgard could do so.";
			mes "But ^6666ccwe dig our Yggdrasil Berry here from the ground^000000.";
			emotion e_omg,1;
			next;
			mes "[Rican]";
			mes "You can get it on Malangdo Island easily. Bring me about 30.";
			mes "Ah! Keep the secret to my son for sure~";
			mes "Then please^ff99cc!!!^000000 please^ff99cc!!!^000000 please~~~";
			emotion e_kis;
			set ma_tomas,9;
			changequest 11216,11217;
			close;
		case 2:
			mes "[Rican]";
			mes "Oh? Then it's okay, if you can't help it.";
			mes "My injured leg feels so bad... -groaning-";
			close;
		}
	} else if (ma_tomas == 9) {
		if (countitem(6435) < 30) {
			mes "[Rican]";
			mes "You can get it on Malangdo Island easily. Bring me about 30.";
			mes "Ah! Keep the secret to my son for sure~";
			mes "Then please^ff99cc!!!^000000 please^ff99cc!!!^000000 please~~~";
			emotion e_kis;
			close;
		}
		mes "[Rican]";
		mes "Oh, oh!!";
		mes "This fresh smell!!!";
		mes "Haaa~ How fresh, good job!";
		mes "You're good at harvesting Yggdrasil Berry?";
		next;
		mes "[Rican]";
		mes "Then would you put it in the machine in front of me?";
		set ma_tomas,10;
		changequest 11217,11218;
		close;
	} else if (ma_tomas == 10) {
		mes "[Rican]";
		mes "Oh, oh!!";
		mes "This fresh smell!!!";
		mes "Haaa~ How fresh, good job!";
		mes "You're good at harvesting Yggdrasil Berry?";
		next;
		mes "[Rican]";
		mes "Then would you put it in the machine in front of me?";
		close;
	} else if (ma_tomas == 11) {
		if (checkweight(1201,1) == 0) {
			mes " - Notice !! -";
			mes " - Since you have too many items - ";
			mes " - you cannot get the item. - ";
			mes " - Let your body lighten - ";
			mes " - and try this again. - ";
			close;
		}
		if (MaxWeight - Weight < 1000) {
			mes " - Notice !! -";
			mes " - Since your items are too heavy - ";
			mes " - you cannot get the item. - ";
			mes " - Let your body lighten - ";
			mes " - and try this again. - ";
			close;
		}
		mes "[Rican]";
		mes "Hoo hoo~ I feel at ease thanks to your help.";
		mes "I had doubted if it was too much suddenly, but it turned out just right!";
		next;
		mes "[Rican]";
		mes "By the way, no news from my son yet, as he said he went to a meeting.";
		mes "I hope he's not bothering Dr. Mali again...";
		next;
		mes "[Rican]";
		mes "He seems to have visited Dr. Mali more often since my legs got injured.";
		mes "The study will get longer if he does so...";
		next;
		mes "[Rican]";
		mes "If you see my son, please tell him to get back soon~";
		mes "And this is for you to buy something delicious with, since you did hard work.";
		set ma_tomas,12;
		getitem 6422,20; //Egrade_Coin
		changequest 11219,11220;
		setquest 11239;
		close;
	} else if (ma_tomas == 12) {
		mes "[Rican]";
		mes "He seems to have visited Dr. Mali more often since my legs got injured.";
		mes "The study will get longer if he does so...";
		mes "If you see my son, please tell him to get back soon~";
		close;
	} else if (ma_tomas > 99) {
		if (checkquest(11238,PLAYTIME) == 0 || checkquest(11238,PLAYTIME) == 1) {
			if (countitem(6435) < 30) {
				mes "[Rican]";
				mes "You need exactly 30 to get a set!";
				close;
			}
			mes "[Rican]";
			mes "Very reliable!";
			mes "Don't you want to do your business with Yggdrasil Berry?";
			delitem 6435,30; //Fresh_Fruit
			erasequest 11238;
			setquest 11239;
			getitem 6422,5; //Egrade_Coin
			close;
		} else if (checkquest(11239,PLAYTIME) == 0 || checkquest(11239,PLAYTIME) == 1) {
			mes "[Rican]";
			mes "Would you like to take a rest for a while?";
			mes "It hasn't been a day yet since you last worked~";
			close;
		} else {
			if (checkquest(11239,PLAYTIME) == 2)
				erasequest 11239;
			mes "[Rican]";
			mes "Hehe~";
			mes "You came here to help me again?";
			mes "You're so faithful!";
			next;
			switch(select("I'll help.:I won't.")) {
			case 1:
				mes "[Rican]";
				mes "It's the same task to do as before.";
				mes "30 Yggdrasil Berry. You can easily find it in Malangdo!!";
				mes "Ah! Keep the secret to my son for sure~";
				mes "Then please^ff99cc!!!^000000 please^ff99cc!!!^000000 please~~~";
				emotion e_kis;
				setquest 11238;
				close;
			case 2:
				mes "[Rican]";
				mes "Yeah? Then play around here, since you are visiting~";
				close;
			}
		}
	}
	mes "[Rican]";
	mes "Woo waa hoohoo...";
	mes "Woowaa ahhh ahh ahh...";
	mes "I'm impatient... to stay home like this!!";
	next;
	mes "[Rican]";
	mes "All I can do is press the button all day long~";
	mes "This is not exciting at all~";
	mes "I'm not willing to do anything more and more~ Doobie dooba~";
	close;
}

mal_in01,116,168,0	script	Dry Machine#mal	563,{
	if (ma_tomas == 10) {
		if (countitem(6435) < 30) {
			mes "[Rican]";
			mes "You need exactly 30 to get a set!";
			close;
		}
		switch(select("Put the fruits in.:Don't.")) {
		case 1:
			mes "[Rican]";
			mes "I'll press the button by myself!!!";
			emotion e_omg,0,"Rican#mal";
			next;
			mes "- The machine starts operating -";
			mes "- when he presses the button. -";
			delitem 6435,30; //Fresh_Fruit
			set ma_tomas,11;
			changequest 11218,11219;
			close;
		case 2:
			mes "[Rican]";
			mes "Ah... you won't put it in?";
			close;
		}
	}
	mes "- Drrrk Drrrk -";
	close;
}

-	script	Suspicious Sand Pile#0	-1,{
	if (.off) end;	// Official script uses a 1-second timer to disable sand piles. Added to prevent abuse.
	if (checkweight(1201,1) == 0) {
		mes " - Notice !! -";
		mes " - Since you have too many items - ";
		mes " - you cannot get the item. - ";
		mes " - Let your body lighten - ";
		mes " - and try this again. - ";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes " - Notice !! -";
		mes " - Since your items are too heavy - ";
		mes " - you cannot get the item. - ";
		mes " - Let your body lighten - ";
		mes " - and try this again. - ";
		close;
	}
	if (ma_tomas == 9 || checkquest(11238) > -1) {
		if (rand(1,5) == 4) {
			mes "- As I put my hand in the sand -";
			mes "- a fresh smell comes out. -";
			getitem 6435,1; //Fresh_Fruit
		} else {
			mes "- As I put my hand in the sand -";
			mes "- I feel like I'm touching -";
			mes "- something bad. -";
			mes "- Ah, ah! Feels bad... -";
			emotion e_omg,1;
		}
		set .off,1;
		donpcevent "Water Sand"+strnpcinfo(2)+"#mal::OnEnable";
		close;
	}
	mes "- Seeems suspicious. -";
	mes "- But it's just sand... -";
	close;
OnEnable:
	enablenpc strnpcinfo(0);
	end;
OnDisable:
	set .off,0;
	disablenpc strnpcinfo(0);
	end;
}
malangdo,221,139,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#1	557
malangdo,208,174,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#2	557
malangdo,191,223,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#3	557
malangdo,150,195,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#4	557
malangdo,116,196,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#5	557
malangdo,178,145,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#6	557
malangdo,142,120,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#7	557
malangdo,136,122,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#8	557
malangdo,152,143,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#9	557
malangdo,242,175,0	duplicate(Suspicious Sand Pile#0)	Suspicious Sand Pile#10	557

-	script	Water Sand0#mal	-1,{
OnInit:
	disablenpc strnpcinfo(0);
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc strnpcinfo(0);
	end;
OnTimer1000:
	donpcevent "Suspicious Sand Pile#"+substr(strnpcinfo(1),10,getstrlen(strnpcinfo(1))-1)+"::OnDisable";
	end;
OnTimer30000:
	donpcevent "Suspicious Sand Pile#"+substr(strnpcinfo(1),10,getstrlen(strnpcinfo(1))-1)+"::OnEnable";
	donpcevent strnpcinfo(0)+"::OnDisable";
	end;
}
-	duplicate(Water Sand0#mal)	Water Sand1#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand2#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand3#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand4#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand5#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand6#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand7#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand8#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand9#mal	-1
-	duplicate(Water Sand0#mal)	Water Sand10#mal	-1

mal_dun01,136,120,6	script	Linguist Devore#mald	549,{
	end;
OnInit:
	disablenpc "Linguist Devore#mald";
	end;
OnEnable:
	enablenpc "Linguist Devore#mald";
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc "Linguist Devore#mald";
	end;
OnTimer100000:
	donpcevent "Linguist Devore#mald::OnDisable";
	end;
}

mal_dun01,136,122,3	script	Biscuit#mal	551,{
	if (ma_tomas < 20) {
		mes "- There's something strange. -";
		mes "- It feels like somehow - ";
		mes "- you shouldn't make eye contact. -";
		close;
	} else if (ma_tomas == 20) {
		mes "[Biscuit]";
		mes "Star Candy sacrifices herself like this, but those fellows are setting the pillars around her for themselves only.";
		mes "Hewww!!!";
		emotion e_ag;
		next;
		mes "[Biscuit]";
		mes "They talk to her, but ignore me when I talk to her.";
		mes "I don't like them at all!!!";
		emotion e_ag;
		next;
		mes "- Unlike the words of Dr. Devore, Biscuit appears fluent in speaking. -";
		next;
		mes "- I think it's better to let Dr. Devore know this soon. -";
		close;
	} else if (ma_tomas == 21) {
		mes "[Biscuit]";
		mes "Umm?";
		mes "What's this?";
		mes "Do you have anything to tell me?";
		next;
		mes "[Biscuit]";
		mes "Well, that fellow is often the one ignoring my words.";
		mes "He wavers with words to say and makes me uncomfortable.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Did you hear? Dr. Devore?";
		donpcevent "Linguist Devore#mald::OnEnable";
		next;
		mes "[Linguist Devore]";
		mes "Ummm? What do you mean?";
		mes "I cannot hear anything.";
		emotion e_what,0,"Linguist Devore#mald";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Huh? Biscuit said 'Well, that fellow is often the one ignoring my words. He wavers with words to say and makes me uncomfortable.'?";
		next;
		mes "[Linguist Devore]";
		mes "What? What are you taling about?";
		mes "I cannot hear anything.";
		emotion e_what,0,"Linguist Devore#mald";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Huh?";
		emotion e_what,1;
		next;
		mes "[Linguist Devore]";
		mes "Ah?!";
		mes "Ah?!?!?!?!?!?";
		mes "Ah!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!";
		emotion e_omg,0,"Linguist Devore#mald";
		next;
		mes "[Linguist Devore]";
		mes "If... if that's the cause!";
		mes "We may have totally misunderstood!";
		emotion e_omg,0,"Linguist Devore#mald";
		next;
		mes "[Linguist Devore]";
		mes "Oh my, we couldn't have known, since we live here only with ourselves.";
		next;
		mes "[Linguist Devore]";
		mes "Each living thing has its own area for audibility and vocalization. But we and Biscuit were in slightly different areas!";
		emotion e_omg,0,"Linguist Devore#mald";
		next;
		mes "[Linguist Devore]";
		mes "In such conditions, we cannot hear any language properly!";
		mes "This was a matter of sound rather than language...";
		next;
		mes "[Linguist Devore]";
		mes "Hu~hu... Despite of many years of study, we couldn't discover this reason...";
		next;
		mes "[Linguist Devore]";
		mes "It's not the time to do this!";
		mes "I should change the way of studying right now.";
		next;
		mes "[Linguist Devore]";
		mes "I'll get back to the meeting and report this.";
		mes "Then please take care of the next things!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Wait, Dr. Devore, what on earth is next...?";
		mes "What should I do...?";
		emotion e_dots,1;
		next;
		mes "[Linguist Devore]";
		mes "Hahaha~ You are the kind who can have conversations with Biscuit. Please try to talk with him.";
		mes "It'll be helpful for my study, no matter what you talk about with him.";
		next;
		mes "[Biscuit]";
		mes "Hey... Don't look down on me!";
		emotion e_ag;
		donpcevent "Linguist Devore#mald::OnDisable";
		set ma_tomas,22;
		completequest 11228;
		setquest 11229;
		close;
	} else if (ma_tomas == 22 || ma_tomas == 23 || ma_tomas == 24) {
		mes "[Biscuit]";
		mes "...What are you looking at...";
		next;
		while(1) {
			switch(select("Ask about Star Candy.:Ask about Biscuit.:Ask about Malangdo.")) {
			case 1:
				mes "[Biscuit]";
				mes "Star Candy?";
				mes "Tsk tsk!";
				mes "It's no go, the lowly fellows.";
				emotion e_ag;
				next;
				mes "[Biscuit]";
				mes "You shouldn've recognized the previous and mysterious feeling from Star Candy!";
				mes "She's the one who's really gorgeous.";
				next;
				mes "[Biscuit]";
				mes "How gorgeous she is that... umm...";
				mes "Just gorgeous.";
				mes "She is so gorgeous... but I don't know how to explaing it...";
				emotion e_swt2;
				next;
				mes "[Biscuit]";
				mes "Khummm...";
				mes "That's why the kinds speaking with sound are irritating.";
				emotion e_ag;
				next;
				select("Speaking with sound?");
				mes "[Biscuit]";
				mes "The kind who got highly evolved like us talk using our minds, not sound.";
				mes "As you think in your mind, it goes to the others right away, something like this?";
				next;
				mes "[Biscuit]";
				mes "In other places, it used to be called ultrasonic waves, or telepathy.";
				next;
				mes "[Biscuit]";
				mes "So we haven't needed any more explanation or flowery words...";
				mes "Woo, it's bothering me so much!";
				if (ma_tomas == 22)
					set ma_tomas,23;
				if (ma_tomas == 25)
					close;
				next;
			case 2:
				mes "[Biscuit]";
				mes "Me?";
				mes "I'm an assistant to Star Candy, a new star in the Starfish race with multi-faceted talents!";
				emotion e_flash;
				next;
				mes "[Biscuit]";
				mes "Ah, ah...";
				mes "When I was her assistant at first, I used to be called a genius, handsome assistant, and so on...";
				mes "I felt like a shining road of light had come up to me...";
				next;
				mes "[Biscuit]";
				mes "But if the elderly see this, they'll dry me out in the sun...";
				mes "It was a life like a flame... Sob sob sob sob";
				emotion e_sob;
				if (ma_tomas == 23)
					set ma_tomas,24;
				if (ma_tomas == 25)
					close;
				next;
			case 3:
				mes "[Biscuit]";
				mes "This island is where the gorgeous Star Candy can take a rest.";
				mes "The surface is soft and with the high moisture inside, it's the best place for Starfishes.";
				next;
				mes "[Biscuit]";
				mes "Now, those cats already occupied it as they wanted.";
				mes "It's a problem because Star Candy is too kind...";
				if (ma_tomas == 24) {
					set ma_tomas,25;
					changequest 11229,11230;
				}
				if (ma_tomas == 25)
					close;
				next;
			}
		}
	} else if (ma_tomas == 25) {
		mes "[Biscuit]";
		mes "Hey, you haven't gone back?";
		mes "Get some jellies for Star Candy to eat if you have time.";
		next;
		switch(select("Okay.:Why me?")) {
		case 1:
			mes "[Biscuit]";
			mes "You can get the jellies around here.";
			mes "It's not that difficult, and you should come back before Star Candy's meal time!";
			mes "About 30 jellies would be okay for a meal.";
			set ma_tomas,26;
			changequest 11230,11231;
			close;
		case 2:
			mes "[Biscuit]";
			mes "Why you?";
			mes "I'm busy enough to assist her and the cat fellows who can't hear my voice, that's why I should ask you.";
			next;
			mes "[Biscuit]";
			mes "How rude...";
			emotion e_ag;
			next;
			mes "[Biscuit]";
			mes "You're not my subordinate, so I can't order you by force. But if Star Candy can't have her meal on time, you have to remember that this island will collapse completely.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "...It's not a request, but a threat...";
			emotion e_dots,1;
			close;
		}
	} else if (ma_tomas == 26) {
		// Dialogue in repeatable quest is identical.
		// Uses a variable to determine the quest mode.
		set @mal_bob_q,1;
	L_Quest:
		set .@i, @mal_bob_q;
		set @mal_bob_q,0;
		if (countitem(12624) < 30) {
			mes "[Biscuit]";
			mes "It's not enough at all~";
			mes "I need at least 30 Delicious Jelly.";
			close;
		}
		mes "[Biscuit]";
		mes "You got them well.";
		mes "There won't be any problem to prepare her meal.";
		delitem 12624,30; //Delicious_Jelly
		if (.@i == 1) {
			set ma_tomas,27;
			changequest 11231,11232;
		} else {
			erasequest 11244;
			setquest 11245;
			getitem 6422,5; //Egrade_Coin
		}
		next;
		mes "[Biscuit]";
		mes "Though the jelly looks strange, it tastes good...";
		mes "Star Candy seems to like it a lot as well.";
		next;
		mes "[Biscuit]";
		mes "Have your meal, Star Candy~";
		mes "Uhhh, why don't you eat it?";
		mes "You have no appetite?";
		close;
	} else if (ma_tomas == 27) {
		mes "[Biscuit]";
		mes "Hooo.. it's natural that you have no appetite...";
		next;
		mes "[Biscuit]";
		mes "How come precious Star Candy supports the ground in the basement like this, and it's so dry, though it's in a subterranean cave of an island!";
		next;
		mes "[Biscuit]";
		mes "Moreover, the slithery thing is bothering Star Candy.";
		mes "You cannot avoid the stress.";
		next;
		select("Slithery thing?");
		mes "[Biscuit]";
		mes "Hmm? What is such a thing like that.";
		mes "The slithery thing.";
		mes "With its ugly looks, it bothers Star Candy continuously.";
		next;
		mes "[Biscuit]";
		mes "It tries to come up to the island especially when it's storming like today. I hid here a while. Those cats came and made her bad like this.";
		next;
		mes "[Biscuit]";
		mes "Thanks to Star Candy, her skin is...";
		mes "......";
		next;
		mes "[Biscuit]";
		mes "Woooaaappp!";
		mes "What's this!!!";
		mes "Her skin is!!!!";
		mes "She got an abscess on her skin that used to shine like a jewel!!!!";
		emotion e_omg;
		next;
		mes "[Biscuit]";
		mes "She got in trouble with her dried skin, since she's here!";
		mes "For our Starfishes, the lack of water means horrible things that lead to death!";
		next;
		mes "[Biscuit]";
		mes "Ah, ah! She's so kind that she sacrifices herself to save such things. Sob sob.";
		emotion e_sob;
		next;
		mes "[Biscuit]";
		mes "Ah, ah...";
		mes "I can't leave to take care of her, isn't there anybody to help~";
		next;
		mes "[Biscuit]";
		mes "Isn't there anybody to helpppppp~";
		next;
		mes "[Biscuit]";
		mes "Hey, you there...";
		mes "Even as I ask like this, will you just ignore me and stand there?";
		next;
		select("I'll help.:It's unavoidable, so I'll help.:I'll admit this is my destiny, so I'll and help.:I'll do anything I can for Star Candy.");
		mes "[Biscuit]";
		mes "Good attitude!";
		mes "Hoo hoo~";
		next;
		mes "[Biscuit]";
		mes "Then please find the brush to wash her and get a basket to move water here.";
		mes "Maybe they're stacked in the storage.";
		set ma_tomas,28;
		changequest 11232,11233;
		close;
	} else if (ma_tomas == 28) {
		if (countitem(6433) && countitem(6432)) {
			mes "[Biscuit]";
			mes "Oh!";
			mes "You brought the tools successfully.";
			mes "Now you can wash the dry skin in the counter-clockwise direction!";
			mes "Right, then from her left leg...!";
			set ma_tomas,29;
			changequest 11233,11234;
			close;
		} else if (countitem(6433) && countitem(6431)) {
			mes "[Biscuit]";
			mes "Oh!";
			mes "You brought the tools successfully.";
			mes "Now you can fetch sea water from outside.";
			next;
			mes "[Biscuit]";
			mes "There's a spot I remember as first rate, in the east of Malangdo.";
			mes "It's not right to wash her with the water collected in this cave!";
			next;
			mes "[Biscuit]";
			mes "Be careful not to spill the water, as it's heavy to carry.";
			close;
		} else {
			mes "[Biscuit]";
			mes "Ummm... It will be hard if you don't have the proper tools...";
			mes "Though it doesn't matter for someone small like me.";
			next;
			mes "[Biscuit]";
			mes "For such enormous skin as Star Candy's, it's full of barnacles, oysters, and mussels!!!";
			emotion e_omg;
			close;
		}
	} else if (ma_tomas < 33) {
		mes "[Biscuit]";
		mes "Oh!";
		mes "You brought the tools successfully.";
		mes "Now you can wash the dry skin in the counter-clockwise direction!";
		mes "Right, then from her left leg...!";
		close;
	} else if (ma_tomas == 33) {
		if (checkweight(1201,1) == 0) {
			mes " - Notice !! -";
			mes " - Since you have too many items - ";
			mes " - you cannot get the item. - ";
			mes " - Let your body lighten - ";
			mes " - and try this again. - ";
			close;
		}
		if (MaxWeight - Weight < 1000) {
			mes " - Notice !! -";
			mes " - Since your items are too heavy - ";
			mes " - you cannot get the item. - ";
			mes " - Let your body lighten - ";
			mes " - and try this again. - ";
			close;
		}
		mes "[Biscuit]";
		mes "Well done!";
		mes "Now I see that her beautiful face has recovered.";
		emotion e_awsm;
		next;
		mes "[Biscuit]";
		mes "The skin will go bad if you don't clean it every day.";
		mes "There's a saying... cleansing your skin is much more important than using makeup.";
		emotion e_no1;
		next;
		mes "[Biscuit]";
		mes "You did a good job.";
		mes "You helped me even though I asked suddenly like this...";
		mes "To be honest, I thought you'd just leave.";
		next;
		mes "[Biscuit]";
		mes "It's a kind of reward. Say my words to Dr. Dvor... or Devore, whatever the cat's name is.";
		next;
		mes "[Biscuit]";
		mes "There's no need to wait until the study finishes. We can talk through you, and it's better to talk about the current situation...";
		next;
		mes "[Biscuit]";
		mes "This is not for you... and all of you, either. It's rather for Star Candy to get rest as soon as possible, you know!";
		emotion e_pif;
		set ma_tomas,34;
		erasequest 11235;
		setquest 11236;
		getitem 6422,100; //Egrade_Coin
		getitem 12636,20; //Malang_Sp_Can
		close;
	} else if (ma_tomas > 99) {
		if (checkquest(11244) > -1) {
			set @mal_bob_q,2;
			goto L_Quest;
		} else if (checkquest(11245,PLAYTIME) == 0 || checkquest(11245,PLAYTIME) == 1) {
			mes "[Biscuit]";
			mes "I'll call you when I need you, so don't worry!";
			close;
		} else {
			if (checkquest(11245,PLAYTIME) == 2)
				erasequest 11245;
			mes "[Biscuit]";
			mes "It's the time for Star Candy to have a meal.";
			mes "Get some jellies.";
			next;
			switch(select("I'll help.:I'll stop.")) {
			case 1:
				mes "[Biscuit]";
				mes "You can get the jellies around here.";
				mes "It's not that difficult, and you should come back before Star Candy's meal time!";
				mes "About 30 jellies would be ok for a meal.";
				setquest 11244;
				close;
			case 2:
				mes "[Biscuit]";
				mes "What, are you talking about you let our Star Candy feel hungry?!";
				close;
			}
		}
	}
	mes "[Biscuit]";
	mes "Star Candy is really good.";
	mes "She never loses her smile, even though it's so hard to stand...";
	close;
}

mal_in02,102,94,3	script	Cleaning Staff#mal	544,2,2,{
OnTouch:
	if (checkweight(1201,1) == 0) {
		mes " - Notice !! -";
		mes " - Since you have too many items - ";
		mes " - you cannot get the item. - ";
		mes " - Let your body lighten - ";
		mes " - and try this again. - ";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes " - Notice !! -";
		mes " - Since your items are too heavy - ";
		mes " - you cannot get the item. - ";
		mes " - Let your body lighten - ";
		mes " - and try this again. - ";
		close;
	}
	mes "[Cleaning Staff]";
	mes "All yours. There are various cleaning tools here.";
	next;
	switch(select("Bucket:Cleaning Brush:Stop.")) {
	case 1:
		mes "[Cleaning Staff]";
		mes "You mean the Bucket!";
		mes "Here we go~";
		next;
		mes "[Cleaning Staff]";
		mes "Please give the cleaning tool back to any merchant.";
		mes "Thanks for coming~";
		getitem 6431,1; //Bucket
		close;
	case 2:
		mes "[Cleaning Staff]";
		mes "You mean the Cleaning Brush!";
		mes "Here we go~";
		next;
		mes "[Cleaning Staff]";
		mes "Please give the cleaning tool back to any merchant.";
		mes "Thanks for coming~";
		getitem 6433,1; //Clean_Brush
		close;
	case 3:
		mes "[Cleaning Staff]";
		mes "Thanks for coming~";
		close;
	}
	close;
}

malangdo,246,184,0	script	1st Rate Point	111,{
	if (checkweight(1201,1) == 0) {
		mes " - Notice !! -";
		mes " - Since you have too many items - ";
		mes " - you cannot get the item. - ";
		mes " - Let your body lighten - ";
		mes " - and try this again. - ";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes " - Notice !! -";
		mes " - Since your items are too heavy - ";
		mes " - you cannot get the item. - ";
		mes " - Let your body lighten - ";
		mes " - and try this again. - ";
		close;
	}
	if (countitem(6431) == 0) {
		mes "- To get water -";
		mes "- you need a ^0000FFBucket^000000. -";
		close;
	}
	mes "- The water seems so pure. -";
	next;
	switch(select("Get water.:Stop.")) {
	case 1:
		mes "- The bucket gets remarkably -";
		mes "- heavy as water fills it up. -";
		specialeffect EF_POTION8;
		delitem 6431,1; //Bucket
		getitem 6432,1; //Full_Bucket
		close;
	case 2:
		mes "- Didn't get water. -";
		close;
	}
}

mal_dun01,133,125,5	script	Star Candy#mal	552,{
	if (ma_tomas == 19) {
		mes "[Star Candy]";
		mes "....";
		mes ".....";
		mes "......";
		next;
		mes "[Biscuit]";
		mes "Rude! How come you talk to precious Star Candy!";
		next;
		mes "[Biscuit]";
		mes "You look different from the fellows that usually comes...";
		mes "You also look strange, though.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "?!";
		mes "You can talk!";
		emotion e_omg,1;
		next;
		mes "[Biscuit]";
		mes "What?";
		mes "You've never seen me talking?";
		mes "What's the matter with you?";
		next;
		mes "[Biscuit]";
		mes "Since I can talk with you, you seem better than those other foolish ones.";
		mes "Though I learned to speak in their language, they don't understand.";
		next;
		mes "[Biscuit]";
		mes "Our precious Star Candy humbly supports them, and they treat her like this.";
		mes "They don't know how to express thanks!";
		emotion e_ag,0,"Biscuit#mal";
		next;
		select("Support?");
		mes "[Biscuit]";
		mes "Anyway!";
		mes "It's no use to treat them well.";
		mes "They don't know how hard Star Candy is trying.";
		next;
		mes "[Biscuit]";
		mes "This island used to be hers, but for the short time while she avoided storms and got here, those cats were suddenly dropped on the island.";
		next;
		mes "[Biscuit]";
		mes "Since the ground here is so soft, Star Candy was stuck in between, and the situation is now like this.";
		next;
		mes "[Biscuit]";
		mes "Actually, she can get out regardless of those bad things, but she supports the ground worrying that someone will get hurt.";
		next;
		mes "[Biscuit]";
		mes "Ah, ah...";
		mes "What a beatiful mind...";
		next;
		mes "[Biscuit]";
		mes "Once she moved a bit when she felt uncomfortable, and saw them in panic. She hasn't moved at all since then. I'm worried if she's not well.";
		next;
		mes "[Biscuit]";
		mes "Star Candy sacrifices herself like this, but those fellows are setting the pillars around her for themselves only.";
		mes "Hewww!!!";
		emotion e_ag,0,"Biscuit#mal";
		next;
		mes "[Biscuit]";
		mes "They talk to her, but ignore me when I talk to her.";
		mes "I don't like them at all!!!";
		next;
		mes "- Unlike the words of Dr. Devore, Biscuit appears fluent in speaking. -";
		next;
		mes "- I think it's better to let Dr. Devore know this soon. -";
		set ma_tomas,20;
		changequest 11226,11227;
		close;
	}
	mes "[Star Candy]";
	mes "....";
	mes ".....";
	mes "......";
	close;
}

-	script	#skin_mal	-1,{
	set .@index, atoi(strnpcinfo(2));
	switch(.@index) {
		case 29: set .@str$,"dry"; break;
		case 30: set .@str$,"prickly"; break;
		case 31: set .@str$,"chapped"; break;
		case 32: set .@str$,"hard"; break;
		default:
			mes "An error has occurred.";
			close;
	}
	if (ma_tomas != .@index) {
		mes "- I feel sorry for the skin -";
		mes "- to be so "+.@str$+". -";
		close;
	}
	if (!countitem(6433) || !countitem(6432)) {
		mes "- You need -";
		mes "- a cleaning brush -";
		mes "- and a full bucket. -";
		close;
	}
	mes "- Poured water on the "+.@str$+" skin. -";
	delitem 6432,1; //Full_Bucket
	getitem 6431,1; //Bucket
	next;
	if (rand(1,2) == 1)
		set .@menu$,"Brush.:Stop.:";
	else
		set .@menu$,":Stop.:Brush.";
	switch(select(.@menu$)) {
	case 1:
	case 3:
		mes "- Poured water on -";
		mes "- the "+.@str$+" skin -";
		mes "- and brushed it hard. -";
		specialeffect EF_BUBBLE;
		if (rand(1,3) > 1)
			close;
		next;
		mes "- The "+.@str$+" skin turned -";
		mes "- soft and moisturized. -";
		switch(rand(1,50)) {
		case 7:
			next;
			mes "[Star Candy]";
			mes "Hoo hoo hoot~";
			mes "That tickles.";
			break;
		case 21:
			next;
			mes "[Star Candy]";
			mes "You're a really good human being.";
			break;
		case 29:
			next;
			mes "[Star Candy]";
			mes "Since I couldn't move, it was the most difficult thing to stand.";
			break;
		case 30:
			next;
			mes "[Star Candy]";
			mes "Ah~ Feels good~";
			mes "I felt itchy for so long.";
			break;
		case 49:
			next;
			mes "[Star Candy]";
			mes "Thanks so much.";
			break;
		default:
			set ma_tomas, ma_tomas+1;
			if (.@index == 32)
				changequest 11234,11235;
			close;
		}
		cutin "ma_starcandy",2;
		set ma_tomas, ma_tomas+1;
		if (.@index == 32)
			changequest 11234,11235;
		close2;
		cutin "",255;
		end;
	case 2:
		mes "- All the water -";
		mes "- sank into the ground. -";
		close;
	}
}
mal_dun01,143,137,0	duplicate(#skin_mal)	Dry Skin#29	111
mal_dun01,131,150,0	duplicate(#skin_mal)	Prickly Skin#30	111
mal_dun01,116,144,0	duplicate(#skin_mal)	Chapped Skin#31	111
mal_dun01,120,129,0	duplicate(#skin_mal)	Hard Skin#32	111

malangdo,190,167,7	script	Portali#mal	546,{
	if (ma_tomas < 100) {
		mes "[Portali]";
		mes "I have no business for a immature fellow!";
		close;
	}
	mes "[Portali]";
	mes "Hmmm...";
	mes "You smell like cats even though you're a human being...";
	next;
	mes "[Portali]";
	mes "But... Would you like to go back to my hometown?";
	mes "I'll let you go to the land of Midgard with the new skill I found!";
	mes "It's not free. I'll need canned food!";
	next;
	switch(select("Go.:Don't go.:Prices?")) {
	case 1:
		if (countitem(12636) < 4) {
			mes "[Portali]";
			mes "Where are you going without canned food...?";
			close;
		}
		switch(select("Rune-Midgarts:Schwaltzvalt Republic:Arunafeltz Kingdom")) {
		case 1:
			switch(select("Prontera:Morroc:Alberta:Al De Baran:Payon:Geffen")) {
				case 1: callsub L_Warp,"Prontera",4,"prontera",155,111;
				case 2: callsub L_Warp,"Morroc",4,"morocc",159,255;
				case 3: callsub L_Warp,"Alberta",4,"alberta",95,66;
				case 4: callsub L_Warp,"Al De Baran",4,"aldebaran",126,120;
				case 5: callsub L_Warp,"Payon",4,"payon",198,135;
				case 6: callsub L_Warp,"Geffen",4,"geffen",120,100;
			}
		case 2:
			switch(select("Einbroch:Lighthalzen:Yuno:Hugel")) {
				case 1: callsub L_Warp,"Einbroch",6,"einbroch",229,196;
				case 2: callsub L_Warp,"Lighthalzen",6,"lighthalzen",214,150;
				case 3: callsub L_Warp,"Yuno",6,"yuno",157,220;
				case 4: callsub L_Warp,"Hugel",6,"hugel",95,121;
			}
		case 3:
			switch(select("Rachel:Veins")) {
				case 1: callsub L_Warp,"Rachel",5,"rachel",138,113;
				case 2: callsub L_Warp,"Veins",5,"veins",212,144;
			}
		}
	case 2:
		mes "[Portali]";
		mes "Okay...";
		close;
	case 3:
		mes "[Portali]";
		mes "3 for Rune-Midgarts!";
		mes "6 for Schwaltzvalt, 5 for Arunafeltz.";
		mes "Schwaltzvalt is the nation of prohibited magic, and Arunafeltz seems to have a curse!";
		close;
	}
	end;
L_Warp:
	if (countitem(12636) < getarg(1)) {
		mes "[Portali]";
		mes "Where are you going without canned food...?";
		close;
	}
	mes "[Portali]";
	mes "Then to "+getarg(0)+"~";
	delitem 12636,getarg(1); //Malang_Sp_Can
	close2;
	warp getarg(2),getarg(3),getarg(4);
	end;
}

// Malangdo Island :: mal_ppl
//============================================================
malangdo,137,200,6	script	Pipielle	549,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 1000) {
		mes "You have too many items, please try again after reducing your weight.";
		close;
	}
	if (BaseLevel < 60) {
		mes "[Pipielle]";
		mes "Wow, this is nice weather. Do you like this kind of weather, too? But I need to do my work now.";
		next;
		mes "[Pipielle]";
		mes "I would ask for your help, if you were a stronger advanturer...";
		next;
		mes "^770099This cat is working on something, but she asks for help above LV60.^000000";
		close;
	}
	set .@fish_ss1$, "What are you doing??";
	if (countitem(6451) > 29)
		set .@fish_ss2$, "I caught a lot of strange fishes!";
	else
		set .@fish_ss2$, "Remaining " + (30-countitem(6451)) + " of ^bbbbbbUnidentified Fish are required.^000000";
	if (ma_tomas == 100)
		set .@fish_ss3$, "I met an Admiral Tomas...";
	mes "[Pipielle]";
	mes "Would you come here and open your bag for me?";
	next;
	switch(select(.@fish_ss1$,.@fish_ss2$,.@fish_ss3$)) {
	case 1:
		mes "[Pipielle]";
		mes "There are many beautiful fishes around here. So I feel my heart beating as I stand here.";
		next;
		select("Of course, after seeing such a delicious thing!");
		mes "[Pipielle]";
		mes "How come you only know about eating?! My heart doesn't beat up because I see something delicious. Don't treat me the same as the others.";
		next;
		mes "[Pipielle]";
		mes "I used to study from a scholar from Uno who was human. And I am good at the human language as well. Don't treat me like the others.";
		next;
		mes "[Pipielle]";
		mes "I am a scholar who researches fish here. It's a little funny that a cat researches fish, but it's true.";
		next;
		select("Were you originally a scholar?");
		mes "[Pipielle]";
		mes "Originally I used to be the mate of admiral Tomas. But our ship never went back to sea after we arrived here.";
		next;
		mes "[Pipielle]";
		mes "The mate of a ship that never voyages is lonely.";
		next;
		mes "[Pipielle]";
		mes "The scholar from Uno came here for research, and he thought it was amazing that cats spoke the human language. Therefore he started to teach me.";
		next;
		select("But now everyone speaks the human language.");
		mes "[Pipielle]";
		mes "Oh yes, there were only a few cats who spoke the human language. That's why he treated me special.";
		next;
		mes "[Pipielle]";
		mes "Anyway, now I collect specimens to be an ichthyologist. I hope you can help me.";
		next;
		if(select("How can I help you?:I would say no.") == 2) {
			mes "[Pipielle]";
			mes "Oh, okay. If you change your mind, please come again.";
			close;
		}
		mes "[Pipielle]";
		mes "There is a Pouring who's eating all the fishes in the Octopus and Culvert dungeons.";
		next;
		mes "[Pipielle]";
		mes "It didn't use to live there, but might have come here for the winter. Could you collect the specimens of unidentified fish after geting rid of it?";
		next;
		mes "[Pipielle]";
		mes "You can get identified fishes from Pouring, so please collect about 30 pieces.";
		close;
	case 2:
		if (countitem(6451) > 29) {
			//saveppl Unknown_Fish
			delitem 6451,30; //Unknown_Fish
			mes "[Pipielle]";
			mes "Oh, thank you! I will take these specimens.";
			next;
			mes "[Pipielle]";
			mes "I want to give you something, but the last one is out of stock now so I will just write your name here.";
			next;
			mes "[Pipielle]";
			mes "I can give you good news even from a distance, but it's only possible if I am really lucky...";
			close;
		}
		mes "[Pipielle]";
		mes "I'm sorry, but please collect 30 pieces of unidentified fish specimens.";
		close;
	case 3:
		mes "[Pipielle]";
		mes "Oh, you met admiral Tomas... how was it?";
		next;
		if(select("He looks gentle:He looks terrible") == 2) {
			mes "[Pipielle]";
			mes "Hmm...";
			mes "Frankly speaking, I was a real fan of Admiral Tomas. Can you take responsibility for your word?";
			next;
			if(select("Just kidding!:Oh yes, he was really terrible!") == 2) {
				mes "[Pipielle]";
				mes "Is he?";
				mes "Okay, it really depends on personal taste...";
				close;
			}
		}
		mes "[Pipielle]";
		mes "Is he?";
		mes "I knew you would say so.";
		next;
		mes "[Pipielle]";
		mes "Admiral Tomas is a legendary figure who has led all of us in voyaging to this island. I think it was the happiest moment in my life.";
		next;
		mes "[Pipielle]";
		mes "Please help him a lot. There are not many people to trust. This is my personal request.";
		next;
		mes "[Pipielle]";
		mes "And this is a small gift for looking after admiral Tomas.";
		set ma_tomas,101;
		getitem 6422,200; //Egrade_Coin
		mes "^0000ffReceived 200 E Class Coins.^000000";
		close;
	}
}

// Help the Bad Cats in Danger :: mal_bad_guys
//============================================================
malangdo,175,206,3	script	Gobonge#ml	561,{
	if (checkweight(1201,1) == 0) {
		mes "- Can't go next step due to having too many items. -";
		close;
	}
	if (checkquest(1152,PLAYTIME) == 0) {
		mes "[Gobonge]";
		mes "Hmm, investigation is not enough.";
		mes "We need go back to basic point.";
		mes "Come again tomorrow.";
		mes "I might be in pain of stomach";
		mes "like usual.";
		close;
	} else if (checkquest(1152,PLAYTIME) == 1) {
		erasequest 1152;
		set malang_bad_guys,0;
	} else if (checkquest(1152,PLAYTIME) == 2) {
		completequest 1152;
		erasequest 1152;
		set malang_bad_guys,0;
	}
	if (BaseLevel < 60) {
		mes "[Gobonge]";
		mes "Are you here to get help";
		mes "or to get help?";
		mes "You look so weak, haha...";
		mes "Go and hunt more Porings!";
		close;
	}
	if (malang_bad_guys == 0) {
		mes "[Gobonge]";
		mes "Will you listen my sorrow?";
		next;
		switch(select("Sure I will.:No, I won't.")) {
		case 1:
			mes "[Gobonge]";
			mes "This is a sad story.";
			mes "As usual, I unpacked the bag";
			mes "to see strange cats";
			mes "to show them.";
			next;
			mes "[Gobonge]";
			mes "There were lots of cans.";
			mes "I thougt it was new due to different shape";
			mes "but it was bad cans!";
			mes "I ate too much and";
			mes "got in bed right away";
			mes "so I can't do anything...";
			next;
			mes "[Gobonge]";
			mes "And by the way, you have...";
			mes "nice colthes.";
			mes "I can't let you go,";
			mes "that hurts me so badly!";
			emotion e_sob;
			next;
			switch(select("You deserve the pain!:Need help?")) {
			case 1:
				mes "[Gobonge]";
				mes "Yes you are!";
				close;
			case 2:
				mes "[Gobonge]";
				mes "You know what care is.";
				mes "Please find the bad provider";
				mes "and revenge our enemy!";
				next;
				switch(select("No, I don't want to!:Yes, I'll do it!")) {
				case 1:
					mes "[" + strcharinfo(0) + "]";
					mes "For the peace in Malangdo,";
					mes "just lay in bed forever.";
					next;
					mes "[Gobonge]";
					mes "I will!";
					mes "I will have your peace first once I get well!";
					close;
				case 2:
					mes "[Gobonge]";
					mes "Okay, you can do it?";
					mes "The enemy must be near the dock";
					mes "where we got the bundle.";
					mes "We should get them to help";
					mes "our cats' well-being!";
					setquest 1145;
					set malang_bad_guys,1;
					close;
				}
			}
		case 2:
			mes "[Gobonge]";
			mes "Why are you here!";
			mes "If I am usual, I will engrave something";
			mes "with your tear...";
			mes "Let your bag be here instead!";
			emotion e_sob;
			close;
		}
	} else if (malang_bad_guys == 1) {
		mes "[Gobonge]";
		mes "The enemy must be near the dock";
		mes "where we got the bundle.";
		mes "We should get them to help";
		mes "our cats' well-being!";
		close;
	} else if (malang_bad_guys > 1 && malang_bad_guys < 7) {
		mes "[Gobonge]";
		mes "I am so tired due to";
		mes "lack of forbidden bad activity.";
		close;
	} else if (malang_bad_guys == 7) {
		if (countitem(6426) > 29) {
			mes "[Gobonge]";
			mes "Was it from raccoon that made us pain in stomach?";
			mes "Oh bad raccoon!";
			mes "I feel stomachache again from this anger!";
			mes "All right, I will show my power once";
			mes "I can get out of bed.";
			next;
			mes "[Gobonge]";
			mes "I need time to concentrate on my stomachache.";
			mes "You can go now!";
			erasequest 1151;
			set malang_bad_guys,8;
			getitem 12636,20; //Malang_Sp_Can
			delitem 6427,1; //Bad_Can_Sack
			delitem 6426,30; //Bad_Can
			close;
		}
		mes "[Gobonge]";
		mes "How do you know the source of bad can?";
		mes "Do you have time to do slow at the moment?";
		emotion e_sob;
		close;
	} else if (malang_bad_guys == 8) {
		mes "[Gobonge]";
		mes "The Patrol Leader wants to go back to";
		mes "bad world as soon as possible.";
		mes "I want you to go first to soothe him instead.";
		mes "How about it?";
		next;
		switch(select("It's troublsome, I quit.:Sure I will!")) {
		case 1:
			mes "[Gobonge]";
			mes "Haha, you think it is a bad word.";
			mes "I want you to be one of our staffs.";
			next;
			mes "[Gobonge]";
			mes "Sorry, but you should go now";
			mes "so that I can concentrate on my stomachache.";
			setquest 1152;
			set malang_bad_guys,9;
			close;
		case 2:
			mes "[Gobonge]";
			mes "All right, then I will have time";
			mes "to concentrate on my stomachache.";
			setquest 1153;
			set malang_bad_guys,10;
			close;
		}
	} else if (malang_bad_guys == 9) {
		mes "[Gobonge]";
		mes "Hmm, investigation is not enough.";
		mes "We need go back to basic point.";
		mes "Come again tomorrow.";
		mes "I might be in pain of stomach";
		mes "like usual.";
		close;
	} else if (malang_bad_guys > 9 && malang_bad_guys < 12) {
		mes "[Gobonge]";
		mes "Go and have fun with the Patrol Leader!";
		close;
	} else if (malang_bad_guys == 12) {
		mes "[Gobonge]";
		mes "Instead of us, you did bad behavior.";
		mes "Good to hear that?";
		mes "This is what teacher see best pupil?";
		emotion e_swt;
		next;
		mes "[Gobonge]";
		mes "You deserve a reward!";
		mes "I need to get some more rest,";
		mes "so let's investigate tomorrow!";
		erasequest 1155;
		setquest 1152;
		set malang_bad_guys,13;
		getitem 6422,5; //Egrade_Coin
		close;
	} else if (malang_bad_guys == 13) {
		mes "[Gobonge]";
		mes "Come again tomorrow.";
		mes "I might be in pain of stomach";
		mes "like usual.";
		close;
	}
OnEnable:
	enablenpc "Gobonge#ml";
	close;
OnDisable:
	disablenpc "Gobonge#ml";
	close;
}

malangdo,181,205,3	script	Gobulee#ml1	547,{
	mes "[Gobulee]";
	mes "Why do you come now?";
	mes "You should have come when we were healthy.";
	mes "So, you want to me take out what you have?";
	close;
}

malangdo,180,202,3	script	Gobyungee#ml1	547,{
	mes "[Gobyungee]";
	mes "I can't see other cats because";
	mes "I could't have time to do bad behavior...";
	close;
}

malangdo,186,201,3	script	Gosigee#ml1	547,{
	mes "[Gosigee]";
	mes "I am desperate for pill of stomachache,";
	mes "cap is only thinking of finding out criminal";
	mes "and to revenge!";
	mes "...";
	next;
	mes "[Gosigee]";
	mes "How can we follow him as a cap...!";
	close;
}

malangdo,177,202,3	script	Gonanee#ml2	547,{
	mes "[Gonanee]";
	mes "We are only bad circle in Malangdo";
	mes "and we are very proud.";
	mes "Can't just lie in bed.";
	close;
}

malangdo,183,202,3	script	Godoree#ml3	547,{
	mes "[Godoree]";
	mes "I saw unfamiliar cats around";
	mes "the dock frequently.";
	mes "Are they tourists?";
	mes "We should check their pockets";
	mes "once I get well...";
	close;
}

malangdo,203,116,5	script	Suspious Dealer#ml	543,{
	mes "On listening to the story for";
	mes "a while, he pretends to be indifferent once hearing someone's noise.";
	next;
	mes "[Suspious Dealer]";
	mes "Oh my body, too much pain...";
	close;
}

malangdo,205,116,3	script	Very Suspious Dealer#ml1	543,{
	mes "On listening to the story for";
	mes "a while, he pretends to be indifferent once hearing someone's noise.";
	next;
	mes "[Very Suspious Dealer]";
	mes "The weather is so dirty...";
	close;
}

malangdo,197,120,5	script	Foolish Cat#ml	546,{
	mes "[Foolish Cat]";
	mes "If you stay here, you";
	mes "can hear all they're saying.";
	mes "Don't know exactly what, but";
	mes "you do hear everything.";
	mes "Hehehe...";
	close;
}

malangdo,196,120,0	script	#ml1	-1,2,2,{
OnTouch:
	if (malang_bad_guys == 1 || malang_bad_guys == 2) {
		mes "You hear a conversation between the Suspious Dealers.";
		next;
		mes "[Suspious Dealer]";
		mes "Because unexpected robbery at that moment...";
		mes "our great work has delayed.";
		next;
		mes "[Very Suspious Dealer]";
		mes "Do not worry about the thing, I placed it near balloon bag where";
		mes "Ship Navi is in the north, and I hid it perfectly.";
		next;
		mes "You need to check a place near north of balloon bag in ship Navi.";
		if (malang_bad_guys == 1) {
			erasequest 1145;
			setquest 1146;
			set malang_bad_guys,2;
		}
		close;
	} else if (malang_bad_guys > 2 && malang_bad_guys < 8) {
		mes "You still hear a suspicious conversation.";
		next;
		mes "[Suspious Dealer]";
		mes "But near the balloon bag is still";
		mes "worrying so much!";
		next;
		mes "[Very Suspious Dealer]";
		mes "Oh how cowardly you are!";
		mes "I hid it in ship Navi perfectly.";
		mes "Relax!";
		next;
		mes "[Suspious Dealer]";
		mes "The rest of part is in staffs.";
		mes "We should believe.";
		next;
		mes "We need to investigate Navi first.";
		mes "Let's see other guys in ship Navi.";
		if (malang_bad_guys == 3) {
			erasequest 1147;
			setquest 1148;
			set malang_bad_guys,4;
		}
		close;
	} else if (malang_bad_guys > 7) {
		mes "You still hear a suspicious conversation.";
		next;
		mes "[Suspious Dealer]";
		mes "Star candy is still healthy,";
		mes "what happens?";
		next;
		mes "[Very Suspious Dealer]";
		mes "No way...";
		mes "We should get more bad cans.";
		close;
	}
	end;
}

malangdo,155,179,0	script	#ml2	-1,2,2,{
OnTouch:
	if (malang_bad_guys == 2 || malang_bad_guys == 3) {
		mes "There's a memo.";
		next;
		mes "[Memo]";
		mes "Here is not what we wanted, huh!";
		next;
		mes "...do listen the conversation of merchant.";
		if (malang_bad_guys == 2) {
			erasequest 1146;
			setquest 1147;
			set malang_bad_guys,3;
		}
		close;
	}
	end;
}

malangdo,171,163,3	script	Awfully Suspious Dealer	543,{
	if (malang_bad_guys < 4) {
		mes "[Awfully Suspious Dealer]";
		mes "We quit our sales,";
		mes "find the other merchant!";
		close;
	} else if (malang_bad_guys == 4) {
		mes "[Awfully Suspious Dealer]";
		mes "Bad cans?";
		mes "Due to lots of work in here";
		mes "can't have a short time to talk?";
		next;
		switch(select("Look suspicious?:I knew all things here!")) {
		case 1:
			mes "[Awfully Suspious Dealer]";
			mes "I have a same boat with you!";
			close;
		case 2:
			mes "[Awfully Suspious Dealer]";
			mes "...";
			mes "You searched the lounge of ship Navi?";
			mes "...";
			next;
			mes "[Awfully Suspious Dealer]";
			mes "It looks wrong place~";
			mes "Go and do other things~!";
			next;
			mes "You need to search lounge of ship Navi?";
			erasequest 1148;
			setquest 1149;
			set malang_bad_guys,5;
			close;
		}
	} else if (malang_bad_guys == 5) {
		mes "[Awfully Suspious Dealer]";
		mes "A thought to search Gozangee around ship Navi";
		mes "is like to ride a skill";
		mes "with frying pan, it is idiot things.";
		mes "I do not recommend.";
		close;
	} else if (malang_bad_guys == 6) {
		if (countitem(6427) == 0) {
			mes "[Awfully Suspious Dealer]";
			mes "You searched the lounge of ship Navi?";
			mes "But still nothing in hand.";
			mes "I told you there's nothing.";
			mes "...";
			next;
			mes "[Awfully Suspious Dealer]";
			mes "...there must be something...";
			close;
		}
		mes "[Awfully Suspious Dealer]";
		mes "Oh! That's ^0000FFa sack of bad cans^000000, isn't it?";
		mes "Where did you get it? Amazing!";
		next;
		switch(select("Do not pretend not to know!:Need to show them our general!")) {
		case 1:
			mes "[Awfully Suspious Dealer]";
			mes "It just looks wonderful.";
			mes "There's nothing more to have?";
			emotion e_ho;
			close;
		case 2:
			mes "[Awfully Suspious Dealer]";
			mes "Relax!";
			mes "Let's have smile and fun with only ours.";
			next;
			mes "[Awfully Suspious Dealer]";
			mes "To be honest, I am a member of raccoon hurray team.";
			mes "A homeless community of raccoons";
			mes "became a black market group.";
			mes "I will make headquater of raccoon hurray team here";
			mes "after kick out group of cats.";
			next;
			switch(select("Are you the leader?:Let me clear the usage of bad can.:Can it be worked as you want?")) {
			case 1:
				mes "[Awfully Suspious Dealer]";
				mes "This is thankful misunderstanding,";
				mes "I am just little staff.";
				mes "I don't know who the leader is.";
				close;
			case 2:
				mes "[Awfully Suspious Dealer]";
				mes "That is...";
				mes "for food...";
				mes "Don't ask me more, please!";
				close;
			case 3:
				mes "[Awfully Suspious Dealer]";
				mes "You look down out raccoon hurray team?";
				mes "Look more! To my star candy who stands island";
				mes "I will make them have stomachache";
				mes "with lots of bad cans.";
				mes "Aren't you expecting?";
				next;
				mes "[Awfully Suspious Dealer]";
				mes "I can't make him eat with my hand,";
				mes "to creature in shining coral area that is basic food of star candy";
				mes "I am still feeding them with bad cans.";
				mes "You must see amazing reaction, just wait!";
				next;
				mes "The situation is serious.";
				mes "Once the cats figure out,";
				mes "you might be confused.";
				mes "Let's withdraw the bad cans first,";
				mes "located in the shining coral area.";
				erasequest 1150;
				setquest 1151;
				set malang_bad_guys,7;
				close;
			}
		}
	} else if (malang_bad_guys == 7) {
		mes "[Awfully Suspious Dealer]";
		mes "Plese forget what I have told you.";
		mes "Please...";
		mes "After you got 30 pcs of bad cans";
		mes "in shining coral area";
		mes "do not tell the cats";
		mes "or report this fact!";
		close;
	}
	mes "[Awfully Suspious Dealer]";
	mes "So you reported all things?";
	mes "...";
	mes "Now it's time to live a new life";
	mes "of group for hair tufts...";
	close;
}

mal_in02,184,72,3	script	Gozangee#ml	547,{
	mes "[Gozangee]";
	mes "I have too much pain in my stomach...";
	mes "Should endure myself!";
	mes "...do bad activity...";
	close;
}

mal_in02,184,77,0	script	#ml3	-1,2,2,{
OnTouch:
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items. -";
		close;
	}
	if (malang_bad_guys == 4) {
		mes "I came to...";
		mes "know a thing that shouldn't be";
		mes "appeared to anyone.";
		mes "Just pretend that I didn't see this.";
		close;
	} else if (malang_bad_guys == 5) {
		mes "This is...!";
		mes "...";
		next;
		mes "A sack that carrying bad cans.";
		next;
		mes "Let's bring this to a guy who";
		mes "is in Awfully Suspious Dealer in deck.";
		erasequest 1149;
		setquest 1150;
		set malang_bad_guys,6;
		getitem 6427,1; //Bad_Can_Sack
		close;
	} else if (malang_bad_guys == 6) {
		mes "I saw a sack of bad cans.";
		mes "located on the deck.";
		mes "Let's bring this to a guy who";
		mes "is in Awfully Suspious Dealer in deck.";
		close;
	}
	end;
}

malangdo,125,147,3	script	Patrol Leader#ml	545,{
	if (checkweight(1201,1) == 0) {
		mes "- Can't go next step due to having too many items. -";
		close;
	}
	if (malang_bad_guys < 10) {
		mes "[Patrol Leader]";
		mes "Be careful of distribution for";
		mes "bad cans recently in here";
		mes "so should be noticed.";
		close;
	} else if (malang_bad_guys == 10) {
		mes "[Patrol Leader]";
		mes "So you are going to do bad activity instead of";
		mes "group of hair tufts lying in bed?";
		mes "It's gonna be exciting!";
		mes "So excited...";
		next;
		mes "[Patrol Leader]";
		mes "Gobonge and his friends";
		mes "liked to torment ^0000FFRed Eruma^000000 in shining";
		mes "coral area more than anything.";
		next;
		mes "[Patrol Leader]";
		mes "Report to me after tormenting 20 ^0000FFRed Eruma^000000";
		mes "for a while.";
		mes "I will scold you as Patrol Leader!";
		next;
		switch(select("What Patrol Leader do like this?:Cheer up!!")) {
		case 1:
			mes "[Patrol Leader]";
			mes "This is what my flavor to do this!";
			close;
		case 2:
			mes "[Patrol Leader]";
			mes "I will expect various bad activities.";
			erasequest 1153;
			setquest 1154;
			set malang_bad_guys,11;
			close;
		}
	} else if (malang_bad_guys == 11) {
		if (checkquest(1154,HUNTING) == 2) {
			mes "[Patrol Leader]";
			mes "Wow, you did to ^0000FFRed Eruma^000000 so badly!";
			mes "I am impressed at your work.";
			next;
			mes "[Crime Prevention Staff]";
			mes "Captain, we have work again, right?";
			emotion e_sob;
			emotion e_sob,0,"Crime Prevention Staff#ml";
			next;
			mes "[Patrol Leader]";
			mes "Hide your tears and save your tears!";
			mes "You should cry when having a clue for bad activity";
			mes "at crime spot!";
			emotion e_sob;
			emotion e_sob,0,"Crime Prevention Staff#ml";
			next;
			mes "[Patrol Leader]";
			mes "I will scold you once the investigation is over!";
			mes "Visit Gobonge now.";
			erasequest 1154;
			setquest 1155;
			set malang_bad_guys,12;
			close;
		}
		mes "[Patrol Leader]";
		mes "Inside of starry coral area,";
		mes "report to me after tormenting 20 ^0000FFRed Eruma^000000";
		mes "for a while.";
		mes "I will scold you as Patrol Leader!";
		close;
	}
	mes "[Patrol Leader]";
	mes "I will scold you once the investigation";
	mes "is over!";
	mes "visit Gobonge now.";
	close;
}

malangdo,129,146,3	script	Crime Prevention Staff	545,{
	if (malang_bad_guys > 11) {
		mes "[Crime Prevention Staff]";
		mes "A work to do means happy things!";
		mes "I ask you to do various bad activities!";
		close;
	}
	mes "[Crime Prevention Staff]";
	mes "A group of cats that";
	mes "ate bad cans got";
	mes "pain in stomache.";
	mes "They are lying at the north";
	mes "of place but still rolling with anger.";
	next;
	mes "[Crime Prevention Staff]";
	mes "Haha... the village is becoming";
	mes "peaceful and calm, but feels";
	mes "somewhat empty. This is not";
	mes "usual scene that we can have.";
	mes "Let's see there?";
	close;
}

/*
malangdo,3,1,3	script	Guidance for quest#ml	543,{
	input .@input,1,9999;
	if (.@input != 1854) {
		mes "[Helper]";
		mes "What is this security code?";
		mes "Go away!";
		close;
	}
	mes "[Helper]";
	mes "Choose now, hurry!";
	next;
	switch(select("NPC appear!:NPC walkout!:Reset setitem:30 pcs of bad cans:Just before collecting cans:Start quest for Patrol Leader")) {
	case 1:
		donpcevent "Gobonge#ml::OnEnable";
		mes "[Helper]";
		mes "First appearance!";
		close;
	case 2:
		donpcevent "Gobonge#ml::OnDisable";
		mes "[Helper]";
		mes "Walk out!";
		close;
	case 3:
		mes "[Helper]";
		mes "Yap!";
		set malang_bad_guys,0;
		erasequest 1152;
		close;
	case 4:
		mes "[Helper]";
		mes "Owing?";
		getitem 6426,30; //Bad_Can
		close;
	case 5:
		mes "[Helper]";
		mes "Yap!";
		erasequest 1150;
		setquest 1151;
		set malang_bad_guys,7;
		close;
	case 6:
		mes "[Helper]";
		mes "Yap!";
		set malang_bad_guys,10;
		close;
	}
}
*/

// Clean the Ship :: mal_day_qook
//============================================================
mal_in02,76,63,7	script	Cleanyang	544,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (BaseLevel < 60) {
		mes "Sailor cat is crying sadly.";
		next;
		mes "[Cleanyang]";
		mes "Meow neow meoow";
		mes "What... Meow .. Something... going... Heuheung~";
		mes "You don't have to know. Meow heuheuheuk... ";
		next;
		mes "He does not continue to talk.";
		mes "He might say like that with shaking his head.";
		mes "'You are still young. That is why you don't understand my anguish and sadness...'";
		next;
		mes "It is much better to do not know.";
		close;
	}
	if (mal_qook == 0) {
		mes "Sailor cat is crying sadly.";
		emotion e_sob;
		next;
		mes "[Cleanyang]";
		mes "Meow meow meoooow~";
		mes "What is going on... Heu... heuk...";
		mes "You don't have to know. Heu... heuk...";
		emotion e_sob;
		next;
		mes "Could not continue talk.";
		next;
		switch(select("Cheer him up.:Ignore.")) {
		case 1:
			mes "I comforted his wounded heart just standing by him.";
			next;
			emotion e_sob;
			mes "[Cleanyang]";
			mes "This is unjust... Heuheuk...";
			mes "The chef... He always gives me scolding.";
			next;
			mes "[Cleanyang]";
			mes "I always clean up diligently.";
			mes "I have no idea where they are from... Heuheuk...";
			mes "They penetrated into the ingredients...";
			next;
			select("They?");
			mes "[Cleanyang]";
			mes "Yes, they are fast, small, hard and shiny black.";
			mes "Meow... Also, white and wriggled...";
			mes "My chef is so clean.";
			next;
			mes "[Cleanyang]";
			mes "It's ok. Clean, vermin and";
			mes "whatever... the unfair thing is";
			mes "that I really killed vermin as well, meow.";
			mes "In addition, I clean up diligently.";
			next;
			mes "[Cleanyang]";
			mes "By the way, they are coming over and over again.";
			mes "I don't know where they are from.";
			next;
			switch(select("Don't ask anymore.:Asking for the place of vermin came.")) {
			case 1:
				emotion e_sob;
				mes "[Cleanyang]";
				mes "...what's wrong with your face?";
				mes "Are you afraid of sending on an errand?";
				mes "What are you thinking about me... meow, meow...?";
				mes "It's not fair... meow, meow...";
				next;
				mes "Poor sailor cat Cleanyang begins to cry.";
				mes "Leave him alone.";
				close;
			case 2:
				mes "[Cleanyang]";
				mes "Does someone will go there and check it?";
				mes "Please, search everywhere of the ship Navi?";
				mes "I can't live like this! Meow, meow!";
				next;
				mes "[Cleanyang]";
				mes "There is definitely something I do not know. Meow.";
				mes "Meow... I'll clean this place up. Please find something instead of me.";
				set mal_qook,1;
				setquest 7260;
				close;
			}
		case 2:
			mes "You leave the crying cat and move back.";
			close;
		}
	} else if (mal_qook == 1) {
		if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
			emotion e_omg;
			mes "[Cleanyang]";
			mes "Uh. What is that? Meow.";
			mes "This is cat's ship biscuit... It might be left for a long time...";
			mes "No way...!";
			next;
			select("Yeah, this is it.");
			emotion e_hmm;
			mes "[Cleanyang]";
			mes "There were infested with insects because sailors hided and left the cat's ship biscuit..";
			mes "I got a scolding cause of just teeth grinder?";
			mes "Meow!";
			next;
			select("Teeth Grinder?");
			mes "[Cleanyang]";
			mes "That is right, meow.";
			mes "This is stiff-baked bread for preserve easily during sailing, meow.";
			mes "It is too hard, so if you just bite this, probably your canine will be broken, meow.";
			next;
			mes "[Cleanyang]";
			mes "It is baked with just salt and flour for preserve long time that is why it does not have any taste.";
			mes "More than all..... look at this.";
			next;
			mes "Cleanyang breaks cat's ship biscuit with hammer and chisel";
			mes "and hit on the floor. Then...";
			next;
			mes "[Cleanyang]";
			mes "........can you see something coming out from here?";
			mes "This is Weevil Bug..........";
			mes "It is such a castle of insects.";
			next;
			mes "[Cleanyang]";
			mes "Maybe someone really does not want to eat this.";
			mes "These insects are left before we are settled on island and change the menu.";
			next;
			mes "[Cleanyang]";
			mes "After settled on this island, we did not make cat's ship biscuit due to fresh ingredients.";
			mes "........";
			next;
			mes "[Cleanyang]";
			mes "Please show this to chef and tell him that Cleanyang really cleaned up very well.";
			mes "Well... I'm still afraid of chef...";
			mes "...please! Meow!";
			set mal_qook,2;
			erasequest 7261;
			erasequest 7262;
			erasequest 7263;
			erasequest 7260;
			setquest 7264;
			next;
			mes "[Cleanyang]";
			mes "Ah, that cat's ship biscuit is still fine, so just try to eat.";
			mes "Do you wonder what is that? It was a great food even though it's not look good...";
			close;
		}
		mes "[Cleanyang]";
		mes "Please search the ship Navi and find the place of origin.";
		mes "I just believe you.";
		close;
	} else if (mal_qook == 2) {
		mes "[Cleanyang]";
		mes "If you show cat's ship biscuit to chef and those insects were from there,";
		mes "my misunderstanding will be resolved.";
		next;
		select("Why don't you go by yourself?");
		mes "[Cleanyang]";
		mes "Um... I still have to clean up...";
		mes "I'm still scared of my chef, so please.";
		close;
	} else if (mal_qook == 3) {
		mes "[Cleanyang]";
		mes "Chef gets angry.";
		mes "Just beg for mercy!";
		close;
	} else if (mal_qook == 4) {
		mes "[Cleanyang]";
		mes "Did you say that chef was more upset about cat's ship biscuit?";
		mes "From now, I don't have to crying?";
		next;
		mes "[Cleanyang]";
		mes "If chef needs something, Just bring it for him~";
		mes "Is that good for each other?";
		next;
		mes "[Cleanyang]";
		mes "When chef is satisfied and pleased, just come at that time.";
		mes "I may not able to clean up until that time because I'm nervous. Meow....";
		close;
	} else if (mal_qook == 5) {
		mes "[Cleanyang]";
		mes "Did you finish work what chef wanted?";
		mes "By the way, why do you make cat's ship biscuit suddenly?";
		next;
		select("New menu for you.");
		mes "[Cleanyang]";
		mes "Meoooow----!!";
		mes "Keemeoooow!!";
		mes "Nyahuhuh... Kmeoooow!";
		next;
		mes "[Cleanyang]";
		mes "Nooo!!!!!!!!!!!";
		mes "Without cat's ship biscuit was a heaven. I don't want to go hell again!!!!";
		mes "Kmeoooow... Kmeoooow... Kmeoooow~";
		next;
		switch(select("Tickling under the chin.:Hit the end of nose.:Tap on butt.")) {
		case 1:
			mes "[Cleanyang]";
			mes "Meoow... Koleung koleung...";
			mes "Kyarreung...";
			mes "Huahhuah... Golgolgol...";
			next;
			break;
		case 2:
			mes "[Cleanyang]";
			mes "Eung Kya-!";
			mes "Uh nyanyanyanaynyan!";
			mes "What the heck are you doing!";
			next;
			break;
		case 3:
			mes "[Cleanyang]";
			mes "Heu keeyangyang";
			mes "Heunyang... Euhnyang-!";
			mes "What are you doing!";
			next;
			break;
		}
		mes "[Cleanyang]";
		mes "Please stop...";
		mes "Now, be calm.";
		mes "I understand that chef's saying and huge plan.";
		next;
		mes "[Cleanyang]";
		mes "Hey, human who helped me, you, you!";
		mes "Could you do me favor.";
		mes "If the menu will be changed and provide cat's ship biscuit, definitely they appear...";
		next;
		select("What?");
		mes "[Cleanyang]";
		mes "Cat the Cat!";
		mes "Cats who hide cat's ship biscuit secretly.";
		mes "No one says that do not want to eat and throw away because they are scare chef.";
		next;
		mes "[Cleanyang]";
		mes "Absolutely, they begin to hide cat's ship biscuit...";
		mes "And it will be infested by insects!";
		mes "Chef will give a scolding again!";
		next;
		mes "[Cleanyang]";
		mes "So let me see you everyday from provided cat's ship biscuit tomorrow.";
		mes "You did good job. This is a token of thanks.";
		set mal_qook,6;
		getitem 12636,30; //Malang_Sp_Can
		getexp 80000,80000;
		setquest 7267;
		close;
	}
	switch(rand(3)) {
	case 0:
		mes "[Cleanyang]";
		mes "Ohohohong...";
		mes "Euhohohohong...";
		mes "It's horrible... I got cat's ship biscuit but I don't know when It was made.";
		mes "It's really hard. I almost lost my teeth.";
		break;
	case 1:
		mes "[Cleanyang]";
		mes "Chef might forget everything that he gave me a scolding cause of insects.";
		mes "He got a shock by cat's ship biscuit. Is this bigger case than the clean up?";
		break;
	case 2:
		mes "[Cleanyang]";
		mes "I'm a cleaning cat Cleanyang~";
		mes "Meow~";
		mes "Make a scratch others' door of house Meow~";
		mes "Meow~ Uh? Did you hear it?";
		mes "This is my cleaning song.";
		break;
	}
	next;
	mes "[Cleanyang]";
	mes "By the way, what is going on?";
	next;
	switch(select("It's time to promise~:I'm here to see the result~:Shake your butt~")) {
	case 1:
		if (checkquest(7267,PLAYTIME) == 0) {
			mes "[Cleanyang]";
			mes "Uh? Not yet.";
			mes "Today's cat's ship biscuit is not provided yet, so I will know that after wait little bit more.";
			mes "It might be after chef's distribution of cat's ship biscuit.";
			close;
		}
		if (checkquest(7268) != -1) {
			mes "[Cleanyang]";
			mes "My service to you today.";
			mes "Recently, there are 9 spot that hided cat's ship biscuit as well.";
			next;
			mes "[Cleanyang]";
			mes "Someone think that good angel took them all as I collected and threw away";
			mes "He still hide them that place.";
			next;
			mes "[Cleanyang]";
			mes "It is so easy because I don't have to search everywhere, but";
			mes "Please search the 9 spot where hiding frequently.";
			close;
		}
		if (checkquest(7267,PLAYTIME) == 2)
			completequest 7267;
		erasequest 7267;
		mes "[Cleanyang]";
		mes "Is there guy who hide cat's ship biscuit today?";
		mes "Probably there he is?";
		next;
		switch(select("Try to search today.:Maybe not today.")) {
		case 1:
			mes "[Cleanyang]";
			mes "My service to you today.";
			mes "The inside of ship Navi, home and cat tower too. Don't even miss a blade of grass";
			mes "Search everywhere.";
			setquest 7268;
			close;
		case 2:
			mes "[Cleanyang]";
			mes "Do you think so?";
			mes "If so, It's good thing.";
			mes "Anyway, It is not infested of insects due to we find them and remove right away.";
			mes "That's enough.";
			close;
		}
	case 2:
		if (checkquest(7268) == -1) {
			mes "[Cleanyang]";
			mes "Um? Nobody request for collecting cat's ship biscuit today.";
			mes "By the way, what is the result report?";
			mes "Are you sick?";
			close;
		}
		if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1 && checkquest(7269) != -1 && checkquest(7270) != -1 &&
		    checkquest(7271) != -1 && checkquest(7272) != -1 && checkquest(7273) != -1 && checkquest(7274) != -1 && checkquest(7275) != -1) {
			mes "[Cleanyang]";
			mes "Um, the rising cat's ship biscuit spot!";
			mes "Did you collect all fully?";
			mes "I guess this is pretty enough.";
			next;
			mes "[Cleanyang]";
			mes "Just take all finding cat's ship biscuit.";
			mes "Taste is not bad and have a resilient too...";
			next;
			mes "[Cleanyang]";
			mes "Ok today's work is enough. Please come tomorrow!";
			mes "There will be tomorrow's cat's ship biscuit!";
			mes "Nya hahahong~";
			setquest 7267;
			erasequest 7268;
			erasequest 7261;
			erasequest 7262;
			erasequest 7263;
			erasequest 7269;
			erasequest 7270;
			erasequest 7271;
			erasequest 7272;
			erasequest 7273;
			erasequest 7274;
			erasequest 7275;
			getexp 30000,40000;
			getitem 12636,10; //Malang_Sp_Can
			close;
		}
		mes "[Cleanyang]";
		mes "Did you find all of them?";
		next;
		mes "[Cleanyang]";
		mes "Someone think that good angel took them all as I collected and threw away.";
		mes "He still hide them that place.";
		next;
		mes "[Cleanyang]";
		mes "It is so easy because I don't have to search everywhere, but";
		mes "please search the 9 spot where hiding frequently.";
		close;
	case 3:
		mes "[Cleanyang]";
		mes "Meooow-!";
		mes "What are you doing? Meow!";
		mes "Goreureureung...";
		next;
		mes "[Cleanyang]";
		mes "Hmhm.";
		mes "Hey, don't do that.";
		mes "...isn't it a crime? Meow.";
		close;
	}
}

mal_in02,29,67,0	script	#CaptainRoom3	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (mal_qook == 1) {
		if (checkquest(7261) == -1) {
			mes "Lots of junk are piled up in a corner of captain's room.";
			mes "Cleanyang might not clean in a corner because it is not within his hand.";
			next;
			mes "[Admiral Thomas]";
			mes "Uh? What are you doing over there?";
			mes "Do not touch that!";
			cutin "ma_tomas03",2;
			next;
			switch(select("Sorry.:I'll clean up!")) {
			case 1:
				mes "[Admiral Thomas]";
				mes "We have a common interest to talk.";
				mes "There is no reason to search there like you.";
				mes "Please leave me alone.";
				cutin "ma_tomas01",2;
				cutin "ma_tomas03",255;
				break;
			case 2:
				cutin "ma_tomas03",255;
				mes "Ignoring Thomas and search under the junk.";
				mes "And at that time...";
				next;
				emotion e_omg;
				mes "The place where the black shadow just passed, I don't how long been it is left.";
				mes "Find a cat's ship biscuit.";
				switch(rand(3)) {
					case 0: monster "mal_in02",30,67,"Quick Dark Shadow",2209,1;
					case 1: monster "mal_in02",30,65,"Quick Dark Shadow",2209,1;
					case 2: monster "mal_in02",29,65,"Quick Dark Shadow",2209,1;
				}
				setquest 7261;
				getitem 11536,1; //Cat_Hard_Biscuit
				next;
				if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
					mes "I guess I searched pretty enough.";
					mes "Let's tell Cleanyang that is infested of insects due to cat's ship biscuit is left long time.";
					close;
				}
				mes "It was one of reason that the insects are appeared.";
				close;
			}
		}
		mes "It used to be habitat of insects because someone left cat's ship biscuit.";
		mes "I think it's ok now due to we removed all of them.";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7261) == -1) {
			mes "Lots of junk are piled up in a corner of captain's room.";
			mes "Cleanyng might not clean in a corner because it is not within his hand.";
			mes "He reached out and search under the junk.";
			next;
			mes "And at that time...";
			mes "The place where the dark shadow just passed, find a cat's ship biscuit that is hided recently.";
			emotion e_omg;
			switch(rand(3)) {
				case 0: monster "mal_in02",30,67,"Quick Dark Shadow",2209,1;
				case 1: monster "mal_in02",30,65,"Quick Dark Shadow",2209,1;
				case 2: monster "mal_in02",29,65,"Quick Dark Shadow",2209,1;
			}
			setquest 7261;
			getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "It used to be habitat of insects because someone left cat's ship biscuit.";
		mes "I think it's ok now due to we removed all of them.";
		close;
	}
	mes "I don't have any business here.";
	close;
}

mal_in02,183,49,0	script	#MeetingFloor4	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (mal_qook == 1 || checkquest(7268) != -1) {
		if (checkquest(7263) == -1) {
			mes "This is ventilation window on the floor. It is really close to Cooking table";
			mes "I'm trying to ignore that but it is on my mind. What should I do?";
			next;
			switch(select("Just look roughly.:Take a look at this.")) {
			case 1:
				mes "I looked at the ventilation window well, but did not find any problem.";
				close;
			case 2:
				mes "It looks good from the top... I took it off because it's on my mind.";
				mes "I can see something the bottom of way of ventilation.";
				mes "And at that time...";
				next;
				mes "The place where the dark shadow just passed, I don't how long been it is left.";
				mes "Find a cat's ship biscuit.";
				emotion e_omg;
				switch(rand(2)) {
					case 0: monster "mal_in02",182,50,"Quick Dark Shadow",2209,1;
					case 1: monster "mal_in02",184,50,"Quick Dark Shadow",2209,1;
				}
				setquest 7263;
				getitem 11536,1; //Cat_Hard_Biscuit
				if (mal_qook == 1) {
					next;
					if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
						mes "I guess I searched pretty enough.";
						mes "Let's tell Cleanyang that is infested of insects due to cat's ship biscuit is left long time.";
					} else
						mes "It was one of reason that the insects are appeared.";
				}
				close;
			}
		}
		mes "It used to be habitat of insects because someone left cat's ship biscuit.";
		mes "I think it's ok now due to we removed all of them.";
		close;
	}
	mes "I don't have any business here.";
	close;
}

mal_in02,103,22,0	script	#MalBed5	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (mal_qook == 1 || checkquest(7268) != -1) {
		if (checkquest(7262) == -1) {
			mes "This is bed for sailors. There is too much hair and so messy.";
			mes "At the corner of under the bed is does not reached hand so I'm thinking too much about that.";
			next;
			switch(select("Raise the matress slightly.:Search under the bed.")) {
			case 1:
				mes "I slightly push and raise the part that touched edge of wall.";
				mes "And at that time...";
				next;
				mes "The place where the dark shadow just passed, I don't how long been it is left.";
				mes "Find a cat's ship biscuit.";
				emotion e_omg;
				monster "mal_in02",102,23,"Quick Dark Shadow",2209,1;
				setquest 7262;
				getitem 11536,1; //Cat_Hard_Biscuit
				if (mal_qook == 1) {
					next;
					if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
						mes "I guess I searched pretty enough.";
						mes "Let's tell Cleanyang that is infested of insects due to cat's ship biscuit is left long time.";
					} else
						mes "It was one of reason that the insects are appeared.";
				}
				close;
			case 2:
				mes "I searched under the bed, but I didn't find any problem.";
				mes "Maybe Cleanyang cleaned up. It's pretty good condition.";
				close;
			}
		}
		mes "It used to be habitat of insects because someone left cat's ship biscuit.";
		mes "I think it's ok now due to we removed all of them.";
		close;
	}
	mes "The bed for sailors.";
	mes "Lots of cat's hair are attached.";
	close;
}

malangdo,141,178,0	script	#Darkweed6	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7269) == -1) {
			mes "Many weeds are growing in rest area near cat tower.";
			mes "It's easily ignored, so it's on my mind.";
			next;
			switch(select("Search through the weeds.:Search under the chair.")) {
			case 1:
				mes "I decide to search the forest that out of people's eye.";
				mes "And at that time...";
				next;
				mes "From the place where Dark shadow just passed and someone hided recently.";
				mes "Find a cat's ship biscuit.";
				emotion e_omg;
				monster "malangdo",141,178,"Quick Dark Shadow",2209,1;
				setquest 7269;
				getitem 11536,1; //Cat_Hard_Biscuit
				close;
			case 2:
				mes "I searched under the chair in rest area, but I didn't find any problem.";
				mes "It's pretty good condition even though it's outside.";
				close;
			}
		}
		mes "Many weeds are growing in rest area near cat tower.";
		mes "We already collected hiding cat's ship biscuit here.";
		close;
	}
	mes "Many weeds are growing under the cat tower.";
	mes "It seems to be hard to clean.";
	close;
}

malangdo,133,134,0	script	Strange Pile of Sand#7	557,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		set .@quest, (strnpcinfo(0) == "Strange Pile of Sand#7")?7270:7275;
		if (checkquest(.@quest) == -1) {
			mes "The pile of sand is billowed like a grave. Should be something in there.";
			mes "According to rumors, cats have a habit to bury with sand after stool...";
			next;
			switch(select("Avoid this dirty place.:Darn it-!")) {
			case 1:
				mes "[" + strcharinfo(0) + "]";
				mes "Right!";
				mes "It may be cat's grave... Do not touch them!";
				mes "Avoid, avoid~";
				break;
			case 2:
				mes "Close eyes and start to dig that pile of sand!";
				mes "Therefore, something came out quickly from there and disappeared.";
				mes "And...";
				next;
				mes "From the place where Dark shadow just passed and someone hided recently.";
				mes "Find a some chips of cat's ship biscuit.";
				setquest .@quest;
				if (!rand(3)) {
					emotion e_omg;
					getmapxy(.@map$,.@x,.@y,1);
					monster .@map$,.@x,.@y,"Quick Dark Shadow",2209,1;
				} else
					getitem 11536,1; //Cat_Hard_Biscuit
				close;
			}
		}
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "- Looks so strange. -";
	mes "- That's it... -";
	close;
}
malangdo,197,237,0	duplicate(Strange Pile of Sand#7)	Strange Pile of Sand#12	557

malangdo,232,131,0	script	#UnderStairs8	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7271) == -1) {
			mes "Some weeds are growing under the low stairs.";
			mes "It's really hard to find something fell under the stairs..";
			next;
			mes "To lie flat and look under the stairs carefully.";
			mes "And at that time...";
			next;
			mes "From the place where Dark shadow just passed and someone hided recently.";
			mes "Find a some chips of cat's ship biscuit.";
			setquest 7271;
			if (!rand(3)) {
				emotion e_omg;
				monster "malangdo",231,130,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "Sometimes, someone played with pulling people's ankle under the stairs";
		mes "Now, I can't see mischievous boys or any strange thing.";
		next;
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "Out of people's hand under the stairs.";
	mes "Sometimes, I look around there when I search for lost toys.";
	close;
}

mal_in01,74,20,0	script	#CornerTower9	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7272) == -1) {
			mes "This cat tower is for playing and resting.";
			mes "Dust is piled up because there is gap between the foothold and ground.";
			next;
			mes "Push the thin and long rod in the gap and search something.";
			mes "And at that time...";
			next;
			mes "From the place where Dark shadow just passed and someone hided recently.";
			mes "Find a some chips of cat's ship biscuit.";
			setquest 7272;
			if (!rand(3)) {
				emotion e_omg;
				monster "mal_in01",73,19,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "There are cat's bed near cat tower.";
	mes "Specially, some cats love an out of the way place.";
	close;
}

mal_in01,159,225,0	script	#CornerLocker10	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7273) == -1) {
			mes "In the corner of the gap between the wall and locker that is used by cat's gamers,";
			mes "I can see something there. It's really hard to find object if drop there.";
			next;
			mes "Push the thin and long rod in the gap and search something.";
			mes "And at that time...";
			next;
			mes "From the place where Dark shadow just passed and someone hided recently.";
			mes "Find a some chips of cat's ship biscuit.";
			setquest 7273;
			if (!rand(3)) {
				emotion e_omg;
				monster "mal_in01",159,225,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "The corner of gap is between locker that is used by cat's gamers and wall.";
	mes "If drop kind of small toys there, never find them at all.";
	close;
}

mal_in01,24,72,0	script	#FootholdTower11	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7274) == -1) {
			mes "This cat tower is for playing and resting in Malangdo.";
			mes "Dust is piled up because there is gap between the foothold and ground.";
			next;
			mes "Push the thin and long rod in the gap and search something.";
			mes "And at that time...";
			next;
			mes "From the place where Dark shadow just passed and someone hided recently.";
			mes "Find a some chips of cat's ship biscuit.";
			setquest 7274;
			if (!rand(3)) {
				emotion e_omg;
				monster "mal_in01",24,71,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "There is mark that shows something used to be jammed in gap of foothold in very bottom of cat tower.";
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "This cat tower is for playing and resting in Malangdo.";
	mes "When I look cats on the cat tower, It looks like a tree landen with cats...";
	close;
}

// Help Chef Nyas :: mal_day_qook
//============================================================
mal_in02,187,58,3	script	Chef Nyas	548,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (BaseLevel < 60) {
		mes "[Chef Nyas]";
		mes "What is going on boy?";
		mes "I don't want to talk to you. Get away from me!";
		next;
		mes "I'm ignored by uncomfortable cat.";
		mes "May not ignored if I'm getting stronger...";
		close;
	}
	if (mal_qook < 2) {
		mes "[Chef Nyas]";
		mes "I'm a unique chef in entire fleet.";
		mes "Do you want something from me?";
		next;
		mes "[Chef Nyas]";
		mes "Even though I have no time to spare, I usually serve a plate of soup gladly, but now!";
		mes "The ingredient is infested with worms cause of one stupid's carelessness!";
		next;
		mes "[Chef Nyas]";
		mes "Therefore, when my blaze of anger becomes quiet like a calm sea, come back again!";
		mes "By the way, where is that stupid!";
		close;
	} else if (mal_qook == 2) {
		mes "[Chef Nyas]";
		mes "I'm a unique chef in entire fleet.";
		mes "Do you want something from me?";
		next;
		switch(select("Show the cat's ship biscuit.:Talk about story of Cleanyang.")) {
		case 1:
			mes "[Chef Nyas]";
			mes "Hm? is this cat's ship biscuit?";
			mes "Specially, I can feel the flow of time from this biscuit.";
			mes "By the way, how can you have this?";
			next;
			mes "He is telling the story that place where he found cat's ship biscuit and";
			mes "Explain the Cleanyang's story.";
			next;
			break;
		case 2:
			mes "[Chef Nyas]";
			mes "Why that stupid?";
			mes "Are you trying to make a thunder storm in the calm sea?!";
			next;
			mes "Pacify an angry chef";
			mes "Explain a misunderstanding about Cleanyang and tell whole story of cat's ship biscuit.";
			next;
			break;
		}
		mes "[Chef Nyas]";
		mes "So this is happening because of cat buscuit?";
		mes "Yes, is this story about that?";
		next;
		select("You are quick understand.");
		mes "[Chef Nyas]";
		mes "..........He is such a jerk!";
		mes "In addition, What? Find another one in captain's room?!";
		next;
		mes "[Chef Nyas]";
		mes "Thomas......";
		mes "He has position that should take the lead to sailors, but he got a wrong?";
		mes "Ududuk.";
		next;
		mes "[Chef Nyas]";
		mes "This cat's ship biscuit was! Always thankful food to help our starvation during a long sailing!";
		mes "No matter what taste, It always saves us at crossroads of life and death!";
		next;
		mes "[Chef Nyas]";
		mes "Although the situation is not able to use fire for a month, two month even 1000 days!";
		mes "This is blessed food to guarantee on open sea!";
		next;
		mes "[Chef Nyas]";
		mes "How many chef cats have difficult time to make a cat's ship biscuit!";
		mes "The military discipline has been relaxed because we settled down on island! Already forget the dangerous situation?!";
		next;
		mes "Chef is outraged and very upset.";
		mes "He mumbled and made a threatening sound with grind his teeth.";
		mes "Come back later when he calms down.";
		set mal_qook,3;
		erasequest 7264;
		setquest 7265;
		close;
	} else if (mal_qook == 3) {
		if (!rand(3)) {
			mes "[Chef Nyas]";
			mes "There you are? I made a bad break.";
			mes "I made a big decision when you are out for me.";
			next;
			mes "[Chef Nyas]";
			mes "After settled down on Island, depraved mindset cause of plentiful foods.";
			mes "Therefore, I'll change the menu that cat's ship biscuit is provided for one meal a day!.";
			next;
			mes "[Chef Nyas]";
			mes "That ingredient is needed to make cat's ship biscuit.";
			mes "There is no wheat on this island, so I need to get your help.";
			next;
			mes "[Chef Nyas]";
			mes "Anything is possible to grind flour and knead dough.";
			mes "Please bring that kind of ^4d4dff10 Grain^000000 and ^4d4dff 1 Plain Sauce^000000.";
			mes "Replace salt with seawater..";
			next;
			mes "[Chef Nyas]";
			mes "Could we get them easily on land?";
			mes "I'll get the rest what I need.";
			next;
			mes "[Chef Nyas]";
			mes "I'll fix their taste that is crazy for canned food.";
			mes "He approached like a calm sea that has horrible thunder storm";
			mes "I'll give a pain like a god of sea's anger! Kmeow~~!!";
			next;
			mes "A look of chef is quite serious.";
			mes "Let me tell Cleanyang about the result first.";
			set mal_qook,4;
			erasequest 7265;
			setquest 7266;
			close;
		}
		mes "Chef is still trying to soothe his anger.";
		mes "Maybe need more time.";
		close;
	} else if (mal_qook == 4) {
		if (countitem(577) >= 10 && countitem(7454) > 0) {
			mes "[Chef Nyas]";
			mes "Finally here. Wow, this land is pretty different.";
			mes "That is enough to process.";
			next;
			mes "[Chef Nyas]";
			mes "If you are ok, I want to get these food everyday.";
			mes "If you don't mind, just come back tomorrow.";
			delitem 577,10; //Grain
			delitem 7454,1; //Plain_Sauce
			set mal_qook,5;
			erasequest 7266;
			setquest 7276;
			close;
		}
		mes "[Chef Nyas]";
		mes "That ingredient is needed to make cat's ship biscuit.";
		mes "There is no wheat on this island, so I need to get your help.";
		next;
		mes "[Chef Nyas]";
		mes "Anything is possible to grind flour and knead dough.";
		mes "Please bring that kind of ^4d4dff10 Grain^000000 and ^4d4dff 1 Plain Sauce^000000.";
		mes "Replace salt with seawater...";
		close;
	}
	mes "[Chef Nyas]";
	mes "There you are.";
	mes "It's not mealtime... Why are you here?";
	next;
	switch(select("What's today's work?:Food Delivery:Just bored...")) {
	case 1:
		if (checkquest(7276,PLAYTIME) == 0) {
			mes "[Chef Nyas]";
			mes "Now, cat's ship biscuit is being baked in this oven.";
			mes "It's all for your delivery food.";
			next;
			mes "[Chef Nyas]";
			mes "Quiet wave with a little salty and savory smell.";
			mes "The food of sea is coming to make sailor's heart flutter.";
			next;
			mes "[Chef Nyas]";
			mes "I've got enough ingredients of cat's ship biscuit today.";
			mes "Let me order next time.";
			close;
		}
		if (mal_food > 0) {
			mes "[Chef Nyas]";
			mes "Um? You are dull.";
			mes "You already took my order list?";
			mes "Just take care of them.";
			close;
		}
		if (checkquest(7276,PLAYTIME) == 2)
			completequest 7276;
		mes "[Chef Nyas]";
		mes "Here you are.";
		mes "I need ingredients for cat's ship biscuit now. Fortunately, you are here at the right moment.";
		if (checkquest(7276) != -1)
			erasequest 7276;
		next;
		mes "[Chef Nyas]";
		mes "Could you bring some ingrediednts for cat's ship biscuit from land?";
		mes "If you say so, I have one more thing to request...";
		next;
		switch(select("I'm busy today.:Sure, what are you need?")) {
		case 1:
			mes "[Chef Nyas]";
			mes "That is sad news.";
			mes "However, it's ok. Cat's ship biscuit is originally prepared food.";
			mes "Anyway, today's biscuit wll be provided when the second moon is full.";
			next;
			switch(select("So teeth grinder?:Worm castle...:Do not throw away?")) {
			case 1:
				mes "[Chef Nyas]";
				mes "What do you want to hear from me?!";
				mes "Kmeow!!";
				mes "The hardness of cat's ship biscuit is like a noble endurance in the sea!";
				mes "Do not ignore this!!";
				close;
			case 2:
				mes "[Chef Nyas]";
				mes "Only idiot who does not take care of preserving says like that.";
				mes "Dry enough and seal it in cool dry place. Tut-tut.";
				next;
				mes "[Chef Nyas]";
				mes "Anyway Is that all about protein?";
				mes "Why don't you eat at night if it's on your mind!";
				close;
			case 3:
				mes "[Chef Nyas]";
				mes "Never throw food!";
				mes "When you are hit by cat's ship biscuit, you will get bruise or bleeding but";
				mes "It is not that reason!!!";
				mes "Do not play with food!";
				close;
			}
		case 2:
			if (mal_food == 0) {
				mes "[Chef Nyas]";
				mes "The ingredients of cat's ship biscuit are 10 Grain and 1 Plain Sauce as usual.";
				mes "And I'd like to study food of human, so bring one of them.";
				next;
				mes "[Chef Nyas]";
				mes "My curious food is...";
				set .@i, rand(1,66);

				// IDs grouped in 5s incrementally.
				setarray .@StartID[0],12061,12091,12041,12071,12056,12086,12051,12081,12046,12076,12066,12096,12429,12434;
				mes "^4d4dff "+getitemname(.@StartID[(.@i-1)/5]+((.@i-1)%5))+" ^000000 .";

				set mal_food,.@i;
				setquest 7280+.@i;
				mes "Just one dish is enough, so please do it together.";
				next;
				mes "[Chef Nyas]";
				mes "You have to bring the dish that made from fresh ingredients.";
				mes "^ff0000I will refuse the instant food.^000000";
				close;
			}
			mes "[Chef Nyas]";
			mes "Hey my friend, you have a bad memory.";
			mes "Did you already take my order list?";
			close;
		}
	case 2:
		if (mal_food == 0) {
			mes "[Chef Nyas]";
			mes "Do you remember what I ask to bring?";
			mes "I have no idea.";
			close;
		} else if (mal_food > 66) {
			mes "[Chef Nyas]";
			mes "What did I say to bring?";
			mes "I don't remember?";
			mes "Did you get something wrong to come here?";
			close;
		}
		mes "[Chef Nyas]";
		mes "Is that ingredients of cat's ship biscuit and the food of human?";
		mes "Let me check what you brought...";
		next;
		set .@i, mal_food;

		// IDs grouped in 5s incrementally.
		setarray .@StartID[0],12061,12091,12041,12071,12056,12086,12051,12081,12046,12076,12066,12096,12429,12434;
		set .@food, .@StartID[(.@i-1)/5]+((.@i-1)%5);

		if (countitem(577) >= 10 && countitem(7454) > 0 && countitem(.@food) > 0) {
			mes "[Chef Nyas]";
			mes "Great.";
			mes "This is that food!";
			mes "It will be good reference. Well done.";
			delitem 577,10; //Grain
			delitem 7454,1; //Plain_Sauce
			delitem .@food,1;
			setquest 7276;
			set mal_food,0;
			erasequest 7280+.@i;
			
			// Quantities grouped in 10s repeating.
			// [ 3, 3, 6, 6, 9, 9, 12, 12, 15, 18 ]
			// Last group [ 61 - 66 ] receives 25 constant.
			getitem 6422, ((.@i < 61)?((.@i%10)?3*(((.@i%10)+1)/2):18):25); //Egrade_Coin

			getexp 50000,80000;
			next;
			mes "[Chef Nyas]";
			mes "Alright, could you come tomorrow?";
			mes "When the time to you coming, I'm very excited.";
			mes "Nyahuh Nyahuh";
			close;
		}
		mes "[Chef Nyas]";
		mes "Yummm...";
		mes "Did I overestimate your ability?";
		mes "Double check what is short and bring them properly.";
		next;
		mes "[Chef Nyas]";
		mes "There is not different from undiscerning young cat.";
		close;
	case 3:
		mes "[Chef Nyas]";
		mes "You are quite bold like a killer whale.";
		mes "If you don't have any business, don't touch vegetable and go away.";
		close;
	}
}

// Play with Baby Cats :: mal_nyadventurer
//============================================================
malangdo,165,223,4	script	Expert Cat#nya_01	561,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- You have too many items to proceed in this quest. -";
		close;
	}
	if (BaseLevel < 60) {
		mes "[Rato]";
		mes "Seems like a visitor.";
		mes "How does this island look?";
		mes "It is hard to believe, but this ground is very soft, so we named this island Malangdo.";
		next;
		mes "[Rato]";
		mes "If you were a more professional adventurer, I'd ask you one thing...";
		mes "Well, I won't do it.";
		close;
	}
	if (nyadven == 0) {
		mes "[Rato]";
		mes "Hey there.";
		mes "I am Rato, do you have a moment?";
		next;
		switch(select("Yeah, sure I do.:I'm sorry, but I'm busy right now.")) {
		case 1:
			mes "[Rato]";
			mes "Well, nothing special, but could you do me a favor?";
			mes "Did you see the kids gathered on your way here?";
			next;
			select("Kids?");
			mes "[Rato]";
			mes "Yes yes, baby kids.";
			mes "They are the youngest kids among the merchants and crews.";
			mes "They feel anxious that they might not be able to go back home.";
			next;
			mes "[Rato]";
			mes "And they are getting bored of living on this small island.";
			mes "They already tasted sea and adventure...";
			next;
			mes "[Rato]";
			mes "They used to play with making things, but seem tired of that also...";
			mes "If it's okay, would you play with them for a while?";
			next;
			switch(select("Uh, sure...:I don't have enough time for that.")) {
			case 1:
				mes "[Rato]";
				mes "Oh, thank you!";
				mes "Then, where are they?";
				mes "Maybe near Beginning Compass...?";
				next;
				mes "[Rato]";
				mes "They are so active that I am not sure where they are now.";
				break;
			case 2:
				mes "[Rato]";
				mes "Oh, really?";
				mes "It's okay even though you cannot do this right now.";
				break;
			}
			mes "If you meet them, please spend time with them.";
			next;
			mes "[Rato]";
			mes "The youngest one is Charo, with gold fur.";
			mes "Roku has black fur, and Rosy has white fur.";
			mes "Please take care of them.";
			set nyadven,1;
			setquest 7242;
			close;
		case 2:
			mes "[Rato]";
			mes "Oh, really?";
			mes "I am sorry for disturbing you.";
			close;
		}
	} else if (nyadven == 1) {
		mes "[Rato]";
		mes "The youngest one is Charo, with gold fur.";
		mes "Roku has black fur, and Rosy has white fur.";
		next;
		mes "[Rato]";
		mes "We can look forward to the moment we can go back home if these children grow up nicely.";
		mes "For that reason, please take care of them.";
		close2;
	} else if (nyadven < 13) {
		mes "[Rato]";
		mes "Do kids disturb you too much?";
		mes "What... adventurer group? Did you play with toys from the adventurer group?";
		next;
		mes "[Rato]";
		mes "I really worried about them the first time we were shipwrecked to this island...";
		mes "They thought the first voyage was huge adventure...";
		next;
		mes "[Rato]";
		mes "They look excited, like they got a fever.";
		mes "It seems like yesterday that I made toys for them and soothed them...";
		next;
		mes "Rato seems to be in brown study.";
		close;
	} else if (nyadven == 13) {
		if (countitem(6430) < 6) {
			mes "You didn't bring the pieces of the painting.";
			mes "Please take it with you.";
			close;
		}
		mes "[Rato]";
		mes "What's going on?";
		mes "It should be very hard to take care of the kids even though I asked you, isn't it?";
		mes "I am sorry, I should take care of them...";
		next;
		mes "You hand Rato a piece of painting.";
		next;
		mes "[Rato]";
		mes "Oh, this is a piece of painting?";
		mes "Ah!!!";
		mes "Has this painting been torn up already?";
		next;
		mes "[Rato]";
		mes "Did they say this is a gift for me?";
		mes "Huhhuh, a piece of painting?";
		mes "HAHAHAHAHA!";
		next;
		mes "[Rato]";
		mes "Okay, I will patch up this painting by myself.";
		mes "They are still the same.";
		mes "I think I should worry about myself first...";
		next;
		mes "[Rato]";
		mes "It's very kind of you to play with the kids.";
		mes "This is for you.";
		delitem 6430,6; //Picture_Piece
		set nyadven,14;
		getitem 6422,100; //Egrade_Coin
		completequest 7259;
		next;
		mes "[Rato]";
		mes "I owe you a big favor!";
		mes "Let's drink today!";
		mes "Miaow~";
		close;
	} else {
		mes "[Rato]";
		mes "Hey, how's it going? If you have time please look at it.";
		next;
		switch(select("Look at a picture.:Don't look at a picture.")) {
		case 1:
			mes "[Rato]";
			mes "Yes, they drew this picture full of happiness.";
			next;
			cutin "mal_nyapic",4;
			mes "Appreciate the picture in the frame.";
			close2;
			cutin "",255;
			end;
		case 2:
			mes "[Rato]";
			mes "Why don't you look at such a nice picture?";
			mes "I'm disapointed.";
			close;
		}
	}
}

malangdo,211,203,4	script	[Meow Team] Charo#nya_11	560,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- You have too many items to proceed in this quest. -";
		close;
	}
	if (nyadven == 0) {
		mes "There are gathered cats who seems younger than other crews.";
		mes "They are having a serious conversation about the weird machine in front of them.";
		close;
	} else if (nyadven == 1) {
		mes "There are gathered cats who seems younger than other crews.";
		mes "They are having a serious conversation about the weird machine in front of them.";
		mes "They are looks like kids who Rato told me.";
		next;
		switch(select("Just watch them without a word.:Busy right now.")) {
		case 1:
			mes "You try to listen to the conversation without disturbing them.";
			next;
			mes "[Charo]";
			mes "When will it be fixed? When it will be done?";
			mes "Isn't this the last one?";
			next;
			mes "[Rosy]";
			mes "Um... you don't even get tried of it?";
			mes "Anyway, we are in trouble.";
			mes "The glass bead is broken.";
			next;
			mes "[Roku]";
			mes "Don't we have an extra glass bead?";
			next;
			mes "[Rosy]";
			mes "No, we don't have any.";
			mes "We can't fix this without it, right?";
			next;
			mes "The cats look your way at the same time.";
			next;
			switch(select("I have a spare Glass Bead!:Why are you guys staring at me?")) {
			case 1:
				if (countitem(746) == 0) {
					mes "[Roku]";
					mes "There is no glass bead.";
					mes "Don't lie to us.";
					close;
				}
				mes "[Charo]";
				mes "Really? Oh, really?";
				mes "It's a bead! And a shining glass bead as well!";
				next;
				mes "[Rosy]";
				mes "Hmm. This is enough to replace it.";
				mes "Like this...";
				next;
				mes "[Roku]";
				mes "And then here, this?";
				mes "Done.";
				next;
				mes "[Charo]";
				mes "Exciting!!!";
				mes "Okay, adventurer! We'll give you the right to use this machine!";
				mes "Try this whenever you want to!!";
				next;
				mes "[Charo]";
				mes "Advanturer! This is a delicious can.";
				mes "You can get whatever you want with cans in this island. It is tradable.";
				mes "Rosy, Roku and I collected them.";
				next;
				mes "[Charo]";
				mes "And adventurer!";
				mes "If you were a real adventurer,";
				mes "you would clear all Nyadventures";
				mes "made by the Meow Bravery Team!";
				mes "Challenge it whenever you want to!";
				delitem 746,1; //Glass_Bead
				set nyadven,2;
				getitem 12636,30; //Malang_Sp_Can
				close;
			case 2:
				mes "[Rosy]";
				mes "We are just looking at you as you stand there.";
				close;
			}
		case 2:
			mes "I'll come again later.";
			close;
		}
	} else if (nyadven == 2) {
		mes "[Charo]";
		mes "We fixed the Duruduru compass, we only need a visitor now...";
		mes "Hey, do you want to be a visitor?";
		emotion e_gasp;
		next;
		select("A visitor?");
		mes "[Charo]";
		mes "This is an adventure course made by the Meow adventure team.";
		mes "Especially we have added studying course this time.";
		mes "It's simple to solve, you only need to find compass in this island according to order.";
		next;
		switch(select("I'll give it a try.:Quit.")) {
		case 1:
			mes "[Charo]";
			mes "Here is your Adventure Card.";
			mes "This is the Duruduru Compass which we fixed with the glass bead you gave us.";
			mes "And this is the Beginning Compass.";
			next;
			mes "[Charo]";
			mes "The game will start if you put the Adventure Card in here!";
			mes "This machine is for testing essential ingredients of adventure.";
			next;
			mes "[Charo]";
			mes "Don't forget the destination for successful adventure.";
			mes "And you should find a way to get to your destination as fast as possible.";
			next;
			mes "[Charo]";
			mes "You will be good, as you are a good person for giving us the glass bead.";
			next;
			mes "Got Adventure Card from the yellow cat Charo.";
			mes "It seems to work if I put this card in the slot in the Beginning Compass.";
			set nyadven,3;
			getitem 6428,1; //Bravery_Card_A
			changequest 7242,7243;
			next;
			mes "[Charo]";
			mes "The game will start if you scratch Adventure Card to the Beginning Compass!";
			mes "The Beginning Compass will let you know where you should go.";
			next;
			mes "[Charo]";
			mes "^4d4dffIf you go through all the compasses, you will see Meowbell from the ship Navi at last!";
			mes "Ring the New bell!^000000";
			close;
		case 2:
			mes "[Charo]";
			mes "Ah... you are not going to do it...";
			mes "Um...";
			mes "Sob~";
			mes "Meow~";
			next;
			mes "[Rosy]";
			mes "Hey, adventurer. Don't make kids cry!";
			close;
		}
	} else if (nyadven == 3) {
		if (nyadven02 == 28) {
			mes "[Charo]";
			mes "Oh? Isn't this failed stamp from Bubi?";
			mes "I'm really disappointed.";
			mes "Try again~ you can make it!";
			set nyadven02,0;
			if (checkquest(7257) > -1)
				erasequest 7257;
			close;
		}
		mes "[Charo]";
		mes "The game will start if you scratch Adventure Card to the Beginning Compass!";
		mes "The Beginning Compass will let you know where you should go.";
		next;
		mes "[Charo]";
		mes "^4d4dffIf you go through all the compasses, you will see Meowbell from the ship Navi at last!";
		mes "Ring the New bell!^000000";
		close;
	} else if (nyadven == 4) {
		if (countitem(6428) == 0) {
			mes "[Charo]";
			mes "Where is your Adventure Card?";
			mes "You should bring it with you.";
			mes "You can't be serious that you threw it away with your other trash!!";
			close;
		}
		mes "[Charo]";
		mes "I heard it!";
		mes "I heard sound of Meowbell!";
		mes "You are great!";
		mes "The next will be a big case!";
		next;
		select("The next?");
		mes "[Charo]";
		mes "You are member of the Meow Bravery Team while you have the card with you.";
		mes "We need an adventurer like you anyways, since this is a big case.";
		next;
		mes "[Charo]";
		mes "It's for the cuff.";
		mes "It seems a bomb is planted in this island.";
		mes "The detective has went for this case already.";
		next;
		mes "[Charo]";
		mes "You should go there too!";
		next;
		switch(select("Why do I have to go there?:What an adventure! I'll take it!")) {
		case 1:
			mes "[Charo]";
			mes "This is a big case!";
			mes "And this island could explode!";
			mes "Oh, you might shut your eyes to the fact.";
			mes "Give the Adventure Card back!";
			delitem 6428,1; //Bravery_Card_A
			set nyadven,5;
			erasequest 7243;
			close;
		case 2:
			mes "[Charo]";
			mes "You have great capabilities as an adventurer!";
			mes "Please help detective and his friend who got in trouble and also save this island!";
			next;
			mes "[Charo]";
			mes "But be sure this should be done undercover!";
			mes "Therefore you need to take this certification.";
			mes "It shouldn't happen that the detective misunderstands you as an enemy!";
			next;
			mes "- Changed Adventure Card A into Adventure Card B. -";
			delitem 6428,1; //Bravery_Card_A
			set nyadven,6;
			getitem 6429,1; //Bravery_Card_B
			setquest 7246;
			erasequest 7243;
			next;
			mes "[Charo]";
			mes "The great detective and his friend will be around the ship Navi.";
			close;
		}
	} else if (nyadven == 5) {
		mes "[Charo]";
		mes "Do you feel a disposition to help the detective and his friend?";
		mes "Don't you?";
		next;
		switch(select("Yes I do.:No I don't.")) {
		case 1:
			mes "[Charo]";
			mes "You have great capabilities as an adventurer!";
			mes "Please help detective and his friend who got in trouble and also save this island!";
			next;
			mes "[Charo]";
			mes "But be sure this should be done undercover!";
			mes "Therefore you need to take this certification.";
			mes "It shouldn't happen that the detective misunderstands you as an enemy!";
			next;
			mes "- Changed Adventure Card A into Adventure Card B. -";
			set nyadven,6;
			getitem 6429,1; //Bravery_Card_B
			setquest 7246;
			next;
			mes "[Charo]";
			mes "The great detective and his friend will be acound ship Navi.";
			close;
		case 2:
			mes "[Charo]";
			mes "Oh my god, the great detective and the ship Navi...";
			close;
		}
	} else if (nyadven > 5 && nyadven < 12) {
		mes "[Charo]";
		mes "The great detective and his friend will be around the ship Navi.";
		close;
	} else if (nyadven == 12) {
		mes "[Charo]";
		mes "I have been waiting for you...~";
		mes "Oh, I am short of breath from coming here in a hurry.";
		mes "Hmph... Meow...";
		next;
		mes "[Charo]";
		mes "Don't you have anything to show me?";
		mes "Let me see it quickly!";
		mes "Take it out!";
		next;
		if (countitem(6430) < 6) {
			mes "[Charo]";
			mes "What? You don't have it?";
			mes "It can't be true.";
			mes "Surely you took this with you...";
			next;
			mes "[Rosy]";
			mes "How come it happened?";
			mes "This painting is very important for us.";
			mes "Please give it back to us.";
			close;
		}
		mes "[Charo]";
		mes "Yes, this is it!";
		mes "This is our...";
		mes "But, how do we put the broken pieces together?";
		next;
		mes "[Rosy]";
		mes "We need a board and glue as well to put it together.";
		mes "That's too troublesome to just give it away!";
		next;
		mes "[Roku]";
		mes "Rato, looks like he is happy.";
		mes "He will understand.";
		next;
		mes "[Charo]";
		mes "Really...?";
		mes "There is no Meow team and us without Rato.";
		mes "I feel a little bad to give only pieces of painting but...";
		next;
		mes "[Charo]";
		mes "We have no other way!";
		mes "Rato treated this by himself!";
		mes "No, it's better to ask Rato to put this back together.";
		next;
		mes "[Rosy]";
		mes "Good idea.";
		mes "That's really a good idea.";
		mes "I was getting tired of it.";
		next;
		mes "[Charo]";
		mes "You are a member of the Meow Bravery Team.";
		mes "Please give these pieces of painting to Rato.";
		mes "And tell him to treat it preciously as our treasure...";
		next;
		mes "[Charo]";
		mes "We couldn't make the Bravery Team without Rato.";
		mes "Please.";
		mes "Tell him we didn't forget our home island.";
		set nyadven,13;
		changequest 7258,7259;
		close;
	} else if (nyadven == 13) {
		mes "[Charo]";
		mes "Please give this pating to Rato.";
		mes "We drawed this painting to show Rato.";
		mes "Please.";
		close;
	} else {
		switch(rand(3)) {
		case 0:
			mes "[Charo]";
			mes "Here you are! Our emeritus member of the new Bravery Team!";
			mes "Where did you go for adventure today?";
			mes "Are these adventure stories?!";
			mes "If not, then...";
			next;
			mes "[Charo]";
			mes "You might have come here for the compass race like huge tuna from our Meow Bravery Team!!";
			mes "Meow!";
			close;
		case 1:
			mes "[Charo]";
			mes "Well, Homnya and Nyangson are too difficult for me.";
			mes "...?";
			mes "I meant the book is difficult for me.";
			close;
		case 2:
			mes "[Charo]";
			mes "Do you know how much Rato loves the painting which you have found?";
			mes "He put framed the painting on the wall!";
			mes "Meow~";
			next;
			mes "[Charo]";
			mes "I miss my hometown.";
			mes "But Malangdo is also my hometown as well.";
			mes "I am okay with us all together in here~";
			close;
		}
	}
}

malangdo,214,204,3	script	[Meow Team] Rosy#nya_09	559,{
	if (nyadven < 2) {
		mes "A young cat with white fur tries so hard with the weird machine.";
		mes "The machine might be broken.";
		close;
	} else if (nyadven == 2) {
		mes "[Rosy]";
		mes "Um? The adventurer who brought us the glass bead?";
		mes "I really thank you for that.";
		mes "We could fix the compass with that glass bead.";
		close;
	} else if (nyadven == 3) {
		mes "[Rosy]";
		mes "Adventure Card? Will you do the Duruduru race?";
		mes "It's hard to say it's fun even though we made it.";
		next;
		mes "[Charo]";
		mes "Oh, it's fun! Perfectly fun!";
		mes "I have remodeled it this time!!";
		mes "It will be really fun!!";
		next;
		mes "[Roku]";
		mes "Yes. It's fun, as Charo said.";
		mes "Maybe.";
		mes "...";
		mes "It is.";
		close;
	} else {
		mes "[Rosy]";
		mes "Meow...";
		mes "I feel sleepy today.";
		mes "I've had sore throat these day because I talked too much...";
		next;
		mes "[Rosy]";
		mes "Don't you agree with me, friend?";
		mes "...?";
		mes "Oh, I didn't even realize...";
		next;
		mes "[Rosy]";
		mes "Forget about it!";
		mes "Doesn't this machine ever break?";
		close;
	}
}

malangdo,215,201,3	script	[Meow Team] Roku#nya_10	553,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- You have too many items to proceed in this quest. -";
		close;
	}
	if (nyadven < 2) {
		mes "A young black cat helps a busy white cat.";
		mes "Maybe the machine is broken.";
		close;
	} else if (nyadven == 2) {
		mes "[Roku]";
		mes "Oh? You are the one who gave us the glass bead.";
		mes "Thanks a lot.";
		mes "I am happy, too, because Charo looks happy.";
		close;
	} else if (nyadven == 3) {
		mes "[Roku]";
		mes "Charo likes it.";
		mes "It will be fun.";
		close;
	} else if (nyadven == 4) {
		mes "[Roku]";
		mes "Charo has been waiting for so long.";
		mes "To Charo...";
		close;
	}
	mes "[Roku]";
	mes "Do you have something to tell me?";
	next;
	switch(select("Report results of the race.:Challenge the race.:Nothing.")) {
	case 1:
		if (countitem(6428) == 0) {
			mes "[Roku]";
			mes "Bubi, no confirmation stamps and card.";
			mes "You will be in trouble if you are like this.";
			close;
		}
		if (nyadven02 == 27) {
			mes "[Roku]";
			mes "Good job.";
			mes "You are very smart.";
			mes "This is a gift for you.";
			mes "Please come tomorrow again.";
			next;
			mes "[Roku]";
			mes "Charo likes you so much.";
			mes "He will be happy if you come.";
			delitem 6428,1; //Bravery_Card_A
			set nyadven02,29;
			getitem 6422,3; //Egrade_Coin
			getexp 20000,20000;
			erasequest 7244;
			erasequest 7245;
			close;
		} else if (nyadven02 == 28) {
			mes "[Roku]";
			mes "Failed...";
			mes "...is it too difficult for you?";
			mes "But the race is available only once a day.";
			delitem 6428,1; //Bravery_Card_A
			erasequest 7244;
			erasequest 7245;
			next;
			switch(select("Give me one more chance!:Okay.I will try tomorrow.")) {
			case 1:
				if (countitem(12636) == 0) {
					mes "[Roku]";
					mes "Um... Um... Well...";
					mes "If you bring a Malangdo Can,";
					mes "I will give you one more chance.";
					close;
				}
				mes "[Roku]";
				mes "Okay. Do you want to exchange 1 Malangdo Can for a Adventure Card?";
				next;
				switch(select("Exchange for Adventure Card A.:Stop it.")) {
				case 1:
					if (countitem(6428)) {
						mes "[Roku]";
						mes "You have it already?";
						close;
					}
					mes "[Roku]";
					mes "Here is your Adventure Card.";
					mes "Beginning Compass, start!";
					delitem 12636,1; //Malang_Sp_Can
					getitem 6428,1; //Bravery_Card_A
					set nyadven02,0;
					if (checkquest(7257) > -1)
						erasequest 7257;
					close;
				case 2:
					mes "[Roku]";
					mes "Okay, come again tomorrow.";
					close;
				}
			case 2:
				mes "[Roku]";
				mes "Okay, come again tomorrow.";
				close;
			}
		} else if (nyadven02 == 29) {
			mes "[Roku]";
			mes "You have reported the result for today already.";
			mes "Right?";
			close;
		} else if (nyadven02 < 27) {
			mes "[Roku]";
			mes "You are too hasty.";
			mes "You didn't even finish the race.";
			mes "It's still going.";
			close;
		} else {
			mes "[Roku]";
			mes "The result is little weird, but...";
			mes "This is neither a complete race nor incomplete race.";
			next;
			mes "[Roku]";
			mes "Is this because of the machine?";
			mes "Let's make void for this race.";
			delitem 6428,1; //Bravery_Card_A
			set nyadven02,0;
			erasequest 7244;
			erasequest 7245;
			close;
		}
	case 2:
		if (nyadven02 == 28) {
			mes "[Roku]";
			mes "You have failed?";
			mes "Do you want to try again?";
			mes "I will delete the report of the failed result.";
		} else {
			if (checkquest(7257,PLAYTIME) == 0 || checkquest(7257,PLAYTIME) == 1) {
				mes "[Roku]";
				mes "No, not yet.";
				mes "Duruduru race is only once for a day.";
				mes "If we do it more often, the machine will break.";
				close;
			}
			mes "[Roku]";
			mes "I know that you will try the Duruduru race.";
			mes "I deleted your last report.";
		}
		if (checkquest(7257) > -1)
			erasequest 7257;
		next;
		mes "[Roku]";
		mes "You need a Adventure Card to challenge again.";
		mes "Do you want to exchange 1 Malangdo Can for a Adventure Card?";
		next;
		switch(select("Buy Adventure Card.:Just stop it.")) {
		case 1:
			if (countitem(6428)) {
				mes "[Roku]";
				mes "You have it already?";
				close;
			}
			if (countitem(12636) == 0) {
				mes "[Roku]";
				mes "There is nothing for free.";
				mes "You need a Malangdo Can.";
				close;
			}
			mes "[Roku]";
			mes "Here is your Adventure Card.";
			mes "Beginning Compass, start!";
			delitem 12636,1; //Malang_Sp_Can
			getitem 6428,1; //Bravery_Card_A
			set nyadven02,0;
			close;
		case 2:
			mes "[Roku]";
			mes "Okay.";
			close;
		}
	case 3:
		mes "[Roku]";
		mes "You are the weird one.";
		close;
	}
}

malangdo,212,204,0	script	Beginning Compass#nya_02	844,{
	if (countitem(6428) == 0) {
		mes "There is a strange machine.";
		mes "The kids said this was the ride called Duruduru compass of the Meow Bravery Team.";
		close;
	}
	if (nyadven02 < 11) {
		mes "An iron pot contains a map of Malangdo with a card inserter.";
		mes "After inserting your card, a red button and the map inside the pot light up.";
		mes "It seems to start after pressing the button.";
		next;
		switch(select("Start it right now.:Start it later.")) {
		case 1:
			mes "The card has come out with lights on the map after pressing the button.";
			if (rand(20) < 10) {
				callsub L_Viewpoint,1,1;
				mes "The game has started already!";
				set nyadven02,11;
				setquest 7244;
				close;
			} else {
				callsub L_Viewpoint,2,1;
				mes "The game has started already!";
				set nyadven02,21;
				setquest 7245;
				close;
			}
		case 2:
			mes "Challenge it a little later.";
			close;
		}
	} else if (nyadven02 >= 11 && nyadven02 <= 15) {
		callsub L_Viewpoint,1,(nyadven02-10);
		close;
	} else if (nyadven02 >= 21 && nyadven02 <= 25) {
		callsub L_Viewpoint,2,(nyadven02-20);
		close;
	} else if (nyadven02 == 16 || nyadven02 == 26) {
		mes "The destination displays with pressing the button after inserting the card.";
		mes "It's above the deck in the middle of the island!";
		close;
	}
	mes "Beginning Compass among the Duruduru compass.";
	mes "The Duruduru race starts from this compass.";
	close;

// callsub L_Viewpoint,<order number>,<start index>;
L_Viewpoint:
	switch(getarg(0)) {
	case 1: // Order 1: Red, Blue, Yellow, Green, White
		setarray .@Colors$[1],"^FF0000","^0000FF","^FFFF00","^00FF00","^cccccc";
		setarray .@Text$[1],"Red","Blue","Yellow","Green","White";
		if (getarg(1) <= 1)
			viewpoint 1,213,89,0,0xFF0000;
		if (getarg(1) <= 2)
			viewpoint 1,128,103,1,0x0000FF;
		if (getarg(1) <= 3)
			viewpoint 1,73,253,2,0xFFFF00;
		if (getarg(1) <= 4)
			viewpoint 1,153,146,3,0x00FF00;
		viewpoint 1,111,178,4,0xcccccc;
		break;
	case 2: // Order 2: Yellow, Blue, White, Green, Red
		setarray .@Colors$[1],"^FFFF00","^0000FF","^cccccc","^00FF00","^FF0000";
		setarray .@Text$[1],"Yellow","Blue","White","Green","Red";
		if (getarg(1) <= 1)
			viewpoint 1,73,253,0,0xFFFF00;
		if (getarg(1) <= 2)
			viewpoint 1,128,103,1,0x0000FF;
		if (getarg(1) <= 3)
			viewpoint 1,111,178,2,0xcccccc;
		if (getarg(1) <= 4)
			viewpoint 1,153,146,3,0x00FF00;
		viewpoint 1,213,89,4,0xFF0000;
		break;
	}
	for(set .@i,1; .@i<=5; set .@i,.@i+1)
		set .@str$, .@str$+((.@i >= getarg(1))?.@Colors$[.@i]:"")+.@Text$[.@i]+" ";
	if (getarg(1) > 1)
		mes "After inserting the card and pressing the red button, the path to the destination lit up.";
	mes "The order will be "+.@str$+"^000000.";
	return;
}

-	script	#malangdo_compass	-1,{
	if (countitem(6428) == 0) {
		mes "There is a strange machine.";
		mes "This is the Duruduru compass from the Meow Bravery Team.";
		close;
	}
	set .@index, atoi(strnpcinfo(2));
	switch(.@index) {
	case 1:
		setarray .@var[0],11,25;
		set .@color$,"red";
		break;
	case 2:
		setarray .@var[0],12,22;
		set .@color$,"blue";
		break;
	case 3:
		setarray .@var[0],13,21;
		set .@color$,"gold";
		break;
	case 4:
		setarray .@var[0],14,24;
		set .@color$,"green";
		break;
	case 5:
		setarray .@var[0],15,23;
		set .@color$,"white";
		break;
	}
	mes "Delicate "+.@color$+" lights surround the "+strnpcinfo(1)+".";
	if (nyadven02 < 11) {
		mes "After inserting the card and pressing the button, characters appear on the screen.";
		next;
		mes "^00FF00This is a card that didn't start the game yet. Please go back to the Beginning Compass.^000000";
		close;
	} else if (nyadven02 == .@var[0] || nyadven02 == .@var[1]) {
		mes "After inserting the card and pressing the button, characters appear on the screen.";
		next;
		mes "Welcome to the exciting number world!";
		mes "Enter the exact answer after reading the question!";
		next;
		while(1) {
			switch(.@index) {
			case 1:
				set .@nori_a, rand(1,999);
				set .@nori_b, rand(1,999);
				set .@nori_c, .@nori_a+.@nori_b;
				mes .@nori_a+" + "+.@nori_b+" = ??";
				break;
			case 2:
				set .@nori_a, rand(1,9);
				set .@nori_b, rand(1,9);
				set .@nori_c, .@nori_a*.@nori_b;
				mes .@nori_a+" x "+.@nori_b+" = ??";
				break;
			case 3:
				set .@nori_a, rand(600,999);
				set .@nori_b, rand(1,599);
				set .@nori_c, .@nori_a-.@nori_b;
				mes .@nori_a+" - "+.@nori_b+" = ??";
				break;
			case 4:
				set .@nori_a, rand(1,99);
				set .@nori_b, rand(1,9);
				set .@nori_d, rand(1,9);
				set .@nori_c, .@nori_a+(.@nori_b*.@nori_d);
				mes .@nori_a+" + "+.@nori_b+" x "+.@nori_d+" = ??";
				break;
			case 5:
				set .@nori_a, rand(1,9);
				set .@nori_c, .@nori_a+(.@nori_a*.@nori_a);
				mes .@nori_a+" + "+.@nori_a+" x "+.@nori_a+" = ??";
				break;
			}
			next;
			input .@input;
			if (.@input == .@nori_c) {
				mes "The card slides out with a sound after entering the number.";
				mes "^4d4dffYou have passed the "+strnpcinfo(1)+"! Run to the next destination!^000000";
				mes "You should run for the next destination.";
				set nyadven02, nyadven02+1;
				close;
			}
			mes "You've got wrong answer!";
			mes "You can not pass here without exact answer!";
			mes "Enter exact answer after read question!";
			next;
		}
	} else if (nyadven02 == 16 || nyadven02 == 26) {
		mes "After inserting the card and pressing the button, characters appear on the screen.";
		next;
		mes "The compass needle turns around in the middle of map.";
		mes "You should run for the next destination.";
		viewpoint 2,1,1,0,0xFFFFFF;
		viewpoint 2,1,1,1,0xFFFFFF;
		viewpoint 2,1,1,2,0xFFFFFF;
		viewpoint 2,1,1,3,0xFFFFFF;
		viewpoint 2,1,1,4,0xFFFFFF;
		viewpoint 1,162,177,5,0xcccccc;
		close;
	} else if ((nyadven02 >= 11 && nyadven02 <= 15) || (nyadven02 >= 21 && nyadven02 <= 25)) {
		mes "After inserting the card and pressing the button, characters appear on the screen.";
		next;
		mes "^FF0000You are going the wrong way! The paths in the card and compass don't line up!^000000";
		close;
	}
	close;
}
malangdo,213,89,0	duplicate(#malangdo_compass)	Red Flame Compass#1	844
malangdo,128,103,0	duplicate(#malangdo_compass)	Blue Flame Compass#2	844
malangdo,73,253,0	duplicate(#malangdo_compass)	Gold Flame Compass#3	844
malangdo,153,146,0	duplicate(#malangdo_compass)	Forest Compass#4	844
malangdo,111,178,0	duplicate(#malangdo_compass)	Cloud Compass#5	844

malangdo,175,163,0	script	Meowbell#nya_12	844,{
	if (countitem(6428) == 0) {
		mes "There is a fancy bell which doesn't fit in with the ship.";
		mes "This bell is used in a game by the Meow Bravery Team.";
		viewpoint 2,1,1,0,0xFFFFFF;
		viewpoint 2,1,1,1,0xFFFFFF;
		viewpoint 2,1,1,2,0xFFFFFF;
		viewpoint 2,1,1,3,0xFFFFFF;
		viewpoint 2,1,1,4,0xFFFFFF;
		viewpoint 2,1,1,5,0xFFFFFF;
		close;
	}
	if (nyadven02 == 16)
		set .@quest,7244;
	else if (nyadven02 == 26)
		set .@quest,7245;
	else {
		mes "There is a one more little bell beside the huge notice bell in the deck.";
		mes "This is the Meowbell from the Meow Bravery Team.";
		next;
		mes "This is last bell to ring if you have the card for the game.";
		mes "Nothing to say for now.";
		close;
	}
	mes "This is the Meowbell.";
	mes "You insert your card into the middle slot.";
	viewpoint 2,1,1,0,0xFFFFFF;
	viewpoint 2,1,1,1,0xFFFFFF;
	viewpoint 2,1,1,2,0xFFFFFF;
	viewpoint 2,1,1,3,0xFFFFFF;
	viewpoint 2,1,1,4,0xFFFFFF;
	viewpoint 2,1,1,5,0xFFFFFF;
	if (checkquest(.@quest,PLAYTIME) == 0 || checkquest(.@quest,PLAYTIME) == 1) {
		mes "Knock Meowbell!!";
		set nyadven02,27;
		changequest .@quest,7257;
		next;
		if (nyadven == 3) {
			mes "[Deckhand Bubi]";
			mes "Oh, I'm suprised.";
			mes "You rang the Meowbell in a short time.";
			mes "I think you have the talent to be an adventurer.";
			next;
			mes "[Deckhand Bubi]";
			mes "People say...";
			mes "The purpose of this Duruduru game";
			mes "is to find and go to a destination quickly and accurately.";
			next;
			mes "[Deckhand Bubi]";
			mes "Go to Charo with that Adventure Card.";
			mes "I will give you a confirmation stamp for success.";
			set nyadven,4;
			close;
		} else {
			mes "[Deckhand Bubi]";
			mes "Oh, you've really gotten used to it.";
			mes "You succeeded again.";
			mes "I've put my paw stamp here.";
			mes "Run to Rato now.";
			close;
		}
	} else {
		mes "-- Beep --";
		mes "The card has out with a warning sound.";
		set nyadven02,28;
		changequest .@quest,7257;
		next;
		mes "[Deckhand Bubi]";
		mes "You didn't ring the Meowbell within time.";
		mes "Well, it's out of my hands now.";
		mes "I will give you the fail stamp!!";
		close;
	}
}

malangdo,176,165,3	script	Deckhand Bubi#nya_16	544,{
	mes "[Bubi]";
	mes "Hey, human adventurer, what are you here for?";
	mes "Yeah~ this is a beautiful view.";
	next;
	mes "[Bubi]";
	mes "Are you one of the people who came here to ring the Meowbell?";
	mes "I am not a member of the Meow Team, but I can give you the confirmation stamp.";
	next;
	mes "[Bubi]";
	mes "Um, my work?";
	mes "Oh, that is only for when I am not on a voyage.";
	mes "I am free these days.";
	close;
}

malangdo,172,178,7	script	Cat Detective#nya_14	560,{
	cutin "mal_homnya_n",2;
	if (nyadven < 6) {
		mes "[Cat Detective]";
		mes "Um? What is the matter?";
		mes "Hey, here is a suspicious guy.";
		next;
		mes "[Cat Detective]";
		mes "I can surely tell he is drunk by the smell of liquid.";
		mes "I am so sad that I can not.";
		next;
		mes "[Friend of Detective]";
		mes "Oh, I am so sorry to hear that you have such genius analytical skills!";
		mes "He is not drunk...";
		next;
		mes "[Cat Detective]";
		mes "Drunks always smell of liquid.";
		mes "But he is not, therefore he is not drunk, friend.";
		next;
		select("Then what is your identity?");
		cutin "mal_homnya_s",2;
		mes "[Cat Detective]";
		mes "Well... You are everything except drunk!!!";
		next;
		mes "The voice of the cats sounded shaky.";
		close2;
	} else if (nyadven == 6) {
		mes "[Cat Detective]";
		mes "What did I say?";
		mes "Didn't I tell you that someone will come here soon?";
		next;
		mes "[Friend of Detective]";
		mes "Great.";
		mes "I can only admire your deduction.";
		next;
		mes "[Detective Homnya]";
		mes "Haha, Nyangson, this is nothing for me.";
		mes "Before that, let's listen to the stories from the visitor first.";
		next;
		switch(select("Charo? Rosy?:Are you guys detectives?")) {
		case 1:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "No... Who are they?";
			mes "Nyangson, do you know them?";
			next;
			mes "[Nyangson]";
			mes "I... I don't know either?";
			mes "I don't know Charo and Rosy!";
			next;
			mes "[Homnya]";
			mes "Yes. Yes.";
			mes "We are the detective and friend!";
			next;
			break;
		case 2:
			mes "[Homnya]";
			mes "Yes, I am the detective, Homnya.";
			mes "And this is my friend, Nyangson. He reports my cases.";
			next;
			break;
		}
		mes "[Homnya]";
		mes "Anyways, that's not important for now!";
		mes "We should focus on current situation.";
		next;
		mes "[Nyangson]";
		mes "Yes, that's right, friend.";
		mes "We think........";
		next;
		mes "[Homnya]";
		mes "Yes! This is a bomb for sure!";
		mes "I am so sorry, I have only analytical and detective skills but don't have the skill to dispose of a bomb!";
		next;
		cutin "mal_homnya_s",2;
		mes "[Nyangson]";
		mes "What do you mean by that?";
		mes "It doesn't make any sense!";
		next;
		mes "[Homnya]";
		mes "Yes, we shout when it changed from the peak of hope into the peak of sorrow.";
		mes "Peak!";
		mes "Meow!";
		next;
		mes "I don't get the meaning of this, but they seem to be in hurry.";
		next;
		switch(select("Continue to humor them.:Stop playing around.")) {
		case 1:
			cutin "mal_homnya_n",2;
			mes "[Homnya]";
			mes "Oh, if you give us a hand, I will take it. How do you think about it, friend?";
			next;
			mes "[Nyangson]";
			mes "I don't really care about it. What I want to do is only to report this case.";
			mes "One of the cases will be open to the public among the most strange and weird cases ever.";
			next;
			mes "[Homnya]";
			mes "I knew this visitor had the skill to dispose of a bomb.";
			mes "He is totally prepared to escape from danger.";
			next;
			mes "[Nyangson]";
			mes "Oh, I heard of it. I heard they use fly wings and butterfly wings as well.";
			mes "I've never thought I could meet a person who used these thing for real.";
			next;
			mes "[Homnya]";
			mes "Yes, I believe this visitor will solve our mystery.";
			mes "Then please stop this damn machine!";
			next;
			mes "[Nyangson]";
			mes "Yes, the damn machine!";
			mes "It is loud and useless!";
			mes "And it will be blown up.";
			next;
			mes "[Homnya]";
			mes "Well, stop this machine!!!";
			set nyadven,7;
			changequest 7246,7247;
			close2;
			break;
		case 2:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "Please don't...";
			mes "Please act according to the script.";
			next;
			mes "[Nyangson]";
			mes "Charo. Where is the script?";
			mes "No, Homnya. My friend...";
			next;
			mes "Two young cats are sweating a lot.";
			close2;
			break;
		}
	} else if (nyadven == 7) {
		mes "[Homnya]";
		mes "Stop this noisy machine!";
		mes "This is the moment that your memory can be coming through!";
		next;
		mes "[Nyangson]";
		mes "Yes. Yes.";
		mes "This is the sort of training where you dispose of and breach all the traps.";
		mes "Yes, this is.";
		close2;
	} else if (nyadven == 8) {
		mes "[Homnya]";
		mes "It was a scary moment.";
		mes "This machine is still fine anyways!";
		mes "Stop it again.";
		next;
		mes "[Homnya]";
		mes "Yes, you need Adventure Card B to operate this machine.";
		mes "Do you want to buy a new one?";
		next;
		mes "[Nyangson]";
		mes "It costs one Malangdo Can.";
		next;
		switch(select("Buy Adventure Card.:Do not buy.")) {
		case 1:
			if (countitem(12636) == 0) {
				mes "[Homnya]";
				mes "I said I can exchange Adventure Card with one Malango Can~";
				close2;
				break;
			}
			mes "[Homnya]";
			mes "See, this is a scary machine.";
			mes "Here is your Adventure Card.";
			mes "Stop this machine this time.";
			delitem 12636,1; //Malang_Sp_Can
			set nyadven,7;
			getitem 6429,1; //Bravery_Card_B
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "What?";
			mes "But you came here to buy a Adventure Card.";
			mes "......";
			next;
			mes "[Nyangson]";
			mes "If you buy a Adventure Card there won't be any bloodshed...";
			close2;
			break;
		}
	} else if (nyadven == 9) {
		mes "[Homnya]";
		mes "Hey, there is good news for you.";
		mes "I received pretty good news while you struggled with that machine.";
		next;
		mes "[Nyangson]";
		mes "Hello, capable friend, what did you find?";
		mes "Is this something like hidden treasure?";
		next;
		mes "[Homnya]";
		mes "Hidden treasure?";
		mes "Very similar!";
		mes "It will be hidden in serveral places inside the cabin.";
		mes "You should find them!";
		next;
		switch(select("I feel tired of it now.:Oh, yes!")) {
		case 1:
			mes "[Homnya]";
			mes "Oh, really?";
			mes "If you feel tired then it's okay.";
			mes "Please come again, if you want.";
			next;
			mes "[Nyangson]";
			mes "Please come again~.";
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "I knew you would do this!";
			mes "I have the right eye for people.";
			mes "The place is inside of the ship Navi.";
			next;
			mes "[Nyangson]";
			mes "It will be fine because it isn't really a large place.";
			mes "I look forward to your active work!";
			set nyadven,10;
			setquest 7250;
			close2;
			break;
		}
	} else if (nyadven == 10) {
		mes "[Homnya]";
		mes "Please find the pieces of the treasure.";
		mes "The tresure is hidden inside of the ship Navi according to our information.";
		next;
		mes "[Nyangson]";
		mes "Come here right after you find treasure!";
		close2;
	} else if (nyadven == 11) {
		if (countitem(6430) > 5) {
			mes "[Homnya]";
			mes "You've found all the treasure.";
			mes "Yes, exactly.";
			mes "You might thought this painting was just a normal painting.";
			next;
			mes "[Homnya]";
			mes "But...!";
			mes "If we do this...!";
			next;
			mes "[Nyangson]";
			mes "Oh, this is....... the one from that moment...";
			mes "This is the one when we left our hometown.";
			next;
			mes "[Homnya]";
			mes "It's time to give it back to the brave new team!";
			mes "Let's give it back!";
			mes "Meow~";
			next;
			mes "Charo and Rosy who make up as Homnya and Nyangson";
			mes "checked the pieces of painting and give it back again.";
			mes "They look excited.";
			next;
			mes "[Homnya]";
			mes "Please give it back to the Meow Bravery Team~";
			mes "For everyone~ Meow~";
			mes "These are real treasures!";
			set nyadven,12;
			erasequest 7250;
			erasequest 7251;
			erasequest 7252;
			erasequest 7253;
			erasequest 7254;
			erasequest 7255;
			erasequest 7256;
			setquest 7258;
			close2;
		} else {
			mes "[Homnya]";
			mes "Well? It's strange. There should be 6 pieces of treasure.";
			mes "It's missing pieces...";
			mes "Is this fake? I will throw it out!";
			next;
			mes "[Nyangson]";
			mes "Go get the treasure again!";
			delitem 6430,countitem(6430); //Picture_Piece
			erasequest 7251;
			erasequest 7252;
			erasequest 7253;
			erasequest 7254;
			erasequest 7255;
			erasequest 7256;
			set nyadven,10;
			setquest 7250;
			close2;
		}
	} else if (nyadven == 12 || nyadven == 13) {
		mes "[Homnya]";
		mes "Please give these treasures you've found to the Meow Bravery Team.";
		mes "You will know how precious these treasures are when you give these to them~";
		next;
		mes "[Nyangson]";
		mes "Yes, you will realize.";
		mes "It's good to take a break for little bit but now we don't have any spare time.";
		close2;
	} else {
		if (countitem(6429) > 0) {
			mes "[Homnya]";
			mes "Stop this noisy machine!";
			mes "Insert your Adventure Card, and take a look at the reaction of the machine carefully. Then do the proper action!";
			next;
			mes "[Nyangson]";
			mes "That's right~";
			close2;
		}
		mes "[Homnya]";
		mes "Hey Nyangson.";
		mes "Here comes the hero.";
		mes "He seems to be here for fixing this naughty machine.";
		next;
		mes "[Nyangson]";
		mes "I always admire your keen insight.";
		mes "He looks like that for sure.";
		mes "Then he will buy Adventure Card with Malangdo Can?";
		next;
		mes "[Homnya]";
		mes "You are getting better";
		mes "I always keep eyes on your keen insight.";
		mes "You are my true friend.";
		next;
		switch(select("How's the condition of Bang?:Ignore it.")) {
		case 1:
			if (checkquest(7249,PLAYTIME) == 0 || checkquest(7249,PLAYTIME) == 1) {
				mes "[Homnya]";
				mes "it's so motivated but it's not the time yet.";
				mes "Not yet even though naughty machine is noisy.";
				mes "Please come again.";
				next;
				mes "[Nyangson]";
				mes "We also have break time.....";
				close2;
			} else {
				if (checkquest(7249,PLAYTIME) == 2)
					erasequest 7249;
				mes "[Homnya]";
				mes "Can you hear how noisy this one is?";
				mes "It sounds like a runaway foal!";
				next;
				mes "[Nyangson]";
				mes "He needs an Adventure Card to stop it.";
				mes "Well, do you want to try?";
				next;
				switch(select("Buy Adventure Card B.:Don't buy it.")) {
				case 1:
					if (countitem(12636) == 0) {
						mes "[Homnya]";
						mes "How many Malangdo Cans for an Adventure Card?";
						next;
						mes "[Nyangson]";
						mes "Only one can, dear.";
						mes "Meow~";
						close2;
						break;
					}
					mes "[Homnya]";
					mes "Yes, please try it without blowing it up.";
					mes "Solve it fast!";
					next;
					mes "[Nyangson]";
					mes "Please do it.";
					delitem 12636,1; //Malang_Sp_Can
					getitem 6429,1; //Bravery_Card_B
					close2;
					break;
				case 2:
					cutin "mal_homnya_s",2;
					mes "[Homnya]";
					mes "Ah... Hey... You can't do that!";
					mes "Hey, don't go!";
					mes "Please stop this, Nyangson!";
					next;
					mes "[Nyangson]";
					mes "This and that one are all noisy!";
					mes "Please!";
					next;
					mes "The two young cats are sweating a lot.";
					close2;
					break;
				}
			}
			break;
		case 2:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "Ah... Hey... You can't do that!";
			mes "Hey, don't go!";
			mes "Please stop this, Nyangson!";
			next;
			mes "[Nyangson]";
			mes "This and that one are all noisy!";
			mes "Please!";
			next;
			mes "The two young cats are sweating a lot.";
			close2;
			break;
		}
	}
	cutin "",255;
	end;
}

malangdo,173,177,7	script	Friend of Detective#mal	559,{
	cutin "mal_homnya_n",2;
	mes "[Nyangson]";
	mes "I am a friend of Detective Homnya, Nyangson.";
	mes "Please ask Homnya if you have questions.";
	next;
	mes "[Homnya]";
	mes "Yes, he only goes 'yes, my friend' beside me!";
	mes "Ask me!";
	close2;
	cutin "",255;
	end;
}

malangdo,174,175,0	script	Noisy Machine#nya_13	844,{
	if (nyadven < 7) {
		mes "There is a strange machine.";
		mes "It has a Red, Blue, Yellow, and Green luminous body with buttons to react,";
		mes "while spinning with noisy sounds.";
		next;
		mes "It looks more unstable as it spins faster.";
		close;
	}
	if (checkquest(7249,PLAYTIME) == 0 || checkquest(7249,PLAYTIME) == 1) {
		mes "[Homnya]";
		mes "It's so motivated, but it's not time yet.";
		mes "Not yet, even though the machine is so noisy.";
		mes "Please come again.";
		next;
		mes "[Nyangson]";
		mes "We also have break time...";
		close;
	}
	if (countitem(6429) == 0) {
		mes "[Homnya]";
		mes "You can't try this without Adventure Card B.";
		mes "Please bring it with you.";
		close;
	}
	mes "There is a strange machine.";
	mes "It has a Red, Blue, Yellow, and Green luminous body with buttons to react,";
	mes "while spinning with noisy sounds.";
	next;
	mes "It looks more unstable as it spins faster.";
	next;
	cutin "mal_homnya_n",2;
	mes "[Homnya]";
	mes "Stop this machine by inserting the card into it!";
	next;
	mes "[Nyangson]";
	mes "Go ahead!";
	next;
	cutin "",255;
	if(select("Insert card.:Stop it.") == 2) {
		mes "[Homnya]";
		mes "Um? You aren't going to do this?";
		mes "Really?";
		mes "Even though this machine can blow up the whole island?!";
		next;
		mes "[Nyangson]";
		mes "Does he know it's never going to blow up?";
		next;
		mes "The two young cats are sweating a lot.";
		close;
	}
	mes "After inserting the card, discs on top of the machine spin faster...";
	mes "The lights begin to flicker faster too.";
	next;
	callsub L_ShowLights,2;
	callsub L_ShowLights,4;
	callsub L_ShowLights,6;
	callsub L_ShowLights,8;
	cutin "mal_homnya_n",2;
	mes "[Homnya]";
	mes "Oh, great!";
	mes "The banging has stopped!";
	mes "You have a good memory!";
	mes "Please take this small gift.";
	next;
	mes "[Nyangson]";
	mes "You can get it after you have been through all the difficulties from the Meow Advanture Team.";
	mes "And we are not sure if this machine will try to blow up agian, so please come again tomorrow.";
	if (nyadven == 7) {
		set nyadven,9;
		erasequest 7247;
	}
	delitem 6429,1; //Bravery_Card_B
	setquest 7249;
	getitem 6422,3; //Egrade_Coin
	getexp 20000,20000;
	next;
	if (nyadven == 9) {
		mes "[Homnya]";
		mes "Hey, there is good news for you.";
		mes "I received pretty good news while you struggled with that machine.";
		next;
		mes "[Nyangson]";
		mes "Hello, capable friend, what did you find?";
		mes "Is this something like hidden treasure?";
		next;
		mes "[Homnya]";
		mes "Hidden treasure?";
		mes "Very similar!";
		mes "It will be hidden in serveral places inside the cabin.";
		mes "You should find them!";
		next;
		switch(select("I feel tired of it now.:Oh, yes!")) {
		case 1:
			mes "[Homnya]";
			mes "Oh, really?";
			mes "If you feel tired then it's okay.";
			mes "Please come again, if you want.";
			next;
			mes "[Nyangson]";
			mes "Please come again~.";
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "I knew you would do this!";
			mes "I have the right eye for people.";
			mes "The place is inside of the ship Navi.";
			next;
			mes "[Nyangson]";
			mes "It will be fine because it isn't really a large place.";
			mes "I look forward to your active work!";
			set nyadven,10;
			setquest 7250;
			close2;
			break;
		}
	} else {
		mes "[Homnya]";
		mes "Then I am looking forward to tomorrow!";
		close2;
	}
	cutin "",255;
	end;

// callsub L_ShowLights,<number of lights>;
L_ShowLights:
	mes "Luminous";
	mes "The order of buttons are:";
	mes "[Red] [Green] [Blue] [Yellow]";
	mes "And below this, more buttons:";
	mes "[Green] [Red] [Yellow] [Blue]";
	mes "In that order.";
	next;
	mes "Luminous";
	setarray .@Color$[0],"Red","Blue","Yellow","Green";
	setarray .@Cutin$[0],"nya_red","nya_blue","nya_yellow","nya_green";
	for(set .@i,0; .@i<getarg(0); set .@i,.@i+1) {
		set .@rand, rand(4);
		set .@Lamp[.@i],.@rand;
		mes .@Color$[.@rand];
		if (.@i+1 == getarg(0))
			mes "Shines according to this order.";
		cutin .@Cutin$[.@rand],4;
		progressbar "0xFFFF00",1;
	}
	cutin "nya_off",4;
	mes "The buttons below are shining now.";
	mes "Stop the machine by pressing the right button within time.";
	next;
	set .@pass,0;
	setarray .@Count$[0],"first","second","third","fourth","fifth","sixth","seventh","eighth";
	for(set .@i,0; .@i<getarg(0); set .@i,.@i+1) {
		mes "Which color button do you want to press "+.@Count$[.@i]+"?";
		next;
		// Red <-> Green, Blue <-> Yellow
		set .@j, select("Red:Blue:Yellow:Green");
		if (.@Lamp[.@i] == 4-.@j)
			set .@pass,.@pass+1;
	}
	if (.@pass < getarg(0)) {
		mes "The speed of spinning is getting faster after pressing the buttons.";
		mes "After all...";
		specialeffect EF_BEGINSPELL6;
		emotion e_gasp,0,"Cat Detective#nya_14";
		emotion e_gasp,0,"Friend of Detective#mal";
		next;
		cutin "mal_homnya_s",2;
		mes "[Homnya]";
		mes "Watch out!!!";
		mes " ";
		mes "[Nyangson]";
		mes "It's blowing up!";
		specialeffect EF_FIREHIT;
		specialeffect EF_FIRESPLASHHIT;
		next;
		cutin "",255;
		mes "Adventure Card B burned off";
		mes "with a huge explosion.";
		delitem 6429,1; //Bravery_Card_B
		if (nyadven == 7)
			set nyadven,8;
		close;
	}
	mes "The speed of the spinning discs gets slower after pressing the buttons.";
	mes "The luminous shines once and stops also.";
	cutin "nya_off",4;
	next;
	if (getarg(0) < 8) {
		mes "[Homnya]";
		mes "Don't reduce your tension!";
		mes "It's not over yet!";
		next;
		mes "The machine starts again.";
		mes "And the luminous shines also, as if it keeps asking you for the right answer.";
		next;
	}
	return;
}

// callfunc "F_Mal_Picture",<quest ID>,<chance to kick?>,<description 1>,<description 2>,<description 3>;
// Returns:
// 1    - Player kicked.
// 2    - nyadven is not 10.
// 3    - Player has already found the picture piece.
// null - Success.
function	script	F_Mal_Picture	{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- You have too many items to proceed in this quest. -";
		close;
	}
	if (getarg(1) && rand(2))
		return 1;
	else if (nyadven != 10)
		return 2;
	else if (checkquest(getarg(0)) > -1)
		return 3;
	else {
		mes getarg(2);
		mes getarg(3);
		next;
		mes getarg(4);
		mes "You found a piece of the painting.";
		setquest getarg(0);
		getitem 6430,1; //Picture_Piece
		next;
		if (checkquest(7251) > -1 && checkquest(7252) > -1 && checkquest(7253) > -1 && checkquest(7254) > -1 && checkquest(7255) > -1 && checkquest(7256) > -1) {
			mes "It looks like you can put these pieces of paintings together.";
			mes "If I found all the pieces, I should go back to Homnya.";
			set nyadven,11;
			close;
		}
		mes "I think this is the treasure Homnya and Nyangson mentioned.";
		mes "Let's find more pieces.";
		close;
	}
}

mal_in02,187,45,0	script	Box#nya01	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7251,1,
		"There is an uncommon box in the corner of the cabin.",
		"It seems to tell me that it has a teasure inside.",
		"I can see a piece of paper sticking out."
	)) {
	case 1:
		mes "[Neat Crew]";
		mes "What are you doing here?!";
		mes "Don't touch that box any more!";
		mes "There will be more bugs if you keep hiding snacks in there!";
		mes "Get out!";
		close2;
		warp "mal_in02",138,60;
		end;
	case 2:
		mes "A box in the corner of the cabin.";
		close;
	case 3:
		mes "This is a box which used to contain a piece of the painting.";
		close;
	}
}

mal_in02,170,75,0	script	Book#nya02	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7252,1,
		"The books are organized according to order on the bookshelf.",
		"I try to take 1 book off carefully.",
		"I can see something sticking out among the books."
	)) {
	case 1:
		mes "[Neat Crew]";
		mes "Ah, do not touch it!";
		mes "Why do you keep messing it up after I clean up the room?!";
		mes "Get out!";
		close2;
		warp "mal_in02",138,60;
		end;
	case 2:
		mes "The books are organized according to order on the bookshelf.";
		close;
	case 3:
		mes "This is a book which used to contain a piece of the painting.";
		close;
	}
}

mal_in02,133,98,0	script	Dirty Bed#nya03	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7253,1,
		"This is a normal cabin for the crew.",
		"My eyes kept straying over to old bed in corner of the room.",
		"Something is hanging with furs below the bed."
	)) {
	case 1:
		mes "[Scary Crew]";
		mes "What are you doing here?";
		mes "Do not disturb me, and go away.";
		mes "Get out!";
		close2;
		warp "mal_in02",100,60;
		end;
	case 2:
		mes "It's dirty and smells like fish.";
		mes "There are a lot of furs from cats.";
		close;
	case 3:
		mes "This is dirty bed where a piece of the painting was hidden.";
		mes "There are a lot of furs from cats.";
		close;
	}
}

mal_in02,31,57,0	script	Seashell#nya04	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7254,0,
		"This cabin is large and clean, and it seems to for the captain.",
		"My eyes kept straying over to the seashell and conch for decoration in the corner of the room.",
		"There is a rolled up paper in the conch."
	)) {
	case 2:
		mes "There is a seashell decoration on a clean display cupboard.";
		close;
	case 3:
		mes "This is the seashell where a piece of the painting was hidden.";
		close;
	}
}

mal_in02,114,56,0	script	Ship Pillar#nya05	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7255,1,
		"This is one of pillars to bear out the ship.",
		"It has many nail marks as it has been through many cats.",
		"There is a folded piece of paper in the crack of the wooden wall."
	)) {
	case 1:
		mes "[Picky Crew]";
		mes "Is that you who scratched all the pillars in here?!";
		mes "Meow~~~~!!";
		mes "Get off from that pillar!";
		close2;
		warp "malangdo",170,160;
		end;
	case 2:
		mes "I can see the trace of a scratch.";
		mes "Pillars made from trees are originally good to hang, but scratched by nails.";
		close;
	case 3:
		mes "I can see the crack where a piece of the painting was hidden.";
		close;
	}
}

mal_in02,139,30,0	script	Ventilation Window#nya06	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7256,0,
		"This cabin is for the normal crew.",
		"There are many ventilation windows on the floor in this room.",
		"One of the windows opens with a clink, revealing a piece of paper."
	)) {
	case 2:
		mes "There are windows for ventilation on the floor.";
		mes "A cold wind comes from these windows.";
		mes "Why are ventilation windows set up on the floor?";
		close;
	case 3:
		mes "There are windows for ventilation on the floor.";
		mes "A piece of the painting was hung in there.";
		mes "Why are ventilation windows set up on the floor?";
		close;
	}
}

mal_in02,166,74,4	script	Neat Crew#nyaong01	555,{
	mes "[Neat Crew]";
	mes "Please clean up your stuff by yourself.";
	mes "Especially you guys getting dirty after we came to this island!";
	mes "Please throw the trash into the trash can.";
	next;
	mes "[Neat Crew]";
	mes "And you plucked every crop.";
	mes "Hmph. Please, let's leave it in its natural state.";
	next;
	mes "[Neat Crew]";
	mes "What are you looking at?";
	mes "Will you mess up here too?";
	mes "Meow?!";
	close;
}

mal_in02,132,95,5	script	Scary Crew#nyaong02	561,{
	mes "[Scary Crew]";
	mes "I try to be nice these days, and kids just take liberties with me.";
	mes "Will you too?";
	next;
	mes "[Scary Crew]";
	mes "They just come in and out, even the other person's room...";
	mes "It causes harm for sure.";
	close;
}

mal_in02,109,62,4	script	Picky Crew#nyaong03	545,{
	mes "[Picky Crew]";
	mes "Do not run in the hall!";
	mes "My fur falls out because of someone who";
	mes "scratches everywhere!";
	close;
}

// Archangel Wing Enchants :: enc_angel
//============================================================
malangdo,234,153,6	script	Notice Board#mal	837,{
	mes "^0000FFThere's a hastily written message on this bulletin board.^000000";
	next;
	mes "A fallen angel within will unlock a hidden enchantment to Archangel Wings.";
	close;
}

mal_in01,15,16,3	script	Fallen Angel#mal	403,{
	disable_items;
	if (checkweight(1201,1) == 0) {
		mes "You are carrying too many items, please reduce them and come back!";
		close;
	}
	if (MaxWeight - Weight < 10000) {
		mes "You have overweight, please reduce it and come back!";
		close;
	}
	if (getequipid(EQI_GARMENT) == 2573) {
		if (Zeny >= 1000000)
			set .@menu$, "Enchant Archangel Wing";
		else
			set .@menu$, "^999999You do not have enough zeny!^000000";
	} else
		set .@menu$, "^999999You have not equipped the Archangel Wing!^000000";
	mes "[Fallen Angel]";
	mes "You seem like a poor guy!";
	next;
	mes "[Fallen Angel]";
	mes "If you have an Archangel Wing, I will enchant my capability into the useless 4th slot. Would you like me to do so?";
	next;
	switch(select("What is that?:"+.@menu$+":Enchant Initialization")) {
	case 1:
		switch(select("Stop speaking:What are you going to do?")) {
		case 1:
			mes "[Fallen Angel]";
			mes "What did you say?";
			close;
		case 2:
			mes "[Fallen Angel]";
			mes "I can enchant my capability into your Archangel Wing if you pay 1,000,000 zeny. But you can't enchant it again without resetting it.";
			next;
			mes "[Fallen Angel]";
			mes "The enchantment is dangerous, so ^ff0000the wing might be damaged^000000! Nevertheless, my good blessing will retain the ^0000ffcard and refine level^0000ff!";
			close;
		}
	case 2:
		if (Zeny < 1000000) {
			mes "[Fallen Angel]";
			mes "I can't do it if you can't pay!";
			close;
		}
		mes "[Fallen Angel]";
		mes "There are 2 important notices. First, the enchantment requires ^0000ff1,000,000 zeny^000000.";
		next;
		mes "[Fallen Angel]";
		mes "Second, ^ff0000although the rate is not high, the Archangel Wing might be damaged^000000! This is very unlucky!";
 		mes "If you can accept these conditions, I will enchant the wing for you.";
		next;
		if(select("Let me consider...:I accept, let's enchant!") == 1) {
			mes "[Fallen Angel]";
			mes "Ok! Take your time to consider!";
			close;
		}
		specialeffect2 EF_REPAIRWEAPON;
		progressbar "ffff00",2;
		if (getequipisequiped(EQI_GARMENT) == 0) {
			mes "[Fallen Angel]";
			mes "The Archangel Wing has been taken out!";
			close;
		}
		if (getequipid(EQI_GARMENT) != 2573) {
			mes "[Fallen Angel]";
			mes "Don't take off the item!";
			close;
		}
		if (getequipcardid(EQI_GARMENT,3)) {
			mes "[Fallen Angel]";
			mes "This Archangel Wing is enchanted! Please initialize it or bring another Archangel Wing for me!";
			close;
		}
		set .@equip_refine, getequiprefinerycnt(EQI_GARMENT);
		setarray .@equip_card[0], getequipcardid(EQI_GARMENT,0),getequipcardid(EQI_GARMENT,1),getequipcardid(EQI_GARMENT,2);

		set .@i, rand(1,900);
		     if (.@i < 2)   set .@enchant,4848; //Immuned1
		else if (.@i < 3)   set .@enchant,4849; //Cranial1
		else if (.@i < 4)   set .@enchant,4852; //Heal_Amount5
		else if (.@i < 9)   set .@enchant,4853; //S_Str
		else if (.@i < 14)  set .@enchant,4854; //S_Agi
		else if (.@i < 19)  set .@enchant,4855; //S_Vital
		else if (.@i < 24)  set .@enchant,4856; //S_Int
		else if (.@i < 29)  set .@enchant,4857; //S_Dex
		else if (.@i < 34)  set .@enchant,4858; //S_Luck
		else if (.@i < 39)  set .@enchant,4851; //Heal_Amount4
		else if (.@i < 49)  set .@enchant,4850; //Heal_Amount3
		else if (.@i < 74)  set .@enchant,4760; //Matk1
		else if (.@i < 84)  set .@enchant,4761; //Matk2
		else if (.@i < 109) set .@enchant,4817; //Sharp2
		else if (.@i < 119) set .@enchant,4816; //Sharp3
		else if (.@i < 144) set .@enchant,4814; //Spell2
		else if (.@i < 154) set .@enchant,4813; //Spell3
		else if (.@i < 179) set .@enchant,4833; //Expert_Archer2
		else if (.@i < 189) set .@enchant,4834; //Expert_Archer3
		else if (.@i < 214) set .@enchant,4810; //Fighting_Spirit2
		else if (.@i < 224) set .@enchant,4809; //Fighting_Spirit3
		else if (.@i < 259) set .@enchant,4701; //Strength2
		else if (.@i < 294) set .@enchant,4731; //Agility2
		else if (.@i < 329) set .@enchant,4721; //Dexterity2
		else if (.@i < 364) set .@enchant,4741; //Vitality2
		else if (.@i < 399) set .@enchant,4751; //Luck2
		else if (.@i < 434) set .@enchant,4711; //Inteligence2
		else if (.@i < 504) set .@enchant,4700; //Strength1
		else if (.@i < 574) set .@enchant,4730; //Agility1
		else if (.@i < 644) set .@enchant,4720; //Dexterity1
		else if (.@i < 714) set .@enchant,4740; //Vitality1
		else if (.@i < 784) set .@enchant,4750; //Luck1
		else if (.@i < 854) set .@enchant,4710; //Inteligence1
		else set .@enchant,0;

		set Zeny, Zeny - 1000000;
		delequip EQI_GARMENT;
		if (.@enchant == 0) {
			mes "[Fallen Angel]";
			mes "Be merciful to the survivor,";
			mes "Send flowers to the dead.";
			next;
			mes "[Fallen Angel]";
			mes "Help for justice,";
			mes "Elimination of evil.";
			next;
			mes "[Fallen Angel]";
			mes "But the important point is... the Archangel Wing is damaged!";
			close;
		}
		getitem2 2573,1,1,.@equip_refine,0,.@equip_card[0],.@equip_card[1],.@equip_card[2],.@enchant; //Archangel_Wing
		if (.@i < 4)
			announce strcharinfo(0)+" has enchanted Archangel Wing with amazing capability!",bc_all,0xFF0000,FW_NORMAL,10;
		mes "[Fallen Angel]";
		mes "Take it!";
		mes "I believe that you will become the dominator of the new world!";
		close;
	case 3:
		mes "[Fallen Angel]";
		mes "Initialization requires ^0000ff3 units of Silvervine Fruit^000000. The wing will not be damaged except for the enchanted capability.";
		next;
		if(select("Let me consider...:Ok, I want initialize it.") == 1) {
			mes "[Fallen Angel]";
			mes "Ok! Take your time to consider!";
			close;
		}
		specialeffect2 EF_REPAIRWEAPON;
		progressbar "ffff00",2;
		if (getequipisequiped(EQI_GARMENT) == 0) {
			mes "[Fallen Angel]";
			mes "The Archangel Wing has been taken out!";
			close;
		}
		if (getequipid(EQI_GARMENT) != 2573) {
			mes "[Fallen Angel]";
			mes "Oh... you have unequipped the Archangel Wing!";
			close;
		}
		if (countitem(6417) < 3) {
			mes "[Fallen Angel]";
			mes "I can't do it if you can't pay!";
			close;
		}
		if (getequipcardid(EQI_GARMENT,3) < 4700) { // Armor Enchant System
			mes "[Fallen Angel]";
			mes "This equipment has not been enchanted, please check it again!";
			close;
		}
		set .@equip_refine, getequiprefinerycnt(EQI_GARMENT);
		setarray .@equip_card[0], getequipcardid(EQI_GARMENT,0),getequipcardid(EQI_GARMENT,1),getequipcardid(EQI_GARMENT,2);
		delequip EQI_GARMENT;
		getitem2 2573,1,1,.@equip_refine,0,.@equip_card[0],.@equip_card[1],.@equip_card[2],0; //Archangel_Wing
		mes "[Fallen Angel]";
		mes "Take it!";
		close;
	}
}
