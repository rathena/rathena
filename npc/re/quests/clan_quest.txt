//===== rAthena Script =======================================
//= Clan Quests
//===== Description: =========================================
//= [Official Conversion]
//--- Quest NPCs for Clans
//===== Changelogs: ==========================================
//= 1.0 First version. [Atemo]
//============================================================

// Sword Clan quest - Step 1
prontera,32,325,5	script	Ripan Olarbil#sdclan01	4_F_LAPERM,{
	if (checkweight(1304,3) == 0) {
		mes "[Ripan Olarbil]";
		mes "You need so many things!";
		mes "Aren't you heavy?";
		next;
		mes "[Ripan Olarbil]";
		mes "Please come back after lightening up!";
		close;
	}
	if (getcharid(5) != SWORDCLAN) {
		mes "[Ripan Olarbil]";
		mes "Aren't you a member of the Sword Clan?";
		mes "Please join the Sword Clan first and come back!";
		next;
		mes "[Ripan Olarbil]";
		mes "I'll wait for you!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	// Weekly quest
	switch( checkquest(14316,PLAYTIME) ) {
	case -1:
		break;
	case 0:
	case 1:
		mes "[Ripan Olarbil]";
		mes "You here again?";
		mes "Do you want to accept the request again?";
		next;
		mes "[Ripan Olarbil]";
		mes "Practical experience and settlement are still important, but rest and recharge are also important.";
		mes "Take a good rest first and come back later!";
		close;
	case 2:
		callsub( S_Start, 14316 );	// Start hunting quest and remove playtime quest
	}
	if (isbegin_quest(14315) == 1) {	// Result of hunting for BaseLevel >= 120
		callsub( S_Completed, 14315, 6855, 22719 );

		if ($13_sd_clan_q < 50) {
			getitem 6849,1;	// Request_Complete
			getexp 1714000,0;
		}
		else if ($13_sd_clan_q < 150) {
			getitem 6849,2;	// Request_Complete
			getexp 2228200,0;
		}
		else if ($13_sd_clan_q < 200) {
			getitem 6849,3;	// Request_Complete
			getexp 3180000,0;
		}
		else {
			getitem 6849,4;	// Request_Complete
			getexp 3400000,0;
		}
		end;
	}
	if (isbegin_quest(14314) == 1) {	// Result of hunting for BaseLevel < 120
		callsub( S_Completed, 14314, 6854, 22720 );

		if ($13_sd_clan_q < 50) {
			getitem 6849,1;	// Request_Complete
			if (BaseLevel < 70)
				getexp 11000,0;
			else if (BaseLevel < 100)
				getexp 540000,0;
			else
				getexp 1714000,0;
		}
		else if ($13_sd_clan_q < 150) {
			getitem 6849,2;	// Request_Complete
			if (BaseLevel < 70)
				getexp 15000,0;
			else if (BaseLevel < 100)
				getexp 702000,0;
			else
				getexp 2228200,0;
		}
		else if ($13_sd_clan_q < 200) {
			getitem 6849,3;	// Request_Complete
			if (BaseLevel < 70)
				getexp 20000,0;
			else if (BaseLevel < 100)
				getexp 918000,0;
			else
				getexp 3180000,0;
		}
		else {
			getitem 6849,4;	// Request_Complete
			if (BaseLevel < 70)
				getexp 23000,0;
			else if (BaseLevel < 100)
				getexp 1080000,0;
			else
				getexp 3400000,0;
		}
		end;
	}
	if (isbegin_quest(14313) == 2) {	// First time weekly quest
		callsub( S_Start, 0 );
	}

	// Main quest
	if (isbegin_quest(14313) == 1) {	// step 26
		mes "[Ripan Olarbil]";
		mes "I've heard it!";
		mes "You cleared away all the leftovers!";
		next;
		mes "[Ripan Olarbil]";
		mes "Thank you for your hard work!";
		mes "The residue has been cleared away and you can rest assured.";
		next;
		mes "[Ripan Olarbil]";
		mes "At present, the remaining scum are being transferred to prison.";
		mes "Thank you for your hard work.";
		next;
		mes "[Ripan Olarbil]";
		mes "Can you come here more often in the future?";
		mes "There are many things to be entrusted.";
		next;
		mes "[Ripan Olarbil]";
		mes "You go back and rest first!";
		mes "Thank you very much!";
		close2;
		completequest 14313;
		if (BaseLevel < 70)
			getexp 23000,0;
		else if (BaseLevel < 111)
			getexp 1080000,0;
		else
			getexp 2400000,0;
		end;
	}
	if (isbegin_quest(14312) == 1) {
		mes "[Ripan Olarbil]";
		mes "It seems that the cleanup has not been completed yet.";
		mes "Of course, I know that this is not an easy task.";
		next;
		mes "[Ripan Olarbil]";
		mes "But sooner or later they have to be eliminated!";
		mes "So please grab them all!";
		close;
	}
	if (isbegin_quest(14311) == 2) {	// step 24
		mes "[Ripan Olarbil]";
		mes "You came just in time!";
		mes "We have found clues about the suspect who stole animals last time.";
		next;
		mes "[Ripan Olarbil]";
		mes "Have you heard of ^0000cd'Rune Midgard Liberation Front'^000000?";
		mes "Perhaps you don't know, because the guerrillas were disintegrated before they could grow stronger.";
		next;
		mes "[Ripan Olarbil]";
		mes "They were dissatisfied with the royal family and nobles, and recruited uninformed people to seek revenge.";
		mes "Their leader was very capable, so he had many followers.";
		next;
		mes "[Ripan Olarbil]";
		mes "The hero who defeated the guerrillas was our ^0000cdClan leader^000000.";
		mes "We are a team that came together to defeat that group.";
		next;
		mes "[Ripan Olarbil]";
		mes "Most of them were arrested or released during the raid, but unfortunately the leaders and core members escaped.";
		mes "After being quiet for a while, they recently gathered together again to plan something.";
		next;
		mes "[Ripan Olarbil]";
		mes "Among them, ^0000cdPanettiere^000000 is the suspect who released the animals, remember?";
		mes "He was also the one who sold the strange animal feed to Jaid.";
		next;
		mes "[Ripan Olarbil]";
		mes "Originally, Panettiere was a young man who loved animals, but one day when he was walking in the forest, he was bitten in the vital parts by the deer raised by the prince.";
		next;
		mes "[Ripan Olarbil]";
		mes "Although the prince gave a lot of consolation money, Panettiere felt desperate and decided to take revenge.";
		next;
		mes "[Ripan Olarbil]";
		mes "He infected the animals with a virus and then released them secretly, with Jaid's animals being the first to be affected.";
		mes "However, the small-scale inference is only in the experimental stage.";
		next;
		mes "[Ripan Olarbil]";
		mes "This time, the search team was sent to track down the whereabouts of Panettiere, and they happened to find the base of the remnants of the 'Rune Midgard Liberation Front'.";
		next;
		mes "[Ripan Olarbil]";
		mes "If you walk on the road too much at night, you will leave traces.";
		next;
		mes "[Ripan Olarbil]";
		mes "According to intelligence, another terrorist act is being planned.";
		mes "Since my face has been exposed, I have no choice but to ask you for help.";
		next;
		mes "[Ripan Olarbil]";
		mes "We have seized the base, and we hope you can capture them all.";
		mes "They are not far away of ^0000cdIzlude Island, in a secret place on the 4th floor^000000.";
		next;
		mes "[Ripan Olarbil]";
		mes "They set up the same base camp in the caves of Izlude,";
		mes "In the future, it is also possible to establish a base in Prontera to conduct simulated training for terrorist operations.";
		next;
		mes "[Ripan Olarbil]";
		mes "We must stop them before that happens!";
		mes "You can start a base camp cleanup mission with other colleagues, please be sure to stop them!";
		close2;
		setquest 14312;
		end;
	}
	if (isbegin_quest(14311) == 1) {	// step 23
		mes "[Ripan Olarbil]";
		mes "Thanks for your hard work,";
		mes "Jaid came here just now.";
		mes "There is still much to investigate.";
		next;
		mes "[Ripan Olarbil]";
		mes "By the way, what happened in Aldebaran?";
		next;
		mes "[Tell the Clan leader what happened in Aldebaran]";
		next;
		mes "[Ripan Olarbil]";
		mes "Actually... He escaped from surveillance by disguising himself, right?";
		mes "I didn't expect he was quite capable.";
		next;
		mes "[Ripan Olarbil]";
		mes "No need to blame yourself,";
		mes "It's all my fault for underestimating him.";
		next;
		mes "[Ripan Olarbil]";
		mes "He may not be an ordinary thief.";
		mes "I'll send out a search party to investigate.";
		mes "Your mission ends here.";
		next;
		mes "[Ripan Olarbil]";
		mes "Come back next time when you have time.";
		mes "Maybe I have something else for you.";
		mes "Thank you for your hard work during this period.";
		close2;
		completequest 14311;
		if (BaseLevel < 70)
			getexp 23000,0;
		else if (BaseLevel < 111)
			getexp 1080000,0;
		else
			getexp 2400000,0;
		end;
	}
	if (isbegin_quest(14310) == 1 || isbegin_quest(14309) == 1) {
		mes "[Ripan Olarbil]";
		mes "Has the subpoena been served to Jaid?";
		mes "Move faster.";
		close;
	}
	if (isbegin_quest(14308) == 1) {	// step 20
		mes "[Ripan Olarbil]";
		mes "Have you seen Eddie?";
		mes "What did she say?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ask me to say hello to you..";
		next;
		mes "[Ripan Olarbil]";
		mes "Is that all?";
		mes "Really?";
		next;
		mes "[Tell the Clan leader about Eddie's experiment and her suggestions]";
		next;
		mes "[Ripan Enya]";
		mes "..confirmed that Jaid had fed animals with ^0000cdsuspicious feed^000000!";
		mes "First, understand what the purpose of feeding them with drug is.";
		next;
		mes "[Ripan Olarbil]";
		mes "Even if there is no malicious intent, this behaviour is suspicious, so we cannot just leave it alone.";
		next;
		mes "[Ripan Olarbil]";
		mes "Feeding without inspection and application is a serious matter.";
		next;
		mes "[Ripan Olarbil]";
		mes "^0000cdHas the subpoena been given to Jaid^000000?";
		mes "I'll have to ask him personally for the details.";
		next;
		mes "[Ripan Olarbil]";
		mes "And bring the people in ^0000cdAldebaran^000000,";
		mes "Although he did not succeed, he admitted that he wanted to steal, so further investigation is needed.";
		next;
		mes "[Ripan Olarbil]";
		mes "I have sent someone to monitor him.";
		mes "Saying I was disappointed could be a lie.";
		next;
		mes "[Ripan Olarbil]";
		mes "That has already been explained.";
		mes "You'd better go and bring the person here.";
		next;
		mes "[Ripan Olarbil]";
		mes "Please excuse me~";
		close2;
		erasequest 14308;
		setquest 14309;
		end;
	}
	if (isbegin_quest(14307) == 1 || isbegin_quest(14306) == 1 || isbegin_quest(14305) == 1) {
		mes "[Ripan]";
		mes "Did you see Eddie? He went to Yuno and never saw her again.";
		close;
	}
	if (isbegin_quest(14304) == 1) {	// step 17
		mes "[Ripan Olarbil]";
		mes "You are back safely!";
		mes "Found any useful clues?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I found this after searching the suspicious feed trough.";
		next;
		mes "[Ripan Olarbil]";
		mes "This is...?";
		mes "Is that the document found in the feed trough at Jaid's house?";
		next;
		mes "[Ripan Olarbil]";
		mes "It looks like some kind of ^0000cdddrug-making method^000000,";
		mes "But it's hard to tell from this alone.";
		mes "What to do?";
		next;
		mes "[Ripan Olarbil]";
		mes "Ah! I remembered someone who could help solve the problem.";
		mes "It's the ^0000cdresearcher^000000 whom I knew before. She should be able to explain what this file is.";
		next;
		mes "[Ripan Olarbil]";
		mes "Her name is Eddie, and she lives in...";
		mes "Well.. it's a place with many schools and museums..";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Yuno?";
		next;
		mes "[Ripan Olarbil]";
		mes "Yes! Yuno!! How could I forget?";
		mes "She was at a school in ^0000cdYuno^000000,";
		mes "say I know you and handed the document to her.";
		next;
		mes "[Ripan Olarbil]";
		mes "Please give her my regards!";
		close2;
		erasequest 14304;
		setquest 14305;
		end;
	}
	if (isbegin_quest(14303) == 1 || isbegin_quest(14302) == 1) {
		mes "[Ripan]";
		mes "Have you search for Jaid's home?";
		mes "What are the results?";
		close;
	}
	if (isbegin_quest(14301) == 1) {	// step 13
		mes "[Ripan Olarbil]";
		mes "Are you back?";
		mes "Are things going well?";
		next;
		mes "[Tell him that the animal was released intentionally and the suspect who released the animal may be hiding in Aldebaran. ]";
		next;
		mes "[Ripan Olarbil]";
		mes "Um.. Really?";
		mes "No wonder many people said they saw some animals.";
		mes "There have even been incidents of animals attacking people.";
		next;
		mes "[Ripan Olarbil]";
		mes "It can be concluded that it was an animal that escaped from that farm.";
		mes "But the animals that Jaid raised were all very docile, how could they become violent? It's very suspicious...";
		next;
		mes "[Ripan Olarbil]";
		mes "The suspect said that Jaid seemed to feed the animals suspicious feed, right?";
		mes "Although we cannot trust everything the suspect says, we should still investigate it.";
		next;
		mes "[Ripan Olarbil]";
		mes "Because what is happening now is really hard to explain.";
		mes "Need to secretly collect evidence without Jaid's knowledge.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Why do it secretly?";
		next;
		mes "[Ripan Olarbil]";
		mes "We can't just listen to the suspect's words and conduct a massive investigation!";
		mes "If the suspect is deliberately creating confusion, the credibility of the association will be undermined.";
		next;
		mes "[Ripan Olarbil]";
		mes "So you must act cautiously and low-key.";
		mes "You need to secretly search^0000cdJaid's house^000000 to find clues.";
		next;
		mes "[Ripan Olarbil]";
		mes "I have sent someone in Aldebaran, go quickly!";
		close2;
		erasequest 14301;
		setquest 14302;
		end;
	}
	if (isbegin_quest(14300) == 1 || isbegin_quest(14299) == 1 || isbegin_quest(14298) == 1 || isbegin_quest(14297) == 1 || isbegin_quest(14296) == 1 || isbegin_quest(14295) == 1 || isbegin_quest(14294) == 1 || isbegin_quest(14293) == 1 || isbegin_quest(14292) == 1 || isbegin_quest(14132) == 1) {
		mes "[Ripan]";
		mes "You look tired.";
		mes "Is the task difficult?";
		next;
		mes "[Ripan Olarbil]";
		mes "Please try harder!";
		close;
	}
	if (isbegin_quest(14124) == 1) {
		mes "[Ripan]";
		mes "Uh? You haven't left yet?";
		mes "Jaid is waiting for you!";
		close;
	}
	if (isbegin_quest(14124) == 0) {	// step 1
		mes "[Ripan Olarbil]";
		mes "Ah!! " + .@player_name$ + ", you are finally here!";
		mes "I've been waiting for you to come to me!";
		next;
		mes "[Ripan Olarbil]";
		mes "We ^0000cdSword Clan^000000 are affiliated with the kingdom, right?";
		mes "The kingdom hopes that the members of the Clan can help the people solve difficult and complicated problems.";
		next;
		mes "[Ripan Olarbil]";
		mes "So I want to entrust you with something this time, is that okay?";
		mes "Are you busy? If not, it would be a good opportunity to gain experience.";
		next;
		if (select( "OK! I'll try it", "I'm busy" ) == 2) {
			mes "[Ripan Olarbil]";
			mes "Yeah? Okay then!";
			mes "Come back next time when you are free!";
			close;
		}
		mes "[Ripan Olarbil]";
		mes "Great! Let me take a look.. Ah! This request is suitable for you!";
		next;
		mes "[Ripan Olarbil]";
		mes "Do you like ^0000cdanimals^000000?";
		next;
		switch( select( "Like!", "Dislike..." ) ) {
		case 1:
			mes "[Ripan Olarbil]";
			mes "Sure enough~ This is the best thing for you!";
			break;
		case 2:
			mes "[Ripan Olarbil]";
			mes "Hmm... is that okay? I don't know how to interact with animals directly, so I'll take this opportunity to gain experience and give it a try!";
			break;
		}
		next;
		mes "[Ripan Olarbil]";
		mes "It is said that all the animals kept by Jaid who lived near Geffen ran away overnight!";
		mes "So I wanted to investigate this matter.";
		next;
		mes "[Ripan Olarbil]";
		mes "In fact, I have encountered similar requests before, and most of the animals escaped due to negligence of management.";
		mes "Maybe this time too..";
		next;
		mes "[Ripan Olarbil]";
		mes "But Jaid said that someone deliberately let the animals go.";
		mes "So I hope to meet him in person and ask him in more detail.";
		next;
		mes "[Ripan Olarbil]";
		mes "If what Jaid said is true, the suspect must be found.";
		mes "If the animals are captured, other farmers may also be affected.";
		next;
		mes "[Ripan Olarbil]";
		mes "Please go to ^0000cdJaid^000000's home to meet Jaid,";
		mes "<NAVI>^4D4DFF[Jaid]^000000<INFO>gef_fild05,198,251,</INFO></NAVI>'s home is located here.";
		close2;
		setquest 14124;
		end;
	}
	mes "[Ripan Olarbil]";
	mes "It hasn't been peaceful lately..";
	mes "What to do?";
	close;

S_Start:
	.@quest_id = getarg(0);
	.@player_name$ = strcharinfo(0);

	if (.@quest_id != 0) {
		mes "[Ripan Olarbil]";
		mes "You came at the right time.";
		mes "Are you here to accept a request?";
		next;
		mes "[Ripan Olarbil]";
		mes "The request is the same as before,";
		mes "As I mentioned last time, ^0000cdmonsters needed for research^000000 are always needed.";
		next;
		mes "[Ripan Olarbil]";
	}
	else {
		mes "[Ripan Olarbil]";
		mes "You came at the right time.";
		mes "How is your health?";
		next;
		mes "[Ripan Olarbil]";
		mes "The matter that was resolved last time...";
		mes "It appears to have been caused by an escaped animal.";
		next;
		mes "[Ripan Olarbil]";
		mes "It also includes the ^0000cdmutated monster^000000,";
		mes "so the biologists want to conduct experiments to develop a vaccine.";
		next;
		mes "[Ripan Olarbil]";
		mes "Are you willing to accept the request?";
		next;
		if (select( "Leave it to me!", "I'm a little tired now" ) == 2) {
			mes "[Ripan Olarbil]";
			mes "Really? Sorry!";
			mes "I thought this was the best thing for you.";
			next;
			mes "[Ripan Olarbil]";
			mes "Come back next time when you need me!";
			close;
		}
		mes "[Ripan Olarbil]";
		mes "Very good!";
		mes "You, " + .@player_name$ + ", are the best person for this.";
		next;
		mes "[Ripan Olarbil]";
		mes "Then let me tell you in detail!";
		mes "I just said that research requires monsters.";
	}
	next;
	mes "[Ripan Olarbil]";
	mes "The researchers need monsters that have not yet mutated.";
	mes "And infected monsters need to be eliminated to prevent the spread.";
	next;
	if (BaseLevel < 120) {
		mes "[Ripan Olarbil]";
		mes "I'll give you a " + getitemname(22720) + " to catch ^0000cd" + getmonsterinfo("NOVUS", MOB_NAME) + "^000000!";
		mes "I heard that " + getmonsterinfo("NOVUS", MOB_NAME) + " has not been infected yet, so I want to develop a vaccine through them.";
		next;
		mes "[Ripan Olarbil]";
		mes "The researcher said that they need ^0000cd70^000000 ea,";
		if (.@quest_id != 0)
			mes "And infected monsters need to be eliminated to prevent the spread.";
		else {
			mes "Do you know how to use the " + getitemname(22720) + "? Double-click the item first and then click the monster you want to catch. Of course, you may fail.";
			next;
			mes "[Ripan Olarbil]";
			mes "And infected monsters need to be eliminated to prevent the spread.";
		}
		mes "Let me take a look.. The most serious thing is..";
		mes "" + getmonsterinfo("C4_ANACONDAQ", MOB_NAME) + " and " + getmonsterinfo("GALION", MOB_NAME) + ".";
		next;
		mes "[Ripan Olarbil]";
		mes "Among the venomous snakes, the " + getmonsterinfo("C4_ANACONDAQ", MOB_NAME) + " is the most important. It is said that it will even eat its own kind!";
		mes "The same is true for " + getmonsterinfo("GALION", MOB_NAME) + ".";
		next;
		mes "[Ripan Olarbil]";
		mes "Go and kill ^0000cd30 " + getmonsterinfo("C4_ANACONDAQ", MOB_NAME) + " and 100 " + getmonsterinfo("GALION", MOB_NAME) + "^000000. Come on!";
		mes "I think it shouldn't be easy.";
		next;
		mes "[Ripan Olarbil]";
		mes "Good luck!";
		close2;
		if (.@quest_id != 0) {
			erasequest 14316;
			setquest 14314;
			getitem 22720,50;	// Ball_Novus
		}
		else {
			setquest 14314;
			getitem 22720,100;	// Ball_Novus
		}
		end;
	}
	mes "[Ripan Olarbil]";
	mes "I'll give you the " + getitemname(22719) + " to catch ^0000cd" + getmonsterinfo("TATACHO", MOB_NAME) + "^000000! I heard that " + getmonsterinfo("TATACHO", MOB_NAME) + " has not been infected yet,";
	mes "so I want to develop a vaccine through them.";
	next;
	mes "[Ripan Olarbil]";
	mes "The researcher said that they need ^0000cd70^000000 ea,";
	mes "And infected monsters need to be eliminated to prevent the spread.";
	next;
	mes "[Ripan Olarbil]";
	mes "Let me take a look.. The most serious thing is..";
	mes "^0000cd150 " + getmonsterinfo("PINGUICULA_D", MOB_NAME) + "^000000, so it's not an easy job?";
	next;
	mes "[Ripan Olarbil]";
	mes "The symptoms of infection in specific plants are recorded here, and the disease has spread to other plants...";
	mes "It's more serious than you might think.";
	next;
	mes "[Ripan Olarbil]";
	mes "I think it shouldn't be easy.";
	mes "Good luck!";
	close2;
	if (.@quest_id != 0) {
		erasequest 14316;
		setquest 14315;
		getitem 22719,50;	// Ball_Tatacho
	}
	else {
		setquest 14315;
		getitem 22719,100;	// Ball_Tatacho
	}
	end;

S_Completed:
	.@quest_id = getarg(0);
	.@egg = getarg(1);
	.@hunting_ball = getarg(2);
	.@player_name$ = strcharinfo(0);

	mes "[Ripan Olarbil]";
	mes "Have you completed all the requests? Is everything going well?";
	mes "Let me confirm the quantity.";
	next;
	if (checkquest(.@quest_id,HUNTING) != 2 || countitem(.@egg) < 70) {
		if (countitem(.@egg) < 70 && countitem(.@hunting_ball) < 1) {
			mes "[Ripan Olarbil]";
			mes "Are you running out of " + getitemname(.@hunting_ball) + "?";
			mes "That's not easy to catch, right?";
			next;
			mes "[Ripan Olarbil]";
			mes "I'll give you some more, please keep going!";
			close2;
			getitem .@hunting_ball,50;
			end;
		}
		mes "[Ripan Olarbil]";
		mes "Is the work not yet done?";
		mes "Didn't you forget the request?";
		next;
		mes "[Ripan Olarbil]";
		if (.@quest_id == 14315)
			mes "Capture ^0000cd70 " + getmonsterinfo("TATACHO", MOB_NAME) + " needed for vaccine research and kill 150 " + getmonsterinfo("PINGUICULA_D", MOB_NAME) + "^000000.";
		else {
			mes "Capture ^0000cd70 " + getmonsterinfo("NOVUS", MOB_NAME) + " and 30 " + getmonsterinfo("C4_ANACONDAQ", MOB_NAME) + "^000000 needed for vaccine research.";
			mes "By the way, there are 100 ^0000cd" + getmonsterinfo("GALION", MOB_NAME) + "^000000.";
		}
		next;
		mes "[Ripan Olarbil]";
		mes "Then keep working hard!";
		close;
	}
	mes "[Ripan Olarbil]";
	mes "All the requested tasks have been completed!";
	mes "Wow! What a neat and efficient job!";
	next;
	mes "[Ripan Olarbil]";
	mes "It was the right choice to let you do it.";
	mes "My vision is indeed very accurate.";
	next;
	mes "[Ripan Olarbil]";
	mes "I hope to continue cooperating with you next time. I think you are very reliable.";
	mes "Then you should recharge your battery first!";
	next;
	mes "[Ripan Olarbil]";
	mes "See you next time~";
	close2;
	delitem .@hunting_ball, countitem(.@hunting_ball);
	delitem .@egg, countitem(.@egg);
	erasequest .@quest_id;
	setquest 14316;
	return;
}

// Sword Clan quest - Step 2
gef_fild05,198,251,5	script	Jaid#sdclan01	1_M_JOBGUIDER,{
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14310) == 1) {
		mes "[Jaid]";
		mes "Humph! You still dare to come?";
		mes "You have done me a disservice!";
		mes "I don't want to see you go away!";
		close;
	}
	if (isbegin_quest(14309) == 1) {	// step 21
		mes "[Jaid]";
		mes "Are you here?";
		mes "Has the suspect been caught?";
		mes "And what about my animals?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "The suspect's identity has been determined.";
		mes "I'm here to serve you a subpoena today.";
		next;
		mes "[Jaid]";
		mes "What? A subpoena?";
		mes "Why did you give me a subpoena?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I heard you fed the animals lethal food.";
		mes "As a result, the animals became abnormal and began to attack humans.";
		next;
		mes "[Jaid]";
		mes "It turns out there is something wrong with the feed!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Do you have a problem with the feed?";
		next;
		mes "[Jaid]";
		mes "I didn't do that on purpose!";
		mes "One day a businessman tried to sell me that feed, saying that animals would not get sick and would be healthier after eating it.";
		next;
		mes "[Jaid]";
		mes "It's just that the animals suddenly became very violent!";
		mes "But I don't know why it became like this.";
		next;
		mes "[Jaid]";
		mes "If I had known there was something wrong with the feed, I wouldn't have fed it!";
		mes "I'm not a fool!";
		mes "Isn't it?";
		next;
		mes "[Jaid]";
		mes "Would anyone with a little common sense feed it?";
		mes "Right?";
		next;
		mes "[Jaid]";
		mes "I am also a victim, why do you want to arrest me?";
		mes "It's outrageous!";
		next;
		mes "[Jaid]";
		mes "Do you know who I am?";
		mes "I know the royals very well!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I suggest you go and seek justice!";
		mes "I'm just here to hand it over to you!";
		next;
		mes "[Jaid]";
		mes "You dare to return my subpoena?";
		mes "We'll see!!!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "The subpoena has been forwarded. Now go to ^0000cdAldebaran^000000 to catch the thief!";
		close2;
		erasequest 14309;
		setquest 14310;
		end;
	}
	if (isbegin_quest(14304) == 1) {
		mes "[Jaid]";
		mes "When will the compensation be paid?";
		mes "Will the pension be paid together?";
		next;
		mes "[Jaid]";
		mes "Go quickly and come back soon!";
		close;
	}
	if (isbegin_quest(14303) == 1) {	// step 16
		if (countitem(6851) < 1) {
			mes "[Jaid]";
			mes "Hmm. Damaged lock and fence...";
			mes "Chickens... 58... Let's write 60!";
			mes "Pigs... 73... it would be better to change it to 83.";
			close;
		}
		mes "[Jaid]";
		mes "All the documents here are signed!";
		mes "You take it with you!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah! Now it is not necessary.";
		mes "I just realized I've already applied.";
		next;
		mes "[Jaid]";
		mes "Now that it's signed, take it with you.";
		mes "Never mind.. I'll leave the rest to you.";
		close2;
		erasequest 14303;
		setquest 14304;
		end;
	}
	if (isbegin_quest(14302) == 1) {	// step 14
		mes "[Jaid]";
		mes "Are you here? Have you caught the suspect?";
		mes "And what about my animals?";
		next;
		mes "[Jaid]";
		mes "Someone must have opened the lock and stolen it, right?";
		mes "Oh my god! My loss, where's the suspect?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Please calm down. We are still investigating.";
		mes "I have a few more things to investigate so I came over again.";
		next;
		mes "[Jaid]";
		mes "Why does it take so long to check? The efficiency is very poor...";
		mes "Ah! You thought I didn't say that? Haha!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "......";
		mes "Please cooperate with the investigation.";
		next;
		mes "[Jaid]";
		mes "What are you going to investigate?";
		mes "You've seen it all, it's true!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Really? Which...";
		mes "Please fill in some information on these documents as a formal investigation is required.";
		next;
		mes "[Jaid]";
		mes "I have to write again...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Such as the date of injury, circumstances, amount of loss, etc.";
		mes "Otherwise, you won't get any compensation when you catch the suspect!";
		next;
		mes "[Jaid]";
		mes "Really?";
		mes "Then I'll write it right away!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Name, address, date of injury, circumstances, amount of loss, etc. must be filled in in detail.";
		next;
		mes "[Jaid]";
		mes "OK, I will fill it out in detail.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Jaid was concentrating on writing the document. Let's take this opportunity^0000cd to investigate the surroundings again^000000!";
		close2;
		erasequest 14302;
		setquest 14303;
		end;
	}
	if (isbegin_quest(14294) == 1 || isbegin_quest(14292) == 1 || isbegin_quest(14293) == 1 || isbegin_quest(14132) == 1) {
		mes "[Jaid]";
		mes "Was it really stolen? Where are my animals? Has the suspect been caught? If so, please notify me!!";
		close;
	}
	if (isbegin_quest(14124) == 1) {	// step 2
		mes "[Jaid]";
		mes "Who is it? I'm really upset right now, please don't bother me, okay?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I am here on a request.";
		next;
		mes "[Jaid]";
		mes "Ah? Ah?? Ah???? ";
		mes "Ah.. Ah.. Ah..";
		mes "Ah......";
		next;
		mes "[Jaid]";
		mes "Is that you?";
		mes "I'm waiting for you!";
		mes "Would you like a drink?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "No, what's going on?";
		next;
		emotion ET_CRY;
		mes "[Jaid]";
		mes "Woo woo woo~~~";
		mes "Listen to me!!!";
		next;
		mes "[Jaid]";
		mes "I really love animals and take good care of them.";
		mes "I feed them the best feed and take extra good care of them when they are sick.";
		next;
		mes "[Jaid]";
		mes "I also bought some precious herbs to feed the animals not long ago!";
		next;
		mes "[Jaid]";
		mes "After taking care of it for a long time...";
		mes "As a result, all the animals were stolen last night.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Is the fence lock broken?";
		mes "It seems to have happened last time.";
		next;
		emotion ET_HUK;
		mes "[Jaid]";
		mes "Me? I won't lie!";
		mes "Since the last time an animal escaped, I changed to a super strong and unbreakable lock!";
		next;
		mes "[Jaid]";
		mes "Look! Someone has taken the entire ^0000cddoor latch^000000 away!";
		mes "It must have been stolen!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I understand. Calm down first.";
		mes "Let me check out the animal den first.";
		close2;
		erasequest 14124;
		setquest 14132;
		end;
	}
	mes "[Jaid]";
	mes "This time the loss is huge..?";
	mes "I'm going bankrupt!";
	close;
}

// Sword Clan quest - Step 3
gef_fild05,213,276,4	script	Suspicious Footprints#sdclan01	4_CRACK,{
	if (isbegin_quest(14294) == 1) |(isbegin_quest(14293) == 1 || isbegin_quest(14292) == 1) {
		mes "[Suspicious Footprints]";
		mes "We have searched here thoroughly,";
		mes "let's look somewhere else!";
		close;
	}
	if (isbegin_quest(14132) == 1) {
		mes "[Suspicious Footprints]";
		mes "Found the broken lock.";
		mes "It seems to be man-made destruction. What Jaid said is true.";
		mes "The floor was covered with animal prints.";
		next;
		mes "[Suspicious Footprints]";
		mes "<NAVI>^4D4DFF[Human footprints]^000000<INFO>gef_fild05,253,256,</INFO></NAVI> was found between the animal footprints.";
		mes "Follow the footprints!";
		close2;
		erasequest 14132;
		setquest 14292;
		end;
	}
	mes "[Suspicious Footprints]";
	mes "Found some very suspicious footprints.";
	close;
}

// Sword Clan quest - Step 4
gef_fild05,253,256,4	script	Suspicious Footprints#sdclan02	4_CRACK,{
	if (isbegin_quest(14294) == 1 || isbegin_quest(14293) == 1) {
		mes "[Suspicious Footprints]";
		mes "We have searched here thoroughly,";
		mes "let's look somewhere else!";
		close;
	}
	if (isbegin_quest(14292) == 1) {
		mes "[Suspicious Footprints]";
		mes "The footprints that had been extending forward were interrupted.";
		mes "Look for footprints nearby!";
		close2;
		erasequest 14292;
		setquest 14293;
		end;
	}
	mes "[Suspicious Footprints]";
	mes "Found some very suspicious footprints.";
	close;
}

// Sword Clan quest - Step 5
gef_fild05,297,271,4	script	Suspicious Footprints#sdclan03	4_CRACK,{
	if (isbegin_quest(14294) == 1) {
		mes "[Suspicious Footprints]";
		mes "We have searched here thoroughly,";
		mes "let's look somewhere else!";
		close;
	}
	if (isbegin_quest(14293) == 1) {
		mes "[Suspicious Footprints]";
		mes "^0000cdThe footprints in the mud^000000 are very obvious,";
		mes "Keep following the <NAVI>^4D4DFF[footprints]^000000<INFO>gef_fild05,326,315,</INFO></NAVI>!";
		close2;
		erasequest 14293;
		setquest 14294;
		end;
	}
	if (isbegin_quest(14292) == 1 || isbegin_quest(14132) == 1) {
		mes "[Suspicious Footprints]";
		mes "Found some very suspicious footprints.";
		close;
	}
	mes "[Suspicious Footprints]";
	mes "Found some very suspicious footprints.";
	close;
}

// Sword Clan quest - Step 6
gef_fild05,326,315,4	script	Suspicious Footprints#sdclan04	4_CRACK,{
	if (isbegin_quest(14295) == 1) {
		mes "[Suspicious Footprints]";
		mes "The footprints extend towards Aldebaran.";
		mes "You may find clues in ^0000cdAldebaran^000000.";
		close;
	}
	if (isbegin_quest(14294) == 1) {
		mes "[Suspicious Footprints]";
		mes "Found some faint footprints. Is this the receipt from the Aldebaran store?";
		mes "The suspect should have come from ^0000cdAldebaran^000000 and then returned.";
		next;
		mes "[Suspicious Footprints]";
		mes "You may find clues in ^0000cdAldebaran^000000.";
		close2;
		erasequest 14294;
		setquest 14295;
		end;
	}
	mes "[Suspicious Footprints]";
	mes "Found some very suspicious footprints.";
	close;
}

// Sword Clan quest - Step 7
aldebaran,144,59,4	script	Villager#sdclan01	4_M_TUFFOLD,{
	if (isbegin_quest(14296) == 1) {
		mes "[Truman]";
		mes "Did you find Frank?";
		mes "Did he say he would come and clean it?";
		close;
	}
	if (isbegin_quest(14295) == 1) {
		.@player_name$ = strcharinfo(0);
		mes "[Truman]";
		mes "What if I clean every day?";
		mes "I can never clean it thoroughly!";
		next;
		mes "[Truman]";
		mes "Young people these days don't know how to clean!";
		mes "I'm not a cleaner.";
		next;
		mes "[Truman]";
		mes "How come this thing can't be wiped off?";
		mes "It's so hard to wipe off the mud once it dries!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Please ask!";
		next;
		mes "[Truman]";
		mes "Please take off your shoes before coming in.";
		mes "It's dirty, I have to wipe it off!";
		next;
		mes "[Truman]";
		mes "I heard a ^0000cdmud feet^000000 sound last night. Was it you?";
		mes "It was you who left the muddy footprints, wasn't it?";
		next;
		mes "[Truman]";
		mes "Eh? The feet are clean! Who is it then?";
		mes "Is it Frank? It has to be him!!";
		next;
		mes "[Truman]";
		mes "Every time I come back, I leave footprints!";
		mes "Then you have to wipe it clean!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "He seems to be the person I'm looking for. Where is he?";
		next;
		mes "[Truman]";
		mes "Huh? Frank?";
		mes "What do you want Frank for?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "In the performance of official duties.";
		next;
		mes "[Truman]";
		mes "Really? If you find Frank, tell him he's dead!";
		next;
		mes "[Truman]";
		mes "Frank is just ahead, turn left, then right, then right and then left again!";
		next;
		mes "[Truman]";
		mes "But at this time, we should be at the east dock^0000cd repairing the ship^000000!";
		mes "Let's go there!";
		close2;
		erasequest 14295;
		setquest 14296;
		end;
	}
	mes "[Truman]";
	mes "What if I clean every day?";
	mes "I can never clean it thoroughly!";
	close;
}

// Sword Clan quest - Step 8
aldebaran,219,135,1	script	Villager#sdclan02	4_M_SEAMAN,{
	if (isbegin_quest(14296) != 1) {
		mes "[Frank]";
		mes "Can we catch fish today?";
		mes "Can we catch any fish tomorrow?";
		mes "I hope I can catch it, even if the boat sinks~";
		close;
	}
	.@player_name$ = strcharinfo(0);

	mes "[Frank]";
	mes "Can we catch fish today?";
	mes "Can we catch any fish tomorrow?";
	mes "I hope I can catch it, even if the boat sinks~";
	next;
	mes "[Frank]";
	mes "It is really unfair to only be able to report a few ships every day.";
	mes "Why not convert it into a sightseeing boat to make money!";
	next;
	mes "[" + .@player_name$ + "]";
	mes "Are you Frank?";
	next;
	mes "[Frank]";
	mes "Who are you?";
	next;
	mes "[" + .@player_name$ + "]";
	mes "I am currently investigating on a request and would like to ask you something. ";
	next;
	mes "[Frank]";
	mes "Is there any money to take?";
	next;
	mes "[" + .@player_name$ + "]";
	mes "No, someone broke the lock in the Gypsy Village last night and stole all the animals.";
	mes "Following the muddy footprints, we arrived at Aldebaran.";
	next;
	mes "[Frank]";
	mes "Then what?";
	next;
	mes "[" + .@player_name$ + "]";
	mes "When I asked the villagers at the intersection, they said Frank often stepped on mud.";
	mes "So let's confirm.";
	next;
	mes "[Frank]";
	mes "Who? Who said that? Was it Truman?";
	mes "He wants to mess with me all day long!";
	next;
	mes "[Frank]";
	mes "When I finished my work on the boat, they asked me to do rough work before I even had time to polish my shoes.";
	next;
	mes "[Frank]";
	mes "But I also need to rest.";
	mes "When I came over after polishing my shoes in the morning, he had already sorted it out!";
	next;
	mes "[Frank]";
	mes "I didn't hurt him, did I?";
	mes "Where is he? I'm going to find him!";
	next;
	mes "[" + .@player_name$ + "]";
	mes "Please calm down...";
	mes "Where were you yesterday?";
	next;
	mes "[Frank]";
	mes "Yesterday? It rained and blew all day yesterday so I stayed at home!";
	mes "The ship can't sail if the weather is bad, right?";
	next;
	mes "[" + .@player_name$ + "]";
	mes "That's right!";
	next;
	mes "[Frank]";
	mes "Hmm? Yesterday...";
	mes "Wanting to know if it would be sunny tomorrow, I peeked outside.";
	next;
	mes "[Frank]";
	mes "Then a stranger passed by me.";
	mes "He looked like he had been beaten, his clothes were torn and his legs were injured. He was very suspicious.";
	next;
	mes "[" + .@player_name$ + "]";
	mes "Where did he go?";
	next;
	mes "[Frank]";
	mes "Don't you even know this?";
	mes "Where can outsiders go at night?";
	mes "Only at ^0000cdhotel^000000 right?";
	next;
	mes "[Frank]";
	mes "Young people these days have no common sense, alas!";
	close2;
	erasequest 14296;
	setquest 14297;
	end;
}

// Sword Clan quest - Step 9
aldeba_in,83,59,4	script	Innkeeper#sdclan01	1_M_INNKEEPER,{
	if (isbegin_quest(14298) == 1) {
		mes "[Innkeeper]";
		mes "The personal information of the customers cannot be disclosed!";
		mes "If you don't want to stay, please leave!";
		close;
	}
	if (isbegin_quest(14297) == 1) {
		.@player_name$ = strcharinfo(0);
		mes "[Innkeeper]";
		mes "There's dust again!";
		mes "Betty! Didn't I tell you to keep it spotless?";
		next;
		mes "[Innkeeper]";
		mes "Ah! There are guests.";
		mes "If you want to check in, please go to the counter.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I'm not here to stay, I just want to ask you something.";
		mes "Did a person with a broken leg come to stay here yesterday?";
		next;
		mes "[Innkeeper]";
		mes "Why are you asking?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I am on official business.";
		next;
		mes "[Innkeeper]";
		mes "How can I trust you to provide the personal information of my customers?";
		mes "It is impossible to provide it before bringing the official document!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Please assist in the investigation.";
		next;
		mes "[Innkeeper]";
		mes "No matter who comes, without official documents, there is no qualification.";
		mes "Go ahead!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "......";
		close2;
		erasequest 14297;
		setquest 14298;
		end;
	}
	mes "[Innkeeper]";
	mes "There's dust again!";
	mes "Betty! Didn't I tell you to keep it spotless?";
	close;
}

// Sword Clan quest - Step 10, 11
aldeba_in,98,43,3	script	Hotel staff#sdclan01	1_F_PUBGIRL,5,5,{
	if (isbegin_quest(14299) == 1) {	// step 11
		if (countitem(970) != 1 || countitem(7116) != 22 || countitem(1042) != 33 || countitem(7013) != 44 || countitem(7106) != 55) {
			mes "[Betty]";
			mes "Haven't collected the materials yet?";
			mes "Go quickly and come back soon!";
			mes "The proprietress is impatient.";
			next;
			mes "[Betty]";
			mes "It is ^0000cd1 " + getitemname(970) + ", 22 " + getitemname(7116) + ", 33 " + getitemname(1042) + ", 44 " + getitemname(7013) + ", 55 " + getitemname(7106) + "^000000.";
			mes "The quantity must be correct and it must be delivered quickly!!!";
			close;
		}
		// in this case the quantities must be exact
		mes "[Betty]";
		mes "Wow! That's just the right amount.";
		mes "Things were handled very well~";
		next;
		mes "[Betty]";
		mes "Our hotel is looking for new people, do you want one?";
		mes "Do you want to work with me?";
		next;
		mes "[Betty]";
		mes "I'm kidding...";
		mes "Ha ha..";
		next;
		mes "[Betty]";
		mes "You're looking for someone, right?";
		mes "The person you are looking for is lying upstairs.";
		next;
		mes "[Betty]";
		mes "He was a guest who had come to stay overnight and looked very embarrassed.";
		mes "So the boss lady collected the money first...";
		next;
		mes "[Betty]";
		mes "Not only were his clothes torn, but he also had injuries all over his body, and he was smelly and covered in hair.";
		mes "I thought it was a monster!";
		next;
		mes "[Betty]";
		mes "Not being chased away is good enough.";
		mes "My boss's wife is a kind-hearted person.";
		next;
		mes "[Betty]";
		mes "I was the unlucky one.";
		mes "There was a lot of mud and hair on the floor!";
		mes "Horrible!";
		next;
		mes "[Betty]";
		mes "After the guests left, there was still a lot of things to do.";
		mes "Life is so hard!";
		mes "I also want to make a lot of money and open a store quickly.";
		next;
		mes "[Betty]";
		mes "Please go to ^0000cd2nd floor^000000!";
		mes "He woke up when the food was delivered just now.";
		next;
		mes "[Betty]";
		mes "It was not something that could be disclosed casually.";
		mes "I'm telling you this especially because you helped me.";
		next;
		mes "[Betty]";
		mes "Go now!";
		close2;
		delitem 970,1;	// Alchol
		delitem 7116,22;	// Harpy's_Claw
		delitem 1042,33;	// Short_Leg
		delitem 7013,44;	// Coral_Reef
		delitem 7106,55;	// Goat's_Horn
		erasequest 14299;
		setquest 14300;
		end;
	}
	if (isbegin_quest(14298) == 1) {	// step 10
		.@player_name$ = strcharinfo(0);

		mes "[Betty]";
		mes "You're looking for someone, right?";
		mes "It's the boy with a broken leg, torn clothes, and mud all over his body, right?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "That's right..";
		mes "Where is he?";
		next;
		mes "[Betty]";
		mes "It's not difficult to sue you, but first^0000cd help me^000000,";
		mes "Isn't it nice to help each other?";
		next;
		mes "[Betty]";
		mes "How about helping each other?";
		mes "You help me first, then I will help you.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "All right!";
		next;
		mes "[Betty]";
		mes "What I need help with is simple.";
		mes "Help me share some of the work today.";
		next;
		mes "[Betty]";
		mes "Look at that lady boss.";
		mes "He never does anything and just leaves everything to me.";
		next;
		mes "[Betty]";
		mes "He said he wanted to make an anti-wrinkle facial cleanser and asked me to collect the materials.";
		next;
		mes "[Betty]";
		mes "It's outrageous that he asked me to do his personal affairs in addition to his official duties.";
		next;
		mes "[Betty]";
		mes "I only have this one thing left to do.";
		mes "Just don't want to get my new shoes dirty, so...";
		next;
		mes "[Betty]";
		mes "That's right!";
		mes "The materials to bring are ^0000cd1 " + getitemname(970) + ", 22 " + getitemname(7116) + ", 33 " + getitemname(1042) + ", 44 " + getitemname(7013) + ", 55 " + getitemname(7106) + "^000000.";
		mes "The quantity must be correct!";
		next;
		mes "[Betty]";
		mes "The boss lady is very picky, the quantity must be correct!";
		mes "Thank you for your help!";
		close2;
		erasequest 14298;
		setquest 14299;
		end;
	}
	mes "[Betty]";
	mes "If you want to stay overnight, please find the landlady over there!";
	close;

OnTouch:
	if (isbegin_quest(14298) == 1) {
		mes "[Betty]";
		mes "Please wait a moment.";
		mes "Can I help you?";
		close;
	}
	end;
}

// Sword Clan quest - Step 12
aldeba_in,91,116,1	script	Moaning boy#sdclan	4_M_DIEMAN,{
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14310) == 1) {	// step 22
		mes "[Unknown man]";
		mes "You're finally here?";
		mes "Can I leave now?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Oh? Not the same person from last time? Who are you?";
		mes "Where have the people who were here gone?";
		next;
		mes "[Unknown man]";
		mes "That boy?";
		mes "He told me to lie down here then he^0000cd disappeared^000000,";
		mes "How long will I lie down?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ran away..";
		mes "You can go now.";
		next;
		mes "[Unknown man]";
		mes "Very good,";
		mes "I'm about to get bedsores from lying down for too long.. Oh oh???";
		next;
		mes "[Unknown man]";
		mes "Oops!";
		mes "I've been lying down for too long and my body can't move!";
		mes "Help me!";
		close2;
		erasequest 14310;
		setquest 14311;
		end;
	}
	if (isbegin_quest(14301) == 1) {
		mes "[Moaning boy]";
		mes "Woo woo woo..";
		mes "I said I wouldn't move until the carriage came!!";
		close;
	}
	if (isbegin_quest(14300) == 1) {	// step 12
		mes "[Moaning boy]";
		mes "Woohoo.. Woohoo..";
		mes "Woohoo...";
		mes "I shouldn't have done that..";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Torn clothes, bitten wounds, muddy soles, animal hair all over the body...";
		mes "The shoes he was wearing matched the previous footprints.";
		next;
		mes "[Moaning boy]";
		mes "Give me water..";
		mes "Water..!!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Get up and take a look.";
		mes "Did you steal animals from the Glamour Village yesterday?";
		next;
		mes "[Moaning boy]";
		mes "What? I didn't.";
		mes "That's a misunderstanding.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "What do you say about this bite mark?";
		mes "And someone said they saw you yesterday.";
		next;
		mes "[Moaning boy]";
		mes "It's a misunderstanding, it's all a misunderstanding!";
		mes "I didn't steal....";
		next;
		mes "[Moaning boy]";
		mes "Oh~ I am so wronged~";
		mes "It's unfair~";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Don't cry, speak slowly.";
		next;
		mes "[Moaning boy]";
		mes "I... I just wanted to steal one or two.";
		mes "I didn't intend to steal all of them..";
		next;
		mes "[Moaning boy]";
		mes "The animals... once the lock was unlocked... their expressions all changed...";
		mes "They all bit me, stepped on me, and then ran away.";
		next;
		mes "[Moaning boy]";
		mes "When I came to my senses, there was only an empty nest and I was covered in wounds!";
		mes "I am really wronged!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I really wanted to steal.";
		mes "Anyway, because all your animals have run away, you have to go with me.";
		next;
		mes "[Moaning boy]";
		mes "Ouch~ It's unfair, sir~";
		mes "I'm seriously injured and can't walk.";
		next;
		mes "[Moaning boy]";
		mes "Isn't it just me who made mistakes?";
		mes "Have you seen those animals? They are very strange!";
		next;
		mes "[Moaning boy]";
		mes "Domestic animals aren't usually too rough, are they? But look how badly I'm hurt!";
		mes "Not only do the animals have strange eyes, but they also fight each other?";
		next;
		mes "[Moaning boy]";
		mes "It must be because they were fed an unusual diet.";
		mes "I saw a suspicious feeding trough ^0000cdthat was emitting a foul smell near the nest^000000!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I'll investigate that, just follow me!";
		next;
		mes "[Moaning boy]";
		mes "I'm almost dying~ Where do you want me to go?";
		mes "I won't move until you take me away in a carriage!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Hmm.. what to do?";
		next;
		mes "[Moaning boy]";
		mes "I can't walk anyway, let's get a carriage!";
		mes "I don't want to hide anymore.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "All right!";
		mes "You are waiting for me, I will be back soon.";
		close2;
		erasequest 14300;
		setquest 14301;
		end;
	}
	mes "[Moaning boy]";
	mes "Woo.. Woo..";
	mes "Woo woo woo..";
	close;
}

// Sword Clan quest - Step 13
// prontera,32,325,5	script	Ripan Olarbil#sdclan01	4_F_LAPERM,{

// Sword Clan quest - Step 14
// gef_fild05,198,251,5	script	Jaid#sdclan01	1_M_JOBGUIDER,{

// Sword Clan quest - Step 15
gef_fild05,221,260,4	script	Suspicious feed troughs#sdclan01	HIDDEN_NPC,{
	.@player_name$ = strcharinfo(0);

	if (checkweight(1304,3) == 0) {
		mes "[" + .@player_name$ + "]";
		mes "It is inconvenient to have a backpack that is too full.";
		mes "It needs to be lightened up a bit.";
		close;
	}
	if (isbegin_quest(14303) != 1) {
		mes "[" + .@player_name$ + "]";
		mes "There is a suspicious feeding trough,";
		mes "It smells so bad, best not to get close.";
		close;
	}
	if (countitem(6851) > 0) {
		mes "[" + .@player_name$ + "]";
		mes "I have found everything I need to find in this feeding trough.";
		mes "The taste is not good, leave now!";
		close;
	}
	mes "[" + .@player_name$ + "]";
	mes "This is the feed trough the suspect mentioned.";
	mes "Reach in and see if there are any clues!";
	next;
	.@r = rand(1,10);
	if (.@r < 3) {
		mes "[" + .@player_name$ + "]";
		mes "I caught a piece of ^0000cdpaper^000000,";
		mes "I'm going to take it away secretly.";
		close2;
		getitem 6851,1;	// Suspicious_Paper
		end;
	}
	mes "[" + .@player_name$ + "]";
	mes "My hands touched something sticky.";
	mes "Even though it's disgusting, keep looking!";
	close;
}

// Sword Clan quest - Step 16
// gef_fild05,198,251,5	script	Jaid#sdclan01	1_M_JOBGUIDER,{

// Sword Clan quest - Step 17
// prontera,32,325,5	script	Ripan Olarbil#sdclan01	4_F_LAPERM,{

// Sword Clan quest - Step 18
yuno_in03,183,37,2	script	Eddie#sdclan01	4_F_SCIENCE,{
	if (checkweight(1304,3) == 0) {
		mes "[Eddie]";
		mes "You brought too many things!";
		mes "Don't you think it's too heavy?";
		next;
		mes "[Eddie]";
		mes "Please come back after lightening up!";
		close;
	}
	if (isbegin_quest(14306) == 1 || isbegin_quest(14307) == 1) {	// step 19
		if (isbegin_quest(14307) == 1)
			.@extra_check = (countitem(7511) < 1 || countitem(7100) < 50);

		if (countitem(937) < 20 || countitem(7154) < 20 || countitem(7119) < 80 || countitem(708) < 3 || countitem(621) < 1 || .@extra_check) {
			mes "[Eddie]";
			mes "Well.. let me take a look..";
			mes "Insufficient materials?";
			mes "Look again to see if it is missing.";
			next;
			mes "[Eddie]";
			mes "20 ^0000cd" + getitemname(937) + ", " + getitemname(7154) + ", ^000000 each";
			mes "^0000cd80 " + getitemname(7119) + ", 3 " + getitemname(708) + ", 1 " + getitemname(621) + "^000000.";
			if (isbegin_quest(14307) == 1) {
				next;
				mes "[Eddie]";
				mes "I also need 1 ^0000cd" + getitemname(7511) + " and 50 " + getitemname(7100) + "^000000.";
				mes "Could you please bring them?";
			}
			next;
			mes "[Eddie]";
			mes "This way I can follow suit and figure out what to feed,";
			mes "thank you~";
			close;
		}
		mes "[Eddie]";
		mes "Coming back so soon?";
		mes "Then I'll have to make a quick decision too.";
		next;
		mes "[Eddie]";
		mes "If you put it like this... like that... and see the reaction...";
		mes "Ha..";
		next;
		mes "[Eddie]";
		mes "What if it is done like this?";
		mes "Ah! So this is the reaction..";
		next;
		mes "[Eddie]";
		mes "Well.. This is something dangerous as expected. It is not stable at the moment. If it continues...";
		mes "Simply put, it is a drug that causes animals to behave abnormally.";
		next;
		mes "[Eddie]";
		mes "If it is added to feed and eaten by animals,";
		mes "they will easily attack others and eat everything nearby.";
		next;
		mes "[Eddie]";
		mes "If an infected animal escapes, ..";
		mes "All the money must be recovered before the damage expands.";
		next;
		mes "[Eddie]";
		mes "Ripan should have handled it properly,";
		mes "I didn't expect someone would abuse it like this, that smart brain was used in the wrong place...";
		next;
		mes "[Eddie]";
		mes "You should inform Ripan first!";
		mes "Tell him I miss him~";
		close2;
		delitem 937,20;	// Posionous_Canine
		delitem 7154,20;	// Poison_Powder
		delitem 7119,80;	// Spawns
		delitem 708,3;	// Ment
		delitem 621,1;	// Bitter_Herb
		if (isbegin_quest(14306) == 1)
			erasequest 14306;
		else {
			delitem 7100,50;	// Sharp_Leaf
			delitem 7511,1;	// Rune_Of_Darkness
			erasequest 14307;
		}
		setquest 14308;
		end;
	}
	if (isbegin_quest(14305) == 1) {	// step 18
		.@player_name$ = strcharinfo(0);

		mes "[Eddie]";
		mes "One drop, this drop determines my fate..!";
		mes "Be careful.. Be careful.. Be careful again..";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Excuse me..";
		next;
		mes "~ BANG!!!!! ~";
		next;
		mes "[Eddie]";
		mes "Wow!!!!";
		mes "One month of my hard work!";
		mes "My achievements!!!";
		mes "A moment!!!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Because of me?";
		mes "Sorry!";
		next;
		mes "[Eddie]";
		mes "Who are you!! You are dead!!!!!";
		next;
		mes "[Eddie]";
		mes "Oh oh!";
		if (Sex == SEX_FEMALE)
			mes "It's a beauty!";
		else
			mes "It's a handsome guy!";
		next;
		mes "[Eddie]";
		mes "It doesn't matter..";
		mes "This... this little thing is nothing...";
		mes "Just work hard for another month.. it's a piece of cake, hehe!";
		next;
		mes "[Eddie]";
		mes "Hey-hey!";
		mes "What's up?";
		next;
		mes "[Eddie]";
		mes "How did you end up in this gloomy laboratory?";
		mes "How can I help you?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "It was Ripan who introduced me here.";
		mes "Something happened to the animals this time...";
		next;
		mes "[Eddie]";
		mes "Is that Ripan? Is Ripan okay?";
		mes "Is he doing well?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Hmm? Yes.. Yes..";
		mes "I am currently serving as the Clan Leader and asked me to say hello.";
		next;
		mes "[Eddie]";
		mes "Wow~ Ripan greets me?";
		mes "If you were introduced by Ripan, I will do my best to help!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Thanks...";
		mes "Please take a look at this document.";
		next;
		mes "[Eddie]";
		mes "Uh-huh..";
		mes "Poison.. Mycelium.. Hmm..";
		next;
		mes "[Eddie]";
		mes "Are you researching drugs or virus variants?";
		next;
		mes "[Tells Eddie the whole story about the weird animals and the strange food the farm owner feeds them. ]";
		next;
		mes "[Eddie]";
		mes "So is it just speculation?";
		mes "It would be best if there were some feed samples so I can give it a try.";
		next;
		mes "[Eddie]";
		mes "Could you please bring the materials needed to make the sample?";
		mes "Fortunately, these are all materials that are easy to obtain.";
		next;
		mes "[Eddie]";
		mes "20 ^0000cdPoison Fang, Poison Powder,^000000 each";
		mes "^0000cd80 Mycelium, 3 Mante Flower, 1 Bitter Grass.^000000";
		next;
		if (BaseLevel < 101) {
			mes "[Eddie]";
			mes "This way I can follow suit and figure out what to feed,";
			mes "thank you~";
			close2;
			if (countitem(6851) > 0)
				delitem 6851,1;	// Suspicious_Paper
			erasequest 14305;
			setquest 14306;
			end;
		}
		mes "[Eddie]";
		mes "I also need 1 ^0000cdDark Rune and 50 Sharp Leaves^000000.";
		mes "Could you please bring them?";
		next;
		mes "[Eddie]";
		mes "This way I can follow suit and figure out what to feed,";
		mes "thank you~";
		close2;
		if (countitem(6851) > 0)
			delitem 6851,1;	// Suspicious_Paper
		erasequest 14305;
		setquest 14307;
		end;
	}
	mes "[Eddie]";
	mes "Even a drop of... must be measured,";
	mes "This is the result of my one month work.";
	close;
}

// Sword Clan quest - Step 19
// yuno_in03,183,37,2	script	Eddie#sdclan01	4_F_SCIENCE,{

// Sword Clan quest - Step 20
// prontera,32,325,5	script	Ripan Olarbil#sdclan01	4_F_LAPERM,{

// Sword Clan quest - Step 21
// gef_fild05,198,251,5	script	Jaid#sdclan01	1_M_JOBGUIDER,{

// Sword Clan quest - Step 22
// aldeba_in,91,116,1	script	Moaning boy#sdclan	4_M_DIEMAN,{

// Sword Clan quest - Step 23
// prontera,32,325,5	script	Ripan Olarbil#sdclan01	4_F_LAPERM,{

// Sword Clan quest - Step 24
// prontera,32,325,5	script	Ripan Olarbil#sdclan01	4_F_LAPERM,{

// Sword Clan quest - Step 25 - instance : Remnant's Base Camp
// iz_dun03,30,170,6	script	Goalkeeper#dunclan02	4_M_RASWORD,{

// Sword Clan quest - Step 26
// prontera,32,325,5	script	Ripan Olarbil#sdclan01	4_F_LAPERM,{


// Crossbow Clan quest - Step 1
prontera,204,259,4	script	Shanglumi#cbclan01	4_F_SHAM,{
	if (checkweight(1304,3) == 0) {
		mes "[Shanglumi]";
		mes "You mentioned so many things!";
		mes "Aren't you heavy??";
		next;
		mes "[Shanglumi]";
		mes "Please come back after lightening up!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (getcharid(5) != CROSSBOWCLAN) {
		mes "[Shanglumi]";
		mes "Aren't you a member of our Crossbow Clan?";
		mes "Please join our Crossbow Clan first before coming back!";
		next;
		mes "[Shanglumi]";
		mes "I will wait for you!";
		close;
	}

	// Weekly quest
	switch( checkquest(14466,PLAYTIME) ) {
	case -1:
		if (isbegin_quest(14329) == 1 || isbegin_quest(14328) == 1) {
			mes "[Shanglumi]";
			mes "Did you bring the original manuscript?";
			mes "Really fast action?";
			next;
			mes "[Shanglumi]";
			mes "There shouldn't be any missing ones, right?";
			mes "I will count them clearly!";
			next;
			mes "[Shanglumi]";
			mes "Let me take a look..";
			next;
			if (countitem(6856) < 111) {
				mes "[Shanglumi]";
				mes "Oh..Oh oh..!! Oh!!!";
				mes "I knew it would be like this~~";
				next;
				mes "[Shanglumi]";
				mes "You think I can't count if there are so many?";
				mes "I am a very picky person.";
				next;
				mes "[Shanglumi]";
				mes "^0000cd111 " + getitemname(6856) + "^000000,";
				mes "Bring the right amount!";
				next;
				mes "[Shanglumi]";
				mes "I'm about to get angry!";
				close;
			}
			mes "[Shanglumi]";
			mes "Oh..Oh oh..!! Oh!!!";
			mes "I knew it would be like this~~";
			next;
			mes "[Shanglumi]";
			mes "I have a good eye for people!";
			mes "The action is fast, accurate and very reliable.";
			next;
			mes "[Shanglumi]";
			mes "I'm going to hand it over to the publisher, you can go and have a rest!";
			mes "Sorry to bother you next time!";
			close2;
			delitem 6856, countitem(6856);	// Blood_Pus_Script
			if (isbegin_quest(14328) > 0)
				erasequest 14328;
			if (isbegin_quest(14329) > 0)
				erasequest 14329;
			setquest 14466;
			if (BaseLevel < 120) {
				if ($13_cb_clan_q < 50) { // 10%
					getitem 6849,1;	// Request_Complete
					if (BaseLevel < 70)
						getexp 11000,0;
					else if (BaseLevel < 100)
						getexp 540000,0;
					else
						getexp 1714000,0;
				}
				else if ($13_cb_clan_q < 150) { // 13%
					getitem 6849,2;	// Request_Complete
					if (BaseLevel < 70)
						getexp 15000,0;
					else if (BaseLevel < 100)
						getexp 702000,0;
					else
						getexp 2228200,0;
				}
				else if ($13_cb_clan_q < 200) { // 17%
					getitem 6849,3;	// Request_Complete
					if (BaseLevel < 70)
						getexp 20000,0;
					else if (BaseLevel < 100)
						getexp 918000,0;
					else
						getexp 3180000,0;
				}
				else { // 20%
					getitem 6849,4;	// Request_Complete
					if (BaseLevel < 70)
						getexp 23000,0;
					else if (BaseLevel < 100)
						getexp 1080000,0;
					else
						getexp 3400000,0;
				}
			}
			else {
				if ($13_cb_clan_q < 50) {
					getitem 6849,1;	// Request_Complete
					getexp 1714000,0;
				}
				else if ($13_cb_clan_q < 150) {
					getitem 6849,2;	// Request_Complete
					getexp 2228200,0;
				}
				else if ($13_cb_clan_q < 200) {
					getitem 6849,3;	// Request_Complete
					getexp 3180000,0;
				}
				else {
					getitem 6849,4;	// Request_Complete
					getexp 3400000,0;
				}
			}
			end;
		}
		break;
	case 0:
	case 1:
		mes "[Shanglumi]";
		mes "What are you doing here?";
		mes "No way! It can't be what I think, right?";
		next;
		mes "[Shanglumi]";
		mes "No matter how much you love me, you can't come here often!";
		mes "This way others will misunderstand.";
		next;
		mes "[Shanglumi]";
		mes "Isn't it? Otherwise... could it be... are you here to take another request??";
		mes "You have really good physical strength.";
		next;
		mes "[Shanglumi]";
		mes "It's good to be passionate, but there are others waiting to do it too!";
		mes "Take a good rest and recharge your batteries first, and come back next time, okay?";
		next;
		mes "[Shanglumi]";
		mes "Bye~";
		close;
	case 2:
		mes "[Shanglumi]";
		mes "You came just in time!";
		mes "Being in the right place at the right time.";
		next;
		mes "[Shanglumi]";
		mes "I was just about to entrust you with something!";
		mes "It's the thing you did last time. You haven't forgotten it, right? ^0000cdRecover the original manuscript^000000.";
		next;
		mes "[Shanglumi]";
		mes "I heard that the manuscripts have not been collected yet.";
		mes "Oh, when can I read it?";
		next;
		if (BaseLevel < 120) {
			mes "[Shanglumi]";
			mes "Go fight ^0000cd" + getmonsterinfo("TEDDY_BEAR", MOB_NAME) + "^000000 and recycle the manuscript!";
			mes "The quantity is ^0000cd111 pieces!^000000";
			next;
			mes "[Shanglumi]";
			mes "I'll leave it to you then~";
			close2;
			erasequest 14466;
			setquest 14328;
			end;
		}
		mes "[Shanglumi]";
		mes "Go fight ^0000cd" + getmonsterinfo("LICHTERN_B", MOB_NAME) + "^000000 to recover the original manuscript!";
		mes "The quantity is ^0000cd111 pieces!^000000";
		next;
		mes "[Shanglumi]";
		mes "I'll leave it to you then~";
		close2;
		erasequest 14466;
		setquest 14329;
		end;
	}
	if (isbegin_quest(14327) == 2) {	// First time weekly quest
		mes "[Shanglumi]";
		mes "You came just in time,";
		mes "I was looking for you~";
		next;
		mes "[Shanglumi]";
		mes "Wanna know what's going on?";
		mes "Do you want to know?";
		next;
		mes "[Shanglumi]";
		mes "Let me tell you~";
		mes "Do you know the writer Tenimi?";
		next;
		mes "[Shanglumi]";
		mes "Anyone who doesn't know him is a spy, haha!";
		mes "He finally came back after 7 years..!";
		next;
		mes "[Shanglumi]";
		mes "Before I speak, you must first promise to accept my request.";
		mes "Otherwise I won't tell you!";
		next;
		if (select( "Let me speak quickly...", "I don't want to hear it either" ) == 2) {
			mes "[Shanglumi]";
			mes "Right?";
			mes "There's nothing we can do about it.";
			next;
			mes "[Shanglumi]";
			mes "If you don't want to know, forget it!";
			mes "This time the request is going to be from Tenimi's fans.";
			next;
			mes "[Shanglumi]";
			mes "Bye-Bye!";
			close;
		}
		mes "[Shanglumi]";
		mes "I know you want to hear it.";
		mes "The novel that Tenimi spent seven years writing was finally completed.";
		next;
		mes "[Shanglumi]";
		mes "His works are very popular.";
		mes "I also heard that he has signed a high-paying contract with a publishing house!";
		next;
		mes "[Shanglumi]";
		mes "The publisher asked the writer to take the manuscript to Prontera.";
		mes "A flying plane from Hugel to Izlude Island.";
		next;
		mes "[Shanglumi]";
		mes "But in order to save the old writer from the hassle of traveling, the publisher planned to send someone to get the manuscript.";
		mes "To prevent it from being stolen or lost, etc.";
		next;
		mes "[Shanglumi]";
		mes "But Tenimi refused.";
		mes "He said that he didn't want to let others do the manuscript that was like his child, so he planned to fly through it himself.";
		next;
		mes "[Shanglumi]";
		mes "But...";
		mes "But what?";
		next;
		mes "[Shanglumi]";
		mes "Everyone was worried, but something happened that only Tenimi was not worried about.";
		mes "When transferring in Yuno!!!";
		next;
		mes "[Shanglumi]";
		mes "They showed up";
		mes "The thief who coveted the manuscript!!!";
		next;
		mes "[Shanglumi]";
		mes "In fact, there are many thieves who covet the original manuscripts of best-selling authors.";
		mes "Although Tenimi had bodyguards around him, he was still robbed.";
		next;
		mes "[Shanglumi]";
		mes "In the end, the original manuscript was still stolen by the thief, but who are we?";
		mes "Of course the thief was caught.";
		next;
		if (BaseLevel < 120) {
			mes "[Shanglumi]";
			mes "It's a pity that I couldn't find the original manuscript.";
			mes "I heard it was hidden by a thief.";
			next;
			mes "[Shanglumi]";
			mes "And they are hidden one by one in ^0000cd" + getmonsterinfo("TEDDY_BEAR", MOB_NAME) + "^000000,";
			mes "Oh my god! I'm really slow!";
			next;
			mes "[Shanglumi]";
			mes "Now you should know what the request is, right?";
			mes "It is to recycle the original manuscripts.";
			next;
			mes "[Shanglumi]";
			mes "Fortunately, as long as you catch the stuffed bear, you can recycle it.";
			mes "It's simple! It's just that the volume is too large...";
			next;
			mes "[Shanglumi]";
			mes "There are a total of 197,568 original manuscripts,";
			mes "so the amount to be recycled is also very large.";
			next;
			mes "[Shanglumi]";
			mes "We need ^0000cd111^000000.";
			mes "A lot, right?";
			next;
			mes "[Shanglumi]";
			mes "Everyone is looking forward to seeing new products,";
			mes "so act fast! Got it?";
			close2;
			setquest 14328;
			end;
		}
		mes "[Shanglumi]";
		mes "It's a pity that I couldn't find the original manuscript.";
		mes "I heard that the thief hid in a tower in another world when he escaped..";
		next;
		mes "[Shanglumi]";
		mes "That terrifying monster,";
		mes "Were you so busy running away that you forgot to take the bag containing the manuscript?";
		next;
		mes "[Shanglumi]";
		mes "Although the thief later went to the tower to look for the bag,";
		mes "But the monsters ate the manuscript.";
		next;
		mes "[Shanglumi]";
		mes "The thief tried to take it back, but the monster was too strong and he failed.";
		mes "Now you know what the request is, right? It's to recycle the manuscript!";
		next;
		mes "[Shanglumi]";
		mes "The monster will emit blue light, ^0000cd" + getmonsterinfo("LICHTERN_B", MOB_NAME) + "^000000, so it's easy to find.";
		mes "It's simple! It's just that the volume is too large...";
		next;
		mes "[Shanglumi]";
		mes "There are a total of 197,568 original manuscripts,";
		mes "so the amount to be recycled is also very large.";
		next;
		mes "[Shanglumi]";
		mes "Yes ^0000cd111..^000000";
		mes "A lot, right?";
		next;
		mes "[Shanglumi]";
		mes "Everyone is looking forward to seeing new products,";
		mes "so act fast! Got it?";
		close2;
		setquest 14329;
		end;
	}

	// Main quest
	if (isbegin_quest(14327) == 1) {	// Step 12
		mes "[Shanglumi]";
		mes "I've heard it!";
		mes "You cleared away all the leftovers!";
		next;
		mes "[Shanglumi]";
		mes "Thank you for your hard work!";
		mes "The residue has been cleared away and you can rest assured.";
		next;
		mes "[Shanglumi]";
		mes "At present, the remaining scum are being transferred to prison.";
		mes "Thank you for your hard work.";
		next;
		mes "[Shanglumi]";
		mes "Can you come here more often in the future?";
		mes "There are many things to be entrusted.";
		next;
		mes "[Shanglumi]";
		mes "You go back and rest first!";
		mes "Thank you very much!~";
		close2;
		completequest 14327;
		if (BaseLevel < 70)
			getexp 23000,0;
		else if (BaseLevel < 111)
			getexp 1080000,0;
		else
			getexp 2400000,0;
		end;
	}
	if (isbegin_quest(14326) == 1) {
		mes "[Shanglumi]";
		mes "Cleanup work isn't easy, is it?";
		mes "For everyone's safety, we must catch them. Come on!";
		next;
		mes "[Shanglumi]";
		mes "Please be sure to succeed, I will wait for your good news!";
		close;
	}
	if (isbegin_quest(14325) == 2) {	// Step 10
		mes "[Shanglumi]";
		mes "Excuse me have you ever heard of ^0000cd'Rune Midgard Liberation Front'^000000?";
		mes "Perhaps you don't know, because the guerrillas were disintegrated before they could grow stronger.";
		next;
		mes "[Shanglumi]";
		mes "They were dissatisfied with the royal family and nobles, and recruited uninformed people to seek revenge.";
		mes "Their leader was very capable, so he had many followers.";
		next;
		mes "[Shanglumi]";
		mes "The hero who defeated the guerrillas was our ^0000cdClan leader^000000.";
		mes "We are a team that came together to defeat that group.";
		next;
		mes "[Shanglumi]";
		mes "Most of them were arrested or released during the raid, but unfortunately the leaders and core members escaped.";
		mes "After being quiet for a while, they recently gathered together again to plan something.";
		next;
		mes "[Shanglumi]";
		mes "One of them is the one who attacked you^0000cdOtto^000000,";
		mes "I heard that this was done for revenge, do you understand?";
		next;
		mes "[Shanglumi]";
		mes "I don't know what's going on this time, there aren't many people ready to cause trouble.";
		mes "But it can cause great chaos, and the means are improved.";
		next;
		mes "[Shanglumi]";
		mes "Otto is good at operating machinery, but he is not yet proficient enough.";
		mes "Because I can't make a big splash, my actions will be limited!";
		next;
		mes "[Shanglumi]";
		mes "But we can't just let it go, lest the situation escalate.";
		mes "Otto was the most troublesome.";
		next;
		mes "[Shanglumi]";
		mes "After investigation, it was found that he used to be an ordinary person who loved collecting dolls.";
		mes "Once, he saved money to buy a valuable and expensive doll.";
		next;
		mes "[Shanglumi]";
		mes "Every day I dreamed of getting the doll one day.";
		mes "Suddenly one day he was bought by a wealthy family and was deeply shocked.";
		next;
		mes "[Shanglumi]";
		mes "I can understand his feelings.";
		mes "Just venting in the wrong place.";
		next;
		mes "[Shanglumi]";
		mes "Isn't it? Because I can't realize my interests,";
		mes "But take it out on others.";
		next;
		mes "[Shanglumi]";
		mes "Using violence to achieve one's wishes is not acceptable.";
		mes "Of course not!";
		next;
		mes "[Shanglumi]";
		mes "In short, we must save the poor soul as soon as possible.";
		mes "Otherwise it will be a big mistake.";
		next;
		mes "[Shanglumi]";
		mes "Recently, the remnants of the Rune Midgard Liberation Front have been causing trouble everywhere.";
		mes "I really want to catch them all, but I'm too busy~";
		next;
		mes "[Shanglumi]";
		mes "I just heard that there is a base on ^0000cdIzlude Island^000000.";
		mes "So please go and catch them back..";
		next;
		mes "[Shanglumi]";
		mes "Can you?";
		mes "I heard that it was built exactly like the cave on Izlude Island, so there will definitely be trouble.";
		next;
		mes "[Shanglumi]";
		mes "It would be terrible if they built another one exactly like Prontera in the future!";
		mes "Catch them all back!";
		next;
		mes "[Shanglumi]";
		mes "You can also work together with other colleagues who have accepted the same task.";
		mes "Good luck!";
		close2;
		setquest 14326;
		end;
	}
	if (isbegin_quest(14325) == 1) {	// Step 9
		mes "[Shanglumi]";
		mes "Have you finished delivering everything?";
		mes "It took longer than expected.";
		next;
		mes "[Shanglumi]";
		mes "Did anything happen along the way?";
		next;
		mes "[Tell the member about the process of the Clan leader delivering the gifts and the surprise attack by Otto]";
		next;
		mes "[Shanglumi]";
		mes "Huh? Using a robot to attack you?";
		mes "Add a resentful tone to it?";
		next;
		mes "[Shanglumi]";
		mes "How so...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Not me, but the Clan!";
		next;
		mes "[Shanglumi]";
		mes "Strange... it means the Clan has no grudge against him...";
		mes "Maybe he has a grudge against me?";
		next;
		mes "[Shanglumi]";
		mes "He's on the run anyway, right?";
		mes "We have reached No. 12 and can no longer stand idly by.";
		next;
		mes "[Shanglumi]";
		mes "I understand,";
		mes "I'll send another investigation team to follow.";
		next;
		mes "[Shanglumi]";
		mes "Thank you for your hard work,";
		mes "Go take a break!";
		close2;
		completequest 14325;
		if (BaseLevel < 70)
			getexp 23000,0;
		else if (BaseLevel < 111)
			getexp 1080000,0;
		else
			getexp 2400000,0;
		end;
	}
	if (isbegin_quest(14324) == 1 || isbegin_quest(14323) == 1 || isbegin_quest(14322) == 1 || isbegin_quest(14321) == 1 || isbegin_quest(14320) == 1 || isbegin_quest(14319) == 1 || isbegin_quest(14318) == 1 || isbegin_quest(14317) == 1) {
		mes "[Shanglumi]";
		mes "Have you finished delivering everything?";
		mes "Hello~ It seems not yet~";
		next;
		mes "[Shanglumi]";
		mes "^0000cdThe small box is given to Otto in Hugel, and the large box is given to Shredder in Einbroch^000000,";
		mes "^0000cdFile is for Paco B^000000 in the Abyss Canyon near Yuno.";
		next;
		mes "[Shanglumi]";
		mes "Go quickly and come back soon!";
		close;
	}
	if (isbegin_quest(14317) == 0) {	// Step 1
		mes "[Shanglumi]";
		mes "Ah! You are " + .@player_name$ + "! Right?";
		mes "Great, I was waiting for you!";
		next;
		mes "[Shanglumi]";
		mes "You know we are a Clan affiliated with the kingdom, right?";
		mes "The kingdom hopes that the members of the Clan can help the people solve difficult and complicated problems.";
		next;
		mes "[Shanglumi]";
		mes "Let me ask!";
		mes "Who am I waiting for here?";
		next;
		mes "[Shanglumi]";
		mes "Wait! Don't go.";
		mes "It's very simple to entrust!";
		next;
		mes "[Shanglumi]";
		mes "For example.. Give this small box to ^0000cdOtto the Destroyer^000000,";
		mes "Really simple, right?";
		next;
		mes "[Shanglumi]";
		mes "After completing the request, you will receive a reward!";
		mes "So just give it a try!";
		next;
		if (select( "Yes", "No" ) == 2) {
			mes "[Shanglumi]";
			mes "Really? That can't be helped.";
			mes "If we fail to help the people solve their problems, it will cause public resentment.";
			next;
			mes "[Shanglumi]";
			mes "The more public discontent there is, the worse the economy will be, and it will affect families.";
			mes "Finally it will affect the country, if this continues...";
			next;
			mes "[Shanglumi]";
			mes "Wow.. the Clan will disappear too...";
			mes "Never mind, I'll find someone else...";
			next;
			mes "[Shanglumi]";
			mes "Someone should step forward...";
			mes "If that doesn't work, I'll do it.... You go...";
			close;
		}
		mes "[Shanglumi]";
		mes "Hehe~ I knew you would agree.";
		mes "The reason? My eyes can't be wrong!";
		next;
		mes "[Shanglumi]";
		mes "Please give this small ^0000cdbox to Otto^000000 from Hugel!";
		mes "By the way, please excuse me for this!";
		next;
		mes "[Shanglumi]";
		mes "This is for ^0000cdShredder in the building behind the Einbroch Hotel^000000,";
		mes "I heard it's near the factory.";
		next;
		mes "[Shanglumi]";
		mes "Etc!";
		mes "Where do you want to go after I finish talking?";
		next;
		mes "[Shanglumi]";
		mes "A very light ^0000cdfile given to Paco B^000000 in the Abyss Canyon near Yuno.";
		next;
		mes "[Shanglumi]";
		mes "In terms of the route, it is better to go to Yuno first. Let me take a look~";
		mes "This is the location of <NAVI>^4D4DFF[Paco B]^000000<INFO>yuno_fild07,247,195,</INFO></NAVI>.";
		next;
		mes "[Shanglumi]";
		mes "Why are you looking at me like that?";
		mes "Anyway, it's on the way to Hugel.";
		next;
		mes "[Shanglumi]";
		mes "We are?";
		mes "Civil servant!";
		next;
		mes "[Shanglumi]";
		mes "Create high efficiency with the lowest cost and solve difficult problems!";
		mes "Feeling a sense of mission?";
		next;
		mes "[Shanglumi]";
		mes "Feeling responsible?";
		mes "Are you honored to serve the people?";
		next;
		mes "[Shanglumi]";
		mes "Thank you for your help.";
		mes "Everyone is waiting! Go quickly and come back soon!";
		close2;
		setquest 14317;
		getitem 6847,1;	// Very_Tiny_Box
		getitem 6848,1;	// Light_Box
		getitem 6851,1;	// Suspicious_Paper
		end;
	}
	mes "[Shanglumi]";
	mes "It's been a mess lately.";
	mes "This is not good.";
	next;
	mes "[Shanglumi]";
	mes "Hope calm will return soon.";
	close;
}

// Crossbow Clan quest - Step 2, 3
yuno_fild07,247,195,4	script	Paco B#cbclan01	4_M_MIDDLE1,{
	if (checkweight(1304,3) == 0) {
		mes "[Paco B]";
		mes "You carry so many things!?";
		mes "Aren't you heavy? You look heavy?";
		next;
		mes "[Paco B]";
		mes "Please come back after lightening up!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14319) == 1) {
		mes "[Paco B]";
		mes "Have you finished delivering everything?";
		next;
		mes "[Paco B]";
		mes "Not yet?";
		mes "That thing is urgent!";
		next;
		mes "[Paco B]";
		mes "Just give it to ^0000cdPaco A^000000 in Einbroch.";
		mes "It's Paco A.";
		close;
	}
	if (isbegin_quest(14318) == 1) {	// Step 3
		mes "[Paco B]";
		mes "Have you brought all the materials?";
		mes "Did you bring it?";
		next;
		if (countitem(7325) < 35 || countitem(7317) < 77 || countitem(7116) < 20 || countitem(999) < 1) {
			mes "[Paco B]";
			mes "Your hands are empty?";
			mes "Didn't you bring it?";
			next;
			mes "[Paco B]";
			mes "Did you forget to bring something?";
			mes "No way~";
			next;
			mes "[Paco B]";
			mes "Your expression is real!";
			mes "The expression cannot be concealed.";
			next;
			mes "[Paco B]";
			mes "^0000cd35 " + getitemname(7325) + ", 77 " + getitemname(7317) + ", 20 " + getitemname(7116) + ", 1 " + getitemname(999) + "^000000,";
			mes "Move faster.";
			next;
			mes "[Paco B]";
			mes "Go quickly and come back soon!";
			close;
		}
		mes "[Paco B]";
		mes "Let me take a look.";
		mes "All the materials are ready!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Then I'll leave.";
		next;
		mes "[Paco B]";
		mes "Hey!";
		mes "Wait a moment!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Haven't I given you all the materials?";
		next;
		mes "[Paco B]";
		mes "Just wait!";
		next;
		mes "[After Paco B receives the materials, he immediately looks at the documents and starts assembling things]";
		next;
		mes "[Paco B]";
		mes "Alright!";
		mes "All done!";
		next;
		mes "[Paco B]";
		mes "This is for you.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "What is this thing? Who should I give it to?";
		next;
		mes "[Paco B]";
		mes "Of course it's for ^0000cdPaco A^000000 in Einbroch.";
		mes "You're asking knowingly?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I have absolutely no idea.";
		next;
		mes "[Paco B]";
		mes "Really? Then consider it as a request!";
		mes "As long as you are happy.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Then you should make a formal request to me!";
		next;
		mes "[Paco B]";
		mes "Do I need to appeal to you if I want to entrust you?";
		mes "Do you want to be sued?";
		next;
		mes "[Paco B]";
		mes "OK! Then I will file a complaint.";
		mes "I'd better go to Prontera myself.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Forget it, just give it to me! I have to go to Einbroch anyway.";
		mes "Who should I hand it over to?";
		next;
		mes "[Paco B]";
		mes "I said it was it's for ^0000cdPaco A^000000 in Einbroch.";
		mes "Did you forget so quickly?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Where in Einbroch does he live?";
		next;
		mes "[Paco B]";
		mes "I don't know that either.";
		mes "I have no idea where he lives.";
		next;
		mes "[Paco B]";
		mes "I only heard that he lived in Einbroch.";
		mes "Einbroch.";
		next;
		mes "[Paco B]";
		mes "That's also included in the request!";
		mes "Delegate the delegation.";
		next;
		mes "[Paco B]";
		mes "Oh, and pay attention to that box.";
		mes "Otherwise you will be in danger, haha!";
		close2;
		delitem 7325,35;	// Tube
		delitem 7317,77;	// Screw
		delitem 7116,20;	// Harpy's_Claw
		delitem 999,1;	// Steel
		erasequest 14318;
		setquest 14319;
		getitem 6850,1;	// Suspicious_Box
		end;
	}
	if (isbegin_quest(14317) == 1) {	// Step 2
		mes "[Paco B]";
		mes "Ah! How boring!";
		mes "Nothing fun to do?";
		next;
		mes "[Paco B]";
		mes "Ah! So boring!";
		mes "Bored to the point of going crazy!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Are you Paco B?";
		next;
		mes "[Paco B]";
		mes "Ah! It's human!";
		mes "What do you want from me?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I am a member of the Crossbow Clan.";
		mes "I'm here to deliver the documents.";
		next;
		mes "[Paco B]";
		mes "Who is it?";
		mes "Give it to me quickly.";
		next;
		mes "[After handing the document to Paco B, he immediately takes it out and looks at it, his eyes sparkling]";
		next;
		mes "[Paco B]";
		mes "Um.. ha!";
		mes "This should be fun.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I've handed you the document and I'm leaving.";
		next;
		mes "[Paco B]";
		mes "Hey!!!";
		mes "Wait, help me^0000cd please^000000 for a bit!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Help?";
		next;
		mes "[Paco B]";
		mes "Aren't you a member of the Kingdom's Clan? Consider it a request!";
		mes "Please!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I have a lot to do.";
		next;
		mes "[Paco B]";
		mes "If you don't help, I will sue you!";
		mes "I want to complain that you, as a member of the Clan, have ignored the people's difficulties.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "You should formally submit your mandate to the Clan.";
		next;
		mes "[Paco B]";
		mes "Because I can't wait!";
		mes "Help me do it right now!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Well, that's all I can do.";
		mes "What's up?";
		next;
		mes "[Paco B]";
		mes "^0000cd35 " + getitemname(7325) + ", 77 " + getitemname(7317) + ", 20 " + getitemname(7116) + ", 1 " + getitemname(999) + "^000000,";
		mes "I'm in a hurry, very urgent!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "That's going to take a long time?";
		next;
		mes "[Paco B]";
		mes "It should be faster than me filing a complaint!";
		mes "Come on! I'm bored...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I shouldn't have accepted this request.";
		mes "There is no other way..";
		close2;
		if (countitem(6851) > 0)
			delitem 6851,1;	// Suspicious_Paper
		setquest 14318;
		end;
	}
	mes "[Paco B]";
	mes "Boring so boring!!";
	mes "So boring!";
	close;
}

// Crossbow Clan quest - Step 4, 5
ein_in01,100,135,2	script	Shredder#cbclan01	4_M_MIDDLE,{
	if (checkweight(1304,3) == 0) {
		mes "[Shredder]";
		mes "You need so many things!";
		mes "Aren't you heavy?";
		next;
		mes "[Shredder]";
		mes "Please come back after lightening up!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14321) == 1) {
		mes "[Shredder]";
		mes "Have you been in ^0000cdLighthalzen^000000?";
		mes "If you haven't yet, go!";
		next;
		mes "[Shredder]";
		mes "When that time comes, it will be... boom-";
		mes "No, no.";
		next;
		mes "[Shredder]";
		mes "Anyway, hurry up.";
		close;
	}
	if (isbegin_quest(14320) == 1) {	// Step 5
		mes "[Shredder]";
		mes "Are you here? Did you bring everything I told you to?";
		next;
		if (countitem(630) < 1 || countitem(7326) < 3 || countitem(7322) < 35 || countitem(7317) < 20) {
			mes "[Shredder]";
			mes "Huh? Nothing?";
			mes "Do you owe repairs? Never mind..";
			next;
			mes "[Shredder]";
			mes "You probably forgot I told you again what to bring.";
			next;
			mes "[Shredder]";
			mes "It is ^0000cd1 " + getitemname(630) + ", 3 " + getitemname(7326) + ", 35 " + getitemname(7322) + ", 20 " + getitemname(7317) + "^000000.";
			next;
			mes "[Shredder]";
			mes "You have to bring them all back this time.";
			close;
		}
		mes "[Shredder]";
		mes "Let me check...";
		mes "Well, it seems all is correct.";
		next;
		mes "[Shredder]";
		mes "Please wait.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Huh? What are you waiting for?";
		mes "I have to deliver something!";
		next;
		mes "[Shredder]";
		mes "Just wait a moment if I tell you to.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I shouldn't have accepted this request...";
		next;
		mes "[Shred combines the items he took out of the two boxes with the materials he collected, puts them back into the original boxes, and packs them up. ]";
		next;
		mes "[Shredder]";
		mes "All is well.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I want to know without listening.";
		mes "Who should I give this box to?";
		next;
		mes "[Shredder]";
		mes "How do you know?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "It's faster to formally submit the request.";
		mes "But this time I'll make a special concession for you.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I'm not afraid of you complaining.";
		mes "Because I have plenty of time...";
		next;
		mes "[Shredder]";
		mes "I didn't say anything?";
		mes "Anyway, give this box to Link in ^0000cdLighthalzen^000000!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ha ha..";
		mes "Is his name Paco C?";
		next;
		mes "[Shredder]";
		mes "No?";
		mes "I advise you not to tell others that you have seen Paco A.";
		mes "My name is Shredder.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Um. Got it.";
		mes "Then I'll go deliver the goods!";
		next;
		mes "[Shredder]";
		mes "Be careful not to shake the box.";
		close2;
		delitem 630,1;	// Dew_Laden_Moss
		delitem 7326,3;	// Fluorescent_Liquid
		delitem 7322,35;	// Poisonous_Gas
		delitem 7317,20;	// Screw
		erasequest 14320;
		setquest 14321;
		getitem 6850,1;	// Suspicious_Box
		end;
	}
	if (isbegin_quest(14319) == 1) {	// Step 4
		mes "[" + .@player_name$ + "]";
		mes "Are you Shredder?";
		mes "I am a member of the Crossbow Clan.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I'm here to give you a box.";
		next;
		mes "[Shredder]";
		mes "Ah! Really?";
		mes "Please give it to me!";
		next;
		mes "[Shredder]";
		mes "Hmm... the stuff is correct, is this the only one?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Yes, this is all I need to give to you.";
		next;
		mes "[Shredder]";
		mes "Strange, never mind.";
		mes "Thank you for your hard work.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Do you know Paco A?";
		next;
		mes "[Shredder]";
		mes "Who are you?";
		mes "Why are you looking for him?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I just mentioned that I am a member of the Crossbow Clan.";
		next;
		mes "[Shredder]";
		mes "How do you know that name?";
		mes "Speak quickly.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "You may have misunderstood.";
		mes "It was Paco B who asked me to deliver the box to Paco A in Einbroch.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Do you know him?";
		next;
		mes "[Shredder]";
		mes "Box? Give it to me!";
		mes "Yes.. that's it.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Please don't open it casually.";
		next;
		mes "[Shredder]";
		mes "You are representing the Clan, right?";
		mes "Then I'll ask you for a favor too.";
		next;
		mes "[Shredder]";
		mes "Help me collect ^0000cd1 " + getitemname(630) + ", 3 " + getitemname(7326) + ", 35 " + getitemname(7322) + ", 20 " + getitemname(7317) + "^000000.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Are you kidding?";
		mes "Not only did he casually unbox the items, he also asked me to run errands.";
		next;
		mes "[Shredder]";
		mes "That Paco A is me.";
		mes "Is that ok?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah..";
		next;
		mes "[Shredder]";
		mes "And the people ask the civil servants to do things, isn't that right?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah..";
		mes "Don't worry, I'll help you collect your things.";
		next;
		mes "[Shredder]";
		mes "I'm in a hurry,";
		mes "Paco B has hidden parts.";
		close2;
		if (countitem(6850) > 0)
			delitem 6850,1;	// Suspicious_Box
		if (countitem(6848) > 0)
			delitem 6848,1;	// Light_Box
		erasequest 14319;
		setquest 14320;
		end;
	}
	mes "[Shredder]";
	mes "This time I was found out where to take it... Oh...";
	close;
}

// Crossbow Clan quest - Step 6, 7
lhz_in03,258,35,2	script	Link#cbclan01	4_M_REPAIR,{
	if (checkweight(1304,3) == 0) {
		mes "[Link]";
		mes "You brought too many things!";
		mes "Don't you think it's too heavy?";
		next;
		mes "[Link]";
		mes "Please come back after lightening up!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14324) == 1) {
		mes "[Link]";
		mes "Have you finished delivering everything?";
		mes "Are you not interested in what I mentioned last time?";
		next;
		mes "[Link]";
		mes "Just a suggestion, don't take it too seriously.";
		close;
	}
	if (isbegin_quest(14323) == 1 || isbegin_quest(14322) == 1) {	// Step 7
		mes "[Link]";
		mes "Wow! You're back.";
		mes "Where are the materials? Let me check...";
		next;
		if (countitem(7119) < 99 || countitem(1061) < 1 || countitem(615) < 2) {
			mes "[Link]";
			mes "Maybe we were in such a hurry that we didn't have all the materials ready!";
			mes "Go collect it again!";
			close;
		}
		if (isbegin_quest(14323) == 1) {
			if (countitem(7319) < 33) {
				mes "[Link]";
				mes "Maybe we were in such a hurry that we didn't have all the materials ready!";
				mes "Go collect it again!";
				close;
			}
		}
		mes "[Link]";
		mes "Wow! You got everything ready!";
		mes "Sorry to bother you again in the future. You said you represent the Clan, right?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "As long as you formally submit the request, it's OK.";
		next;
		mes "[Link]";
		mes "Sometimes people have secrets that are hard to tell.";
		mes "Therefore, it is difficult to formally submit a request.";
		next;
		mes "[Link]";
		mes "Anyway, thank you for your hard work. I will combine the materials.";
		mes "Sorry, please wait.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Another delivery request!";
		next;
		mes "[Link]";
		mes "That's right!";
		next;
		mes "[Link took out the things in the box, combined them with the collected materials, and put them back into the box. ]";
		next;
		mes "[Link]";
		mes "All is well,";
		mes "Could you please give this box to Otto in ^0000cdHugel^000000? I heard he lives in the hotel over there.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Otto?";
		mes "Great! It just so happens that the last destination is him.";
		next;
		mes "[Link]";
		mes "What a coincidence!";
		mes "Then I'll trouble you.";
		next;
		mes "[Link]";
		mes "By the way, the box is very heavy, please lift it with care.";
		mes "If it falls to the ground, it will be destroyed.";
		next;
		mes "[Link]";
		mes "Goodbye~";
		close2;
		delitem 7119,99;	// Spawns
		delitem 1061,1;	// Starsand_Of_Witch
		delitem 615,2;	// Oridecon_Hammer
		if (isbegin_quest(14323) == 1) {
			delitem 7319,33;	// Old_Steel_Plate
			erasequest 14323;
		}
		if (isbegin_quest(14322) == 1)
			erasequest 14322;
		setquest 14324;
		getitem 6850,1;	// Suspicious_Box
		end;
	}
	if (isbegin_quest(14321) == 1) {	// Step 6
		mes "[Link]";
		mes "I feel like someone will come today.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Are you Link?";
		mes "I'm a member of the Crossbow Clan, and I'm here to deliver the box.";
		next;
		mes "[Link]";
		mes "Speak of the devil and he will appear!";
		mes "I'm so lucky today.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Excuse me..? Link?";
		next;
		mes "[Link]";
		mes "Are you here to deliver a box?";
		mes "Two right? Give it to me!";
		next;
		mes "[After unboxing, Link's face looked bad. He felt something was not good and had to leave quickly. ]";
		next;
		mes "[Link]";
		mes "Wait, wait a minute,";
		mes "Why are you in such a hurry? Help me collect the materials.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah.. What to collect?";
		next;
		mes "[Link]";
		mes "Really...";
		mes "The person who put it together might have been in too much of a hurry and missed some parts, so I need the materials to put it back together.";
		next;
		mes "[Link]";
		mes "It is ^0000cd99 " + getitemname(7119) + ", 1 " + getitemname(1061) + ", 2 " + getitemname(615) + "^000000.";
		next;
		if (BaseLevel > 119) {
			mes "[Link]";
			mes "There are also ^0000cd33 " + getitemname(7319) + "^000000,";
			mes "A bit much, right?";
			next;
		}
		mes "[Link]";
		mes "Thank you for your help.";
		mes "I'm going to take this apart and see.";
		close2;
		if (countitem(6850) > 0)
			delitem 6850,1;	// Suspicious_Box
		erasequest 14321;
		if (BaseLevel > 119)
			setquest 14323;
		else
			setquest 14322;
		end;
	}
	mes "[Link]";
	mes "Ah~ Is there nothing fun to do?";
	mes "So boring.";
	close;
}

// Crossbow Clan quest - Step 8
hu_in01,239,43,4	script	Ordinary Man#cbclan01	4_M_EINMAN,{
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14325) == 1) {
		mes "[Ordinary Man]";
		mes "Why is the room so messy?";
		mes "Looks like someone used it when I was out!";
		next;
		mes "[Ordinary Man]";
		mes "This was an accident!!!";
		mes "I must catch him!!";
		close;
	}
	if (isbegin_quest(14324) == 1) {	// Step 8
		mes "[Otto]";
		mes "Is it almost here?";
		mes "Why haven't you come yet...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Hello,";
		mes "I am a member of the Crossbow Clan.";
		next;
		mes "[Otto]";
		mes "Come on!!!";
		mes "Give it to me quickly!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Well...";
		mes "Here.";
		next;
		mes "[Otto took the box, opened it, and put it together immediately. ]";
		next;
		mes "[Otto]";
		mes "All is well!";
		mes "Oh yeah!!!";
		enablenpc "Tear 12#cbclan01";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Oh... Is it a ^0000cdrobot doll^000000..?";
		next;
		mes "[Otto]";
		mes "Yes, it's a robot doll.";
		mes "This is my masterpiece.";
		next;
		mes "[Otto]";
		mes "I collected various parts from all over the mainland.";
		mes "It took me a lot of effort.";
		next;
		mes "[Otto]";
		mes "It will definitely succeed this time.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Looks like a success, very good.";
		mes "Then I'm back, please sign here.";
		next;
		mes "[Otto]";
		mes "You said you were representing the Clan, right?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Right,";
		mes "I'm a member of the Crossbow Clan.";
		next;
		mes "[Otto]";
		mes "Great! I want revenge aginst the ^0000cdCrossbow Clan^000000!";
		mes "Hahaha!";
		next;
		mes "[Otto]";
		mes "Be my experimental subject!";
		mes "Go! Otto's masterpiece rip number 12!!!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah!";
		mes "Hit me?";
		next;
		specialeffect EF_FIREPILLARBOMB, AREA, "Tear 12#cbclan01";
		mes "[Otto]";
		mes "Huh? Why aren't you moving?";
		mes "No! No...";
		next;
		mes "[Otto]";
		mes "You're not going to pretend you didn't see it, are you?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "He wants to hit me!";
		mes "I won't let him go!!";
		next;
		mes "[Otto]";
		mes "Wow! That's terrible!!!";
		mes "Of the thirty-six strategies, escape is the best!";
		disablenpc "Tear 12#cbclan01";
		disablenpc();
		initnpctimer;
		next;
		mes "[" + .@player_name$ + "]";
		mes "Oh! He escaped!";
		mes "Strange? I don't have any grudge against him? Could it be that he has a grudge against the Clan?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Forget it.. Let's report to the Clan leader first!";
		close2;
		if (countitem(6847) > 0)
			delitem 6847,1;	// Very_Tiny_Box
		if (countitem(6850) > 0)
			delitem 6850,1;	// Suspicious_Box
		erasequest 14324;
		setquest 14325;
		erasequest 14317;
		end;
	}
	mes "[Otto]";
	mes "Next... let's try this one?";
	mes "Need to raise more money.";
	close;

OnTimer90000:
	enablenpc();
	stopnpctimer;
	end;
}

hu_in01,240,39,1	duplicate(dummy_disabled_npc)	Tear 12#cbclan01	DIMIK

// Crossbow Clan quest - Step 9
// prontera,204,259,4	script	Shanglumi#cbclan01	4_F_SHAM,{

// Crossbow Clan quest - Step 10
// prontera,204,259,4	script	Shanglumi#cbclan01	4_F_SHAM,{

// Crossbow Clan quest - Step 11 - instance : Remnant's Base Camp
// iz_dun03,30,170,6	script	Goalkeeper#dunclan02	4_M_RASWORD,{

// Crossbow Clan quest - Step 12
// prontera,204,259,4	script	Shanglumi#cbclan01	4_F_SHAM,{


// Arch Wand Clan quest - Step 1
prontera,47,112,5	script	Desmond#awclan01	4_M_DEBON,{
	if (checkweight(1304,3) == 0) {
		mes "[Desmond]";
		mes "You carry so many things?";
		mes "Aren't you heavy?";
		next;
		mes "[Desmond]";
		mes "Please come back after lightening up!";
		mes "That's common sense OK!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (getcharid(5) != ARCWANDCLAN) {
		mes "[Desmond]";
		mes "This is the Arch Wand Clan!";
		mes "But you are not a member of the Arch Wand Clan!";
		next;
		mes "[Desmond]";
		mes "You must first join the Arch Wand Clan.";
		close;
	}

	// Weekly quest
	switch( checkquest(14467,PLAYTIME) ) {
	case -1:
		break;
	case 0:
	case 1:
		mes "[Desmond]";
		mes "What can I do for you?";
		mes "Is it because of the request?";
		next;
		mes "[Desmond]";
		mes "Didn't I tell you to take a rest?";
		mes "Don't you listen to me?";
		next;
		mes "[Desmond]";
		mes "Rest when I tell you to.";
		close;
	case 2:
		mes "[Desmond]";
		mes "Just bring me the stone like last time!";
		mes "The chief stonemason praised the quality of the stone.";
		next;
		mes "[Desmond]";
		mes "I will tell you once more the kind and quantity of stones to bring.";
		next;
		if (BaseLevel < 120) {
			mes "[Desmond]";
			mes "^0000cd100 " + getitemname(953) + ", 1 " + getitemname(730) + "^000000,";
			mes "There are also ^0000cd133^000000 " + getitemname(6857) + ".";
			next;
			mes "[Desmond]";
			mes "^0000cd" + getitemname(6857) + " can be obtained from the " + getmonsterinfo("STALACTIC_GOLEM", MOB_NAME) + "^000000.";
			mes "Complete.";
			next;
			mes "[Desmond]";
			mes "The quantity must be correct.";
			close2;
			erasequest 14467;
			setquest 14358;
			end;
		}
		mes "[Desmond]";
		mes "^0000cd150 " + getitemname(953) + ", 3 " + getitemname(730) + "^000000,";
		mes "There are also ^0000cd133^000000 " + getitemname(6857) + ".";
		next;
		mes "[Desmond]";
		mes "^0000cd" + getitemname(6857) + " can be obtained from the " + getmonsterinfo("BRADIUM_GOLEM", MOB_NAME) + "^000000.";
		mes "Complete.";
		next;
		mes "[Desmond]";
		mes "The quantity must be correct.";
		close2;
		erasequest 14467;
		setquest 14359;
		end;
	}
	if (isbegin_quest(14359) == 1 || isbegin_quest(14358) == 1) {
		if (isbegin_quest(14358) == 1)
			.@quantity = 100;
		else
			.@quantity = 150;
		mes "[Desmond]";
		mes "Did you bring all the stones?";
		mes "I will confirm the quantity!";
		next;
		mes "[Desmond]";
		mes "Put it over there!";
		mes "I want to count them.";
		next;
		if (countitem(730) < 3 || countitem(953) < .@quantity || countitem(6857) < 133) {
			mes "[Desmond]";
			mes "Huh? Is it a little?";
			mes "You want to deceive me?";
			next;
			mes "[Desmond]";
			mes "I'll give you one more chance,";
			mes "don't make a mistake this time.";
			next;
			mes "[Desmond]";
			mes "^0000cd" + .@quantity + " " + getitemname(953) + ", 3 " + getitemname(730) + "^000000,";
			mes "There are also ^0000cd133^000000 " + getitemname(6857) + ".";
			next;
			mes "[Desmond]";
			mes "^0000cd" + getitemname(6857) + " can be obtained from the " + getmonsterinfo("BRADIUM_GOLEM", MOB_NAME) + "^000000.";
			mes "Complete.";
			close;
		}
		mes "[Desmond]";
		mes "Hmm... the number is correct.";
		mes "The Chief Mason really has good vision.";
		next;
		mes "[Desmond]";
		mes "Put down everything you brought!";
		mes "We will send it over.";
		next;
		mes "[Desmond]";
		mes "You've worked hard, go take a rest!";
		close2;
		delitem 730,3;	// Crystal_Jewel
		delitem 953, .@quantity;	// Stone_Heart
		delitem 6857, countitem(6857);	// Very_Hard_Stone
		if (isbegin_quest(14358) == 1) {
			erasequest 14358;
			setquest 14467;
			if ($13_aw_clan_q < 50) {
				getitem 6849,1;	// Request_Complete
				if (BaseLevel < 70)
					getexp 11000,0;
				else if (BaseLevel < 100)
					getexp 540000,0;
				else
					getexp 1714000,0;
			}
			else if ($13_aw_clan_q < 150) {
				getitem 6849,2;	// Request_Complete
				if (BaseLevel < 70)
					getexp 15000,0;
				else if (BaseLevel < 100)
					getexp 702000,0;
				else
					getexp 2228200,0;
			}
			else if ($13_aw_clan_q < 200) {
				getitem 6849,3;	// Request_Complete
				if (BaseLevel < 70)
					getexp 20000,0;
				else if (BaseLevel < 100)
					getexp 918000,0;
				else
					getexp 3180000,0;
			}
			else {
				getitem 6849,4;	// Request_Complete
				if (BaseLevel < 70)
					getexp 23000,0;
				else if (BaseLevel < 100)
					getexp 1080000,0;
				else
					getexp 3400000,0;
			}
		}
		else {
			erasequest 14359;
			setquest 14467;
			if ($13_aw_clan_q < 50) {
				getitem 6849,1;	// Request_Complete
				getexp 1714000,0;
			}
			else if ($13_aw_clan_q < 150) {
				getitem 6849,2;	// Request_Complete
				getexp 2228200,0;
			}
			else if ($13_aw_clan_q < 200) {
				getitem 6849,3;	// Request_Complete
				getexp 3180000,0;
			}
			else {
				getitem 6849,4;	// Request_Complete
				getexp 3400000,0;
			}
		}
		end;
	}
	if (isbegin_quest(14357) == 2) {	// First time weekly quest
		mes "[Desmond]";
		mes "You came at the right time,";
		mes "I need a request, and you're the best fit.";
		next;
		mes "[Desmond]";
		mes "The chief stonemason was very pleased with the stones you brought last time.";
		mes "So I want you to collect some more.";
		next;
		mes "[Desmond]";
		mes "Are you willing to accept the request this time?";
		next;
		if (select( "Yes", "No" ) == 2) {
			mes "[Desmond]";
			mes "Okay! Sorry,";
			mes "The chief stonemason originally wanted you to do it!";
			next;
			mes "[Desmond]";
			mes "Then I know,";
			mes "Goodbye!";
			close;
		}
		mes "[Desmond]";
		mes "Great, the Chief Mason is more interested in you.";
		mes "Otherwise I...";
		next;
		mes "[Desmond]";
		mes "Let me tell you what the request is!";
		mes "Just like last time, collect stones for repairing the city wall.";
		next;
		mes "[Desmond]";
		mes "But the type of stone is a little different from last time.";
		mes "Please listen carefully.";
		next;
		if (BaseLevel < 120) {
			mes "[Desmond]";
			mes "^0000cd100 " + getitemname(953) + ", 1 " + getitemname(730) + "^000000,";
			mes "There are also ^0000cd133^000000 " + getitemname(6857) + ".";
			next;
			mes "[Desmond]";
			mes "^0000cd" + getitemname(6857) + " can be obtained from the " + getmonsterinfo("STALACTIC_GOLEM", MOB_NAME) + "^000000.";
			mes "Complete.";
			next;
			mes "[Desmond]";
			mes "The quantity must be correct.";
			close2;
			setquest 14358;
			end;
		}
		mes "[Desmond]";
		mes "^0000cd150 " + getitemname(953) + ", 3 " + getitemname(730) + "^000000,";
		mes "There are also ^0000cd133^000000 " + getitemname(6857) + ".";
		next;
		mes "[Desmond]";
		mes "^0000cd" + getitemname(6857) + " can be obtained from the " + getmonsterinfo("BRADIUM_GOLEM", MOB_NAME) + "^000000.";
		mes "Complete.";
		next;
		mes "[Desmond]";
		mes "The quantity must be correct.";
		close2;
		setquest 14359;
		end;
	}

	// Main quest
	if (isbegin_quest(14357) == 1) {	// Step 28
		mes "[Desmond]";
		mes "I've heard it!";
		mes "You cleared away all the leftovers!";
		next;
		mes "[Desmond]";
		mes "Thank you for your hard work!";
		mes "The residue has been cleared away and you can rest assured.";
		next;
		mes "[Desmond]";
		mes "At present, the remaining scum are being transferred to prison.";
		mes "Thank you for your hard work.";
		next;
		mes "[Desmond]";
		mes "Can you come here more often in the future?";
		mes "There are many things to be entrusted.";
		close2;
		completequest 14357;
		if (BaseLevel < 70)
			getexp 23000,0;
		else if (BaseLevel < 111)
			getexp 1080000,0;
		else
			getexp 2400000,0;
		end;
	}
	if (isbegin_quest(14356) == 1) {
		mes "[Desmond]";
		mes "Is there anything you need to do on the Izlude Island that you have not yet completed?";
		mes "Let's catch them all!";
		close;
	}
	if (isbegin_quest(14355) == 2) {	// Step 26
		mes "[Desmond]";
		mes "You came at the right time,";
		mes "The suspect who destroyed the city wall last time has revealed his whereabouts.";
		next;
		mes "[Desmond]";
		mes "Have you ever heard of ^0000cd'Rune Midgard Liberation Front'^000000?";
		mes "Probably not heard of it.";
		next;
		mes "[Desmond]";
		mes "Before they could grow in power, they were destroyed by our Clan leader.";
		mes "Not many people know about this.";
		next;
		mes "[Desmond]";
		mes "Taking those who are dissatisfied with the royal family and nobles as the main axis, and after abducting good people, they attempt to launch a revenge operation.";
		mes "I didn't expect there would be so many people gathered.";
		next;
		mes "[Desmond]";
		mes "The last time we dismantled the group, we arrested most of the people, but unfortunately the core members escaped.";
		mes "After being quiet for a while, they are ready to make a move again.";
		next;
		mes "[Desmond]";
		mes "Recently, strange things have happened in many places in the kingdom. When we investigated, we found the base of the remnants.";
		mes "The person who destroyed ^0000cdthe city wall^000000 this time was also one of them.";
		next;
		mes "[Desmond]";
		mes "His name is ^0000cdPhilip^000000, and he was just a pickpocket.";
		mes "Later, when he was stealing again, he was caught by the Knights and thrown into jail.";
		next;
		mes "[Desmond]";
		mes "On the day of his arrest, he suddenly became fascinated by the knights' shining armor and swords.";
		mes "So as soon as he got out of prison, he went to the Cavaliers.";
		next;
		mes "[Desmond]";
		mes "Unfortunately, the Cavaliers cannot accept an ex-convict.";
		mes "As a result, Philip was filled with resentment and decided to take revenge on the kingdom.";
		next;
		mes "[Desmond]";
		mes "Do you know about that group?";
		mes "Even though they were a mob, destroying the city walls was unforgivable.";
		next;
		mes "[Desmond]";
		mes "The remnants have now built an identical cave in the cave of on ^000000Izlude Island^0000cd as their base camp.";
		mes "In the future, it is also possible to establish a base in Prontera to conduct simulated training for terrorist operations.";
		next;
		mes "[Desmond]";
		mes "They must be arrested before that.";
		mes "The Chief Mason also wants to catch them quickly!";
		next;
		mes "[Desmond]";
		mes "You can start a base camp cleanup mission with other colleagues.";
		mes "Good luck.";
		close2;
		setquest 14356;
		end;
	}
	if (isbegin_quest(14355) == 1) {	// Step 25
		mes "[Desmond]";
		mes "Are you here?";
		mes "I heard you were there to arrest the suspect who destroyed the city wall, right?";
		mes "The result?";
		next;
		mes "[Tell him you followed the suspect's trail to Fortress Saint Darmain and Lighthouse, and that the suspect escaped.]";
		next;
		mes "[Desmond]";
		mes "Hmm? I finally figured out what was going on.";
		mes "Okay! You take a rest first!";
		next;
		mes "[Desmond]";
		mes "I will investigate this matter further, please come back later!";
		mes "Thanks for your hard work!";
		close2;
		completequest 14355;
		if (BaseLevel < 70)
			getexp 23000,0;
		else if (BaseLevel < 111)
			getexp 1080000,0;
		else
			getexp 2400000,0;
		end;
	}
	if (isbegin_quest(14354) == 1 || isbegin_quest(14353) == 1 || isbegin_quest(14352) == 1 || isbegin_quest(14351) == 1 || isbegin_quest(14350) == 1 || isbegin_quest(14349) == 1 || isbegin_quest(14348) == 1 || isbegin_quest(14347) == 1 || isbegin_quest(14346) == 1) {
		mes "[Desmond]";
		mes "You look tired,";
		mes "but the situation is serious, please keep going!";
		close;
	}
	if (isbegin_quest(14345) == 1 || isbegin_quest(14344) == 1 || isbegin_quest(14343) == 1 || isbegin_quest(14342) == 1 || isbegin_quest(14341) == 1 || isbegin_quest(14340) == 1 || isbegin_quest(14339) == 1 || isbegin_quest(14338) == 1 || isbegin_quest(14337) == 1) {
		mes "[Desmond]";
		mes "Have you met the Chief Mason?";
		mes "The damaged city wall needs to be repaired, please do your best to help him!";
		close;
	}
	if (isbegin_quest(14336) == 1) {	// Step 8
		mes "[Desmond]";
		mes "How is the city wall?";
		next;
		mes "[Tell the Clan leader that the wall was damaged by human beings.]";
		next;
		mes "[Desmond]";
		mes "Man-made destruction?";
		mes "There is an intruder.";
		next;
		mes "[Desmond]";
		mes "All right! I'll take care of the rest, you go see the Chief Mason!";
		mes "He also wanted to know.";
		next;
		mes "[Desmond]";
		mes "If you need help, please do your best to help him.";
		mes "Because city walls are extremely important for defense.";
		next;
		mes "[Desmond]";
		mes "Talk to <NAVI>^4D4DFF[Chief Mason]^000000<INFO>prontera,76,283,</INFO></NAVI>.";
		mes "Report the situation to him!";
		close2;
		erasequest 14336;
		setquest 14337;
		end;
	}
	if (isbegin_quest(14335) == 1 || isbegin_quest(14334) == 1 || isbegin_quest(14333) == 1 || isbegin_quest(14332) == 1 || isbegin_quest(14331) == 1 || isbegin_quest(14330) == 1) {
		mes "[Desmond]";
		mes "What is the condition of the city walls?";
		mes "Must be investigated in detail.";
		next;
		mes "[Desmond]";
		mes "Investigate again the places that have been investigated.";
		close;
	}
	if (isbegin_quest(14330) == 0) {	// Step 1
		mes "[Desmond]";
		mes "What about representing the Clan?";
		mes "I just needed a helper, great!";
		next;
		mes "[Desmond]";
		mes "I want to entrust you with something and use it as an adaptability training.";
		next;
		mes "[Desmond]";
		mes "Of course, it won't be too difficult for beginners.";
		mes "Don't expect too much.";
		next;
		mes "[Desmond]";
		mes "Do you have the will?";
		mes "I won't force you.";
		next;
		if (select( "Yes", "No" ) == 2) {
			mes "[Desmond]";
			mes "Anything? ";
			mes "Maybe you're not ready yet!";
			next;
			mes "[Desmond]";
			mes "Come back when you are ready!";
			mes "The task will be more difficult then.";
			close;
		}
		mes "[Desmond]";
		mes "I like your attitude.";
		mes "Let me explain it to you.";
		next;
		mes "[Desmond]";
		mes "According to the patrol team's intelligence, they found that ^0000cdthe walls of Prontera^000000 were damaged everywhere.";
		mes "The city wall is extremely important for defending the capital, so it must be perfect.";
		next;
		mes "[Desmond]";
		mes "This time, our mission was to go around the city walls and see the damage.";
		mes "Since the Chief Mason is very busy, please check it on his behalf!";
		next;
		mes "[Desmond]";
		mes "The situation is urgent, go and come back quickly!";
		close2;
		setquest 14330;
		end;
	}
	mes "[Desmond]";
	mes "It's been very restless lately.";
	mes "It is not convenient for me to do it myself.";
	next;
	mes "[Desmond]";
	mes "And why is that cat with the Crossbow Clan always pestering me?";
	close;
}

// Arch Wand Clan quest - Step 2
prt_fild08,23,379,4	script	Suspicious Footprints#awclan01	4_CRACK,{
	.@num = atoi( charat( strnpcinfo(2), 7 ) );
	callsub( S_Talk, .@num );

S_Talk:
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14351) == 1) {
		mes "[" + .@player_name$ + "]";
		mes "Go to Fortress Saint Darmain to find clues!";
		close;
	}
	if (isbegin_quest(14350) == 1) {	// Step 20
		mes "[" + .@player_name$ + "]";
		mes "After neutralizer was sprayed on the broken stones, the shape of ^0000cdFortress Saint Darmain^000000 could be vaguely seen between the smoke.";
		mes "The suspect may be related to Fortress Saint Darmain.";
		close2;
		if (countitem(6852) > 0)
			delitem 6852,1;	// Super_Neutralizer
		erasequest 14350;
		setquest 14351;
		end;
	}
	if (isbegin_quest(14349) == 1) {	// Step 19
		mes "[" + .@player_name$ + "]";
		mes "After neutralizer was sprayed on the broken stones, it appeared like ^0000cddesert^000000.";
		mes "Check other places too!";
		close2;
		erasequest 14349;
		setquest 14350;
		end;
	}
	if (isbegin_quest(14348) == 1) {	// Step 18
		mes "[" + .@player_name$ + "]";
		mes "After neutralizer was sprayed on the broken rocks, a ^0000cddesert^000000 appeared between the smoke.";
		mes "Check other places too!";
		close2;
		erasequest 14348;
		setquest 14349;
		end;
	}
	if (isbegin_quest(14347) == 1) {	// Step 17
		mes "[" + .@player_name$ + "]";
		mes "After neutralizer was sprayed on the broken stones, blue smoke came out and something appeared between the smoke.";
		mes "Check other places too!";
		close2;
		erasequest 14347;
		setquest 14348;
		end;
	}
	if (isbegin_quest(14346) == 1) {	// Step 16
		mes "[" + .@player_name$ + "]";
		mes "After neutralizer was sprayed on the broken stones, white smoke could be seen faintly.";
		mes "Check other places too!";
		close2;
		erasequest 14346;
		setquest 14347;
		end;
	}
	if (isbegin_quest(14345) == 1) {	// Step 15
		mes "[" + .@player_name$ + "]";
		mes "After spraying the broken stones with a neutralizer, there was no reaction.";
		mes "Try spraying it in other places too!";
		close2;
		erasequest 14345;
		setquest 14346;
		end;
	}
	if (isbegin_quest(14336) == 1) {
		mes "[" + .@player_name$ + "]";
		mes "Report it to the Clan leader immediately!";
		close;
	}
	.@num = getarg(0) - 1;
	setarray .@quest_id[0], 14330,14331,14332,14333,14334,14335;
	.@size = getarraysize(.@quest_id);

	if (isbegin_quest(.@quest_id[.@num]) == 1) {
		switch( .@quest_id[.@num] ) {
		case 14330:	// Step 2
			mes "[" + .@player_name$ + "]";
			mes "Although some damage was found, it was not serious.";
			mes "Check other places too!";
			close2;
			erasequest 14330;
			setquest 14331;
			end;
		case 14331:	// Step 3
			mes "[" + .@player_name$ + "]";
			mes "The damage was found, and it was more serious than the previous traces.";
			mes "Check other places too!";
			close2;
			erasequest 14331;
			setquest 14332;
			end;
		case 14332:	// Step 4
			mes "[" + .@player_name$ + "]";
			mes "I found the damaged part and smelled the stinky smell of medicine when I got closer.";
			mes "Check other places too!";
			close2;
			erasequest 14332;
			setquest 14333;
			end;
		case 14333:	// Step 5
			mes "[" + .@player_name$ + "]";
			mes "I found the damage and knew it was serious.";
			mes "Stones were scattered everywhere.";
			next;
			mes "[" + .@player_name$ + "]";
			mes "Check other places too!";
			close2;
			erasequest 14333;
			setquest 14334;
			end;
		case 14334:	// Step 6
			mes "[" + .@player_name$ + "]";
			mes "Found the broken part, the stones were scattered everywhere,";
			mes "Check other places too!";
			close2;
			erasequest 14334;
			setquest 14335;
			end;
		case 14335:	// Step 7
			mes "[" + .@player_name$ + "]";
			mes "We found the damage, and it seems to be man-made.";
			mes "Go report back to the Clan leader!";
			close2;
			erasequest 14335;
			setquest 14336;
			end;
		}
	}
	for ( .@i = 0; .@i < .@num; ++.@i ) {
		if (isbegin_quest(.@quest_id[.@i]) == 1) {
			mes "[" + .@player_name$ + "]";
			mes "Look somewhere else first!";
			close;
		}
	}
	for ( .@i = .@num + 1; .@i < .@size; ++.@i ) {
		if (isbegin_quest(.@quest_id[.@i]) == 1) {
			mes "[" + .@player_name$ + "]";
			mes "Already checked here,";
			mes "check elsewhere!";
			close;
		}
	}
	end;
}

// Arch Wand Clan quest - Step 3
prt_fild08,323,371,4	duplicate(Suspicious Footprints#awclan01)	Suspicious Footprints#awclan02	4_CRACK

// Arch Wand Clan quest - Step 4
prt_fild06,22,99,4	duplicate(Suspicious Footprints#awclan01)	Suspicious Footprints#awclan03	4_CRACK

// Arch Wand Clan quest - Step 5
prt_fild06,22,268,4	duplicate(Suspicious Footprints#awclan01)	Suspicious Footprints#awclan04	4_CRACK

// Arch Wand Clan quest - Step 6
prt_fild05,375,309,4	duplicate(Suspicious Footprints#awclan01)	Suspicious Footprints#awclan05	4_CRACK

// Arch Wand Clan quest - Step 7
prt_fild05,375,49,4	duplicate(Suspicious Footprints#awclan01)	Suspicious Footprints#awclan06	4_CRACK

// Arch Wand Clan quest - Step 8
// prontera,47,112,5	script	Desmond#awclan01	4_M_DEBON,{

// Arch Wand Clan quest - Step 9, 10
prontera,76,283,4	script	Chief Mason#awclan01	1_M_HOF,{
	if (checkweight(1304,3) == 0) {
		mes "[Chief Mason]";
		mes "You carry so many things?";
		mes "Aren't you heavy?";
		next;
		mes "[Chief Mason]";
		mes "Please come back after reducing your stress!!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14355) == 1) {
		mes "[Chief Mason]";
		mes "How are things handled?";
		mes "Caught the suspect's mother?";
		next;
		mes "[Report to the Chief Mason concerning Saint Darmain and Faros. ]";
		next;
		mes "[Chief Mason]";
		mes "There is such a thing..";
		mes "That guard is indeed suspicious. He's gone missing, isn't he?";
		next;
		mes "[Chief Mason]";
		mes "To prevent him from coming back to destroy the city walls, patrols need to be stepped up.";
		mes "Thank you for your hard work.";
		close;
	}
	if (isbegin_quest(14354) == 1 || isbegin_quest(14353) == 1 || isbegin_quest(14352) == 1 || isbegin_quest(14351) == 1) {
		mes "[Chief Mason]";
		mes "How are things handled?";
		mes "Caught the suspect's mother?";
		next;
		mes "[Chief Mason]";
		mes "There are many things.";
		mes "He must be caught quickly!";
		close;
	}
	if (isbegin_quest(14350) == 1 || isbegin_quest(14349) == 1 || isbegin_quest(14348) == 1 || isbegin_quest(14347) == 1 || isbegin_quest(14346) == 1 || isbegin_quest(14345) == 1) {
		mes "[Chief Mason]";
		mes "Has the neutralizer been sprayed?";
		mes "If you don't hurry up, the drug will spread further.";
		next;
		mes "[Chief Mason]";
		mes "It will be more troublesome then, so act quickly!";
		mes "And remember to bring the suspect here when you catch him!";
		close;
	}
	if (isbegin_quest(14344) == 1) {	// Step 14
		mes "[Chief Mason]";
		mes "Did you bring the " + getitemname(970) + " and " + getitemname(724) + "?";
		mes "If you don't have it, don't talk to me!";
		next;
		if (countitem(970) < 1 || countitem(724) < 3) {
			mes "[Chief Mason]";
			mes "There is nothing!";
			mes "What you need is ^0000cd1 " + getitemname(970) + " and 3 " + getitemname(724) + "^000000!";
			close;
		}
		mes "[Chief Mason]";
		mes "Wow.. I brought them all!";
		mes "So let's get started!";
		next;
		mes "[Chief Mason]";
		mes "Crush the " + getitemname(724) + " and melt it in " + getitemname(970) + "!";
		mes "Then mix this solution with the neutralizer and you're done.";
		next;
		mes "[Chief Mason]";
		mes "When a bad-hearted person does something bad, he or she will have evil thoughts.";
		mes "This thing can find out the owner of evil thoughts.";
		next;
		mes "[Chief Mason]";
		mes "This is our family's secret recipe and must not be revealed to anyone.";
		next;
		mes "[Chief Mason]";
		mes "I showed it especially to you.";
		mes "And this neutralizer can track the suspect.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah?";
		next;
		mes "[Chief Mason]";
		mes "Because I have to sort the stones and have no time.";
		mes "This matter can only be handed over to do, please work harder!";
		next;
		mes "[Chief Mason]";
		mes "Please accept it.";
		mes "Spray it on the damaged wall, and chase the suspect after a certain reaction occurs!";
		close2;
		delitem 970,1;	// Alchol
		delitem 724,3;	// Cardinal_Jewel_
		erasequest 14344;
		setquest 14345;
		getitem 6852,1;	// Super_Neutralizer
		end;
	}
	if (isbegin_quest(14343) == 1) {	// Step 13
		mes "[Chief Mason]";
		mes "Have you received the neutralizer?";
		next;
		mes "[Chief Mason]";
		mes "Is there?";
		mes "Tell me is it okay?";
		next;
		// Debug, player could get stuck during quest (officially uncommented)
		// if (countitem(6852) < 1) {
			// mes "[Chief Mason]";
			// mes "Weird? Where's the neutralizer?";
			// mes "Did I miss it? Check again!";
			// close;
		// }
		mes "[Chief Mason]";
		mes "Brought it!!!";
		mes "Adding two more things would make it perfect.";
		next;
		mes "[Chief Mason]";
		mes "Why add anything more?";
		mes "This neutralizer only prevents the stone from corroding.";
		next;
		mes "[Chief Mason]";
		mes "We have to install another tracking device!";
		mes "So two more things are needed.";
		next;
		mes "[Chief Mason]";
		mes "^0000cd1 " + getitemname(970) + " and 3 " + getitemname(724) + "^000000,";
		mes "Go and bring it to me! I'm in a hurry!";
		close2;
		if (countitem(6852) > 0)
			delitem 6852,1;	// Super_Neutralizer
		erasequest 14343;
		setquest 14344;
		end;
	}
	if (isbegin_quest(14340) == 1) {
		mes "[Chief Mason]";
		mes "Have you seen a drug dealer?";
		mes "Go meet him now!";
		next;
		mes "[Chief Mason]";
		mes "At this time, the stone is still corroding.";
		mes "The suspect may have dumped the drugs somewhere again!";
		next;
		mes "[Chief Mason]";
		mes "You go quickly!";
		close;
	}
	if (isbegin_quest(14339) == 1 || isbegin_quest(14338) == 1) {	// Step 10
		mes "[Chief Mason]";
		mes "Did you bring the stone?";
		mes "Let me take a look.";
		next;
		if (countitem(953) < 99 || countitem(640) < 1 || countitem(7049) < 99 || countitem(732) < 3) {
			mes "[Chief Mason]";
			mes "Not enough materials?";
			mes "The stones used to repair the capital's walls are of extraordinary importance and require greater precision.";
			next;
			mes "[Chief Mason]";
			mes "Go and bring it now!";
			next;
			mes "[Chief Mason]";
			mes "Requires ^0000cd99 " + getitemname(953) + ", 1 " + getitemname(640) + ", 99 " + getitemname(7049) + ", 3 " + getitemname(732) + "^000000.";
			close;
		}
		if (isbegin_quest(14339) == 1) {
			if (countitem(7067) < 50) {
				mes "[Chief Mason]";
				mes "Well.. I have everything else, except the ^0000cd" + getitemname(7067) + "^000000.";
				mes "Go collect ^0000cd50^000000. Come on!";
				next;
				mes "[Chief Mason]";
				mes "The stones used to repair the capital's walls are of extraordinary importance and require greater precision.";
				close;
			}
		}
		mes "[Chief Mason]";
		mes "All the materials are ready.";
		mes "You are a member of the Arch Wand Clan, right?";
		next;
		mes "[Chief Mason]";
		mes "I'll continue to pay attention to you.";
		mes "I've seen the destruction!";
		next;
		mes "[Chief Mason]";
		mes "I will never forgive the suspect!!!";
		mes "Let me explain.";
		next;
		mes "[Chief Mason]";
		mes "Because the wall was the wall of the capital, it was built with great care.";
		mes "Only the most beautiful of the hard stones were chosen for the wall.";
		next;
		mes "[Chief Mason]";
		mes "Only the best stones are used for construction day and night.";
		mes "Because of its super hard texture, it is not easy to break.";
		next;
		mes "[Chief Mason]";
		mes "But if you want to weaken it, you need special medicine to reduce the hardness and then break it.";
		mes "Not many people know about that medicine.";
		next;
		mes "[Chief Mason]";
		mes "But I used that medicine,";
		mes "Do you understand?";
		next;
		mes "[Chief Mason]";
		mes "Not only do broken stones need to be repaired, but all stones that have come into contact with chemicals need to be maintained.";
		mes "Otherwise it will break if you touch it!!!!";
		next;
		mes "[Chief Mason]";
		mes "It is a heinous crime!";
		mes "When I catch him, I will punish him severely!";
		next;
		mes "[Chief Mason]";
		mes "But the drug has a weakness.";
		mes "Due to the materials to be added, traces will be left!";
		next;
		mes "[Chief Mason]";
		mes "Go find the drug dealer in ^0000cdAldebaran^000000 and bring some neutralizers!";
		mes "He shouldn't be difficult to find him in an ordinary house in Aldebaran.";
		next;
		mes "[Chief Mason]";
		mes "After getting married and having children, he moved to Aldebaran and lived an ordinary life.";
		mes "It's a pity that his talent is gone.";
		next;
		mes "[Chief Mason]";
		mes "In short, the guy who destroyed the city wall is dead.";
		close2;
		delitem 953,99;	// Stone_Heart
		delitem 640,1;	// Shining_Stone
		delitem 7049,99;	// Stone
		delitem 732,3;	// Crystal_Jewel__
		if (isbegin_quest(14339) == 1) {
			delitem 7067,50;	// Stone_Piece
			erasequest 14339;
		}
		if (isbegin_quest(14338) == 1)
			erasequest 14338;
		setquest 14340;
		end;
	}
	if (isbegin_quest(14337) == 1) {	// Step 9
		mes "[" + .@player_name$ + "]";
		mes "Hello,";
		mes "I am a member of the Arch Wand Clan.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I have completed the investigation on the damage to the city wall and would like to report to you.";
		next;
		mes "[Chief Mason]";
		mes "What's going on?";
		mes "Is it old? Or was it done by an animal?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "According to my investigation, it should be man-made damage.";
		mes "There are serious and okay places.";
		next;
		mes "[Chief Mason]";
		mes "Huh? Man-made?";
		mes "Which unwanted guy is this!!!";
		next;
		mes "[Chief Mason]";
		mes "I need to confirm it myself!!!";
		mes "Ah! Before that.";
		next;
		mes "[Chief Mason]";
		mes "Serious areas need to be repaired first.";
		mes "Please bring some rocks!";
		next;
		mes "[Chief Mason]";
		mes "Because the stones used for the city walls are relatively rough,";
		mes "Please remember that you need multiple types of stones.";
		next;
		mes "[Chief Mason]";
		mes "^0000cd99 " + getitemname(953) + ", 1 " + getitemname(640) + ", 99 " + getitemname(7049) + ", 3 " + getitemname(732) + "^000000.";
		next;
		if (BaseLevel > 119) {
			mes "[Chief Mason]";
			mes "Also.. ^0000cd50^000000 ^0000cd" + getitemname(7067) + "^000000 are also required.";
			next;
			mes "[Chief Mason]";
			mes "I'm going to check the wall, you go find some stones!";
			mes "Hurry up, there's a lot going on lately.";
			close2;
			erasequest 14337;
			setquest 14339;
			end;
		}
		mes "[Chief Mason]";
		mes "I'm going to check the wall, you go find some stones!";
		mes "Hurry up, there's a lot going on lately.";
		close2;
		erasequest 14337;
		setquest 14338;
		end;
	}
	mes "[Chief Mason]";
	mes "Wow!!! This guy is dead!!";
	mes "If I catch you, you're dead!!";
	close;
}

// Arch Wand Clan quest - Step 11, 12
aldeba_in,221,231,4	script	Boy with a sad face#awclan01	1_M_01,{
	if (checkweight(1304,3) == 0) {
		mes "[Dr. M]";
		mes "You carry so many things!?";
		mes "Don't you think it's too heavy?";
		next;
		mes "[Dr. M]";
		mes "Please come back after lightening up!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14343) == 1) {
		mes "[Dr. M]";
		mes "Was the neutralizer given to the mason?";
		mes "Is there any effect?";
		next;
		mes "[Dr. M]";
		mes "I'm curious too.";
		mes "If it doesn't work, come back to me!";
		close;
	}
	if (isbegin_quest(14342) == 1 || isbegin_quest(14341) == 1) {	// Step 12
		mes "[Dr. M]";
		mes "Have you come back?";
		mes "Did you bring the materials?";
		next;
		mes "[Dr. M]";
		mes "Let me see...";
		next;
		if (countitem(1093) < 1 || countitem(938) < 123 || countitem(994) < 5) {
			mes "[Dr. M]";
			mes "It seems not enough.";
			mes "Maybe you forgot!";
			next;
			mes "[Dr. M]";
			mes "^0000cd1 " + getitemname(1093) + ", 123 " + getitemname(938) + "^000000,";
			mes "There are also ^0000cd5 " + getitemname(994) + "^000000.";
			next;
			if (isbegin_quest(14342) == 1) {
				mes "[Dr. M]";
				mes "You also need ^0000cd3 " + getitemname(7511) + " and 13 " + getitemname(12020) + "^000000.";
				next;
			}
			mes "[Dr. M]";
			mes "This will produce enough.";
			mes "Go quickly and come back soon!";
			close;
		}
		if (isbegin_quest(14342) == 1) {
			if (countitem(7511) < 3 || countitem(12020) < 13) {
				mes "[Dr. M]";
				mes "Everything else is there, except for two things.";
				mes "You also need ^0000cd3 " + getitemname(7511) + " and 13 " + getitemname(12020) + "^000000.";
				close;
			}
		}
		mes "[Dr. M]";
		mes "The material is enough.";
		mes "This way I can do more.";
		next;
		mes "[Dr. M]";
		mes "Could you please wait a moment?";
		mes "I'll do it right away.";
		next;
		specialeffect EF_PHARMACY_OK;
		mes "[Dr. M]";
		mes "All done!";
		mes "Just take this with you.";
		next;
		mes "[Dr. M]";
		mes "The stonemason will tell you how to use it.";
		mes "Please give him my regards too.";
		close2;
		delitem 938,123;	// Sticky_Mucus
		delitem 994,5;	// Flame_Heart
		delitem 1093,1;	// Empty_Potion
		if (isbegin_quest(14342) == 1) {
			delitem 7511,3;	// Rune_Of_Darkness
			delitem 12020,13;	// Water_Of_Darkness
			erasequest 14342;
		}
		if (isbegin_quest(14341) == 1)
			erasequest 14341;
		setquest 14343;
		getitem 6852,1;	// Super_Neutralizer
		end;
	}
	if (isbegin_quest(14340) == 1) {	// Step 11
		mes "[" + .@player_name$ + "]";
		mes "Hello,";
		mes "It was the Chief Mason of Prontera who sent me here.";
		next;
		mes "[Dr. M]";
		mes "The stonemason just notified me, and I thought I was being taken away again!";
		mes "It's great that you came.";
		next;
		mes "[Dr. M]";
		mes "There are still a few materials missing to make the neutralizer.";
		mes "Can you help me collect it?";
		next;
		mes "[Dr. M]";
		mes "I'm really sorry.";
		mes "I am also very anxious.";
		next;
		mes "[Dr. M]";
		mes "I was afraid it would be too late and the Chief Mason would fix me.";
		next;
		mes "[Dr. M]";
		mes "Let me tell you what you need.";
		mes "Most of the materials are easily available.";
		next;
		mes "[Dr. M]";
		mes "^0000cd1 " + getitemname(1093) + ", 123 " + getitemname(938) + "^000000,";
		mes "There are also ^0000cd5 " + getitemname(994) + "^000000.";
		next;
		if (BaseLevel > 119) {
			mes "[Dr. M]";
			mes "Requires also ^0000cd3 " + getitemname(7511) + " and 13 " + getitemname(12020) + "^000000.";
			next;
		}
		mes "[Dr. M]";
		mes "This will make enough.";
		mes "Could you please come back soon?";
		next;
		mes "[Dr. M]";
		mes "Thank you for your help.";
		close2;
		erasequest 14340;
		if (BaseLevel > 119)
			setquest 14342;
		else
			setquest 14341;
		end;
	}
	mes "[Dr. M]";
	mes "This research will finally end!";
	close;
}

// Arch Wand Clan quest - Step 13
// prontera,76,283,4	script	Chief Mason#awclan01	1_M_HOF,{

// Arch Wand Clan quest - Step 14
// prontera,76,283,4	script	Chief Mason#awclan01	1_M_HOF,{

// Arch Wand Clan quest - Step [15-20]
// prt_fild08,23,379,4	script	Suspicious Footprints#awclan01	4_CRACK,{
// prt_fild08,323,371,4	script	Suspicious Footprints#awclan02	4_CRACK,{
// prt_fild06,22,99,4	script	Suspicious Footprints#awclan03	4_CRACK,{
// prt_fild06,22,268,4	script	Suspicious Footprints#awclan04	4_CRACK,{
// prt_fild05,375,309,4	script	Suspicious Footprints#awclan05	4_CRACK,{
// prt_fild05,375,49,4	script	Suspicious Footprints#awclan06	4_CRACK,{

// Arch Wand Clan quest - Step 21
cmd_fild09,349,172,4	script	Fortress Saint Darmain Guard#awclan01	4_M_LGTGUARD,{
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14354) == 1) {	// Step 24
		mes "[" + .@player_name$ + "]";
		mes "Hello...? Is this a different person..?";
		next;
		mes "[The guard who asked for directions the first time is gone, and another guard is standing here]";
		next;
		mes "[Fortress Saint Darmain Guard]";
		mes "Because I heard that there are people pretending to be guards. I am the real Fortress guard.";
		mes "Did you see the fake guard?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "The guard before... I have seen it.";
		next;
		mes "[Fortress Saint Darmain Guard]";
		mes "Where is he?";
		mes "Do you know who he is?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I would like to know too.";
		next;
		mes "[Fortress Saint Darmain Guard]";
		mes "Please let me know if you see it.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Let's report it to the Clan leader first!";
		close2;
		erasequest 14354;
		setquest 14355;
		end;
	}
	if (isbegin_quest(14353) == 1 || isbegin_quest(14352) == 1) {
		mes "[Fortress Saint Darmain Guard]";
		mes "Haven't you found it yet?";
		mes "It's not convenient for me to leave now.";
		next;
		mes "[Fortress Saint Darmain Guard]";
		mes "I am the only one guarding here.";
		mes "It's still early for the shift change!";
		next;
		mes "[Fortress Saint Darmain Guard]";
		mes "Please,";
		mes "find him.";
		close;
	}
	if (isbegin_quest(14351) == 1) {	// Step 21
		mes "[Fortress Saint Darmain Guard]";
		mes "Do you have anything to do with me?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Did you see a suspicious person passing by recently?";
		mes "You will smell like medicine.";
		next;
		mes "[Fortress Saint Darmain Guard]";
		mes "Not long ago, a few ^0000cdsuspicious people^000000 were seen heading towards the direction of the Pharos Lighthouse.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Aren't you alone? In the direction of the Pharos Lighthouse?";
		mes "I thought it was here!";
		next;
		mes "[Fortress Saint Darmain Guard]";
		mes "Anything else you want to know?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "No,";
		mes "Thanks!";
		close2;
		erasequest 14351;
		setquest 14352;
		end;
	}
	mes "[Fortress Saint Darmain Guard]";
	mes "Everything works fine!";
	close;
}

// Arch Wand Clan quest - Step 22
cmd_fild07,370,197,4	script	Alton#awclan01	1_M_03,{
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14355) == 1) {
		mes "[Alton]";
		mes "I have heard that";
		mes "That guard is an imposter!";
		next;
		mes "[Alton]";
		mes "What do you want to do?";
		mes "Hiding is a good spot.";
		next;
		mes "[Alton]";
		mes "I will pay attention to strangers again,";
		mes "I wish you all the best!";
		close;
	}
	if (isbegin_quest(14354) == 1) {
		mes "[Alton]";
		mes "What did Auntie Chen say?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "She said the guards at Fortress Saint Darmain were suspicious.";
		next;
		mes "[Alton]";
		mes "Huh? Does Saint Darmain have guards?";
		mes "As far as I know, there are no such guards recently!";
		close;
	}
	if (isbegin_quest(14353) == 1) {
		mes "[Alton]";
		mes "Have you seen Auntie Chen?";
		mes "What did she say?";
		next;
		mes "[Alton]";
		mes "Auntie Chen likes to observe people coming and going when she has nothing to do, so it's definitely a good idea to ask her.";
		close;
	}
	if (isbegin_quest(14352) == 1) {	// Step 22
		mes "[Alton]";
		mes "Oh? Haven't seen you before?";
		mes "Who are you?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I am a member of the Arch Wand Clan.";
		mes "Came here because of the request.";
		next;
		mes "[Alton]";
		mes "Clan? It was established not long ago!";
		mes "What are you doing here?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Have you ever seen a guy who smells like drugs?";
		mes "Someone who hasn't been in his seat for a long time.";
		next;
		mes "[Alton]";
		mes "I haven't seen the person you're talking about?";
		mes "Also don't get me wrong.";
		next;
		mes "[Alton]";
		mes "I am not just sitting there looking at passers-by.";
		mes "I was looking at passers-by and envisioning my career for tomorrow.";
		next;
		mes "[Alton]";
		mes "Maybe they come in and out at night.";
		mes "You may ask <NAVI>^4D4DFF[Auntie Chen]^000000<INFO>cmd_fild07,258,92,</INFO></NAVI> and it will be clearer.";
		next;
		mes "[Alton]";
		mes "I haven't seen anyone like that.";
		close2;
		erasequest 14352;
		setquest 14353;
		end;
	}
	mes "[Alton]";
	mes "What time is it now? I am hungry, so I should eat..?";
	close;
}

// Arch Wand Clan quest - Step 23
cmd_fild07,258,92,6	script	Auntie Chen#awclan01	4_F_CAVE1,{
	if (isbegin_quest(14355) == 1) {
		mes "[Auntie Chen]";
		mes "I heard that the guard was an imposter, right?";
		mes "Oh my god! How could...";
		next;
		mes "[Auntie Chen]";
		mes "It's not safe here either.";
		mes "I want to discuss this with you all.";
		next;
		mes "[Auntie Chen]";
		mes "I wish you all the best!";
		close;
	}
	if (isbegin_quest(14354) == 1) {
		mes "[Auntie Chen]";
		mes "Have you seen the guards?";
		mes "What did he say?";
		next;
		mes "[Auntie Chen]";
		mes "I heard that real guards would be sent over.";
		close;
	}
	if (isbegin_quest(14353) == 1) {	// Step 23
		.@player_name$ = strcharinfo(0);

		mes "[Auntie Chen]";
		mes "Are you a stranger?";
		mes "What are you doing here?";
		next;
		mes "[Auntie Chen]";
		mes "Am I asking too directly?";
		mes "Because not many people pass by here.";
		next;
		mes "[Auntie Chen]";
		mes "So what are you here for?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I am a Clan member of the Arch Wand.";
		mes "I came here on a request. Did you see anyone suspicious?";
		next;
		mes "[Auntie Chen]";
		mes "No!";
		mes "Could it be someone passing by during the day?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I asked Alton if he had seen anyone suspicious during the day.";
		next;
		mes "[Auntie Chen]";
		mes "That's weird..?";
		mes "Did you really come here?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Yes, the guards at Fortress Saint Darmain said that a stranger had been here recently.";
		next;
		mes "[Auntie Chen]";
		mes "Did Saint Darmain have guards?";
		mes "As far as I know, there are no guards here!";
		next;
		mes "[Auntie Chen]";
		mes "Can you elaborate?";
		mes "What happened? What did the guard look like?";
		next;
		mes "[Told her the whole story and about the guards. ]";
		next;
		mes "[Auntie Chen]";
		mes "This is the first time I heard there are guards here!";
		mes "My guess is...";
		next;
		mes "[Auntie Chen]";
		mes "That guard is the most suspicious, right?";
		mes "The original trace also refers to Fortress Saint Darmain, right?";
		next;
		mes "[Auntie Chen]";
		mes "Could the guard be the suspect?";
		mes "I'll ask about the guard, too.";
		next;
		mes "[Auntie Chen]";
		mes "" + .@player_name$ + ", you should also go find that guard!";
		close2;
		erasequest 14353;
		setquest 14354;
		end;
	}
	mes "[Auntie Chen]";
	mes "What should I eat today?";
	close;
}

// Arch Wand Clan quest - Step 24
// cmd_fild09,349,172,4	script	Fortress Saint Darmain Guard#awclan01	4_M_LGTGUARD,{

// Arch Wand Clan quest - Step 25
// prontera,47,112,5	script	Desmond#awclan01	4_M_DEBON,{

// Arch Wand Clan quest - Step 26
// prontera,47,112,5	script	Desmond#awclan01	4_M_DEBON,{

// Crossbow Clan quest - Step 27 - instance : Remnant's Base Camp
// iz_dun03,30,170,6	script	Goalkeeper#dunclan02	4_M_RASWORD,{

// Arch Wand Clan quest - Step 28
// prontera,47,112,5	script	Desmond#awclan01	4_M_DEBON,{


// Golden Hammer Clan quest - Step 1
prontera,226,355,5	script	Pangman#gmclan01	4_M_BIRMAN,{
	if (checkweight(1304,3) == 0) {
		mes "[Pangman]";
		mes "You need so many things!";
		mes "Don't you think it's too heavy?";
		next;
		mes "[Pangman]";
		mes "Please come back after lightening up!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (getcharid(5) != GOLDENMACECLAN) {
		mes "[Pangman]";
		mes "Aren't you a member of our Golden Hammer Clan?";
		mes "Please join our Golden Hammer Clan first and come back!";
		next;
		mes "[Pangman]";
		mes "I'll wait for you!";
		close;
	}

	// Weekly quest
	switch( checkquest(14468,PLAYTIME) ) {
	case -1:
		break;
	case 0:
	case 1:
		mes "[Pangman]";
		mes "You here again?";
		mes "Do you want to accept the request again?";
		next;
		mes "[Pangman]";
		mes "Practical experience and settlement are still important, but rest and recharge are also important.";
		mes "Take a good rest first and come back later!";
		close;
	case 2:
		callsub( S_Start, 14468 );	// Start hunting quest and remove playtime quest
	}
	if (isbegin_quest(14417) == 1) {	// Result of hunting for BaseLevel >= 120
		callsub( S_Completed, 14417, 6859, 22717 );

		if ($13_gm_clan_q < 50) {
			getitem 6849,1;	// Request_Complete
			getexp 1714000,0;
		}
		else if ($13_gm_clan_q < 150) {
			getitem 6849,2;	// Request_Complete
			getexp 2228200,0;
		}
		else if ($13_gm_clan_q < 200) {
			getitem 6849,3;	// Request_Complete
			getexp 3180000,0;
		}
		else {
			getitem 6849,4;	// Request_Complete
			getexp 3400000,0;
		}
		end;
	}
	if (isbegin_quest(14416) == 1) {	// Result of hunting for BaseLevel < 120
		callsub( S_Completed, 14416, 6858, 22718 );

		if ($13_gm_clan_q < 50) {
			getitem 6849,1;	// Request_Complete
			if (BaseLevel < 70)
				getexp 11000,0;
			else if (BaseLevel < 100)
				getexp 540000,0;
			else
				getexp 1714000,0;
		}
		else if ($13_gm_clan_q < 150) {
			getitem 6849,2;	// Request_Complete
			if (BaseLevel < 70)
				getexp 15000,0;
			else if (BaseLevel < 100)
				getexp 702000,0;
			else
				getexp 2228200,0;
		}
		else if ($13_gm_clan_q < 200) {
			getitem 6849,3;	// Request_Complete
			if (BaseLevel < 70)
				getexp 20000,0;
			else if (BaseLevel < 100)
				getexp 918000,0;
			else
				getexp 3180000,0;
		}
		else {
			getitem 6849,4;	// Request_Complete
			if (BaseLevel < 70)
				getexp 23000,0;
			else if (BaseLevel < 100)
				getexp 1080000,0;
			else
				getexp 3400000,0;
		}
		end;
	}
	if (isbegin_quest(14415) == 2) {	// First time weekly quest
		callsub( S_Start, 0 );
	}

	// Main quest
	if (isbegin_quest(14415) == 1) {	// Step 25
		mes "[Pangman]";
		mes "I've heard it!";
		mes "You cleared away all the leftovers!";
		next;
		mes "[Pangman]";
		mes "Thank you for your hard work!";
		mes "The residue has been cleared away and you can rest assured.";
		next;
		mes "[Pangman]";
		mes "At present, the remaining scum are being transferred to prison.";
		mes "Thank you for your hard work.";
		next;
		mes "[Pangman]";
		mes "Can you come here more often in the future?";
		mes "There are many things to be entrusted.";
		next;
		mes "[Pangman]";
		mes "You go back and rest first!";
		mes "Thank you very much!~";
		close2;
		completequest 14415;
		if (BaseLevel < 70)
			getexp 23000,0;
		else if (BaseLevel < 111)
			getexp 1080000,0;
		else
			getexp 2400000,0;
		end;
	}
	if (isbegin_quest(14414) == 1) {
		mes "[Pangman]";
		mes "It seems that the cleanup has not been completed yet.";
		mes "Of course, I know that this is not an easy task.";
		next;
		mes "[Pangman]";
		mes "But sooner or later they have to be eliminated!";
		mes "So please grab them all!";
		close;
	}
	if (isbegin_quest(14413) == 2) {	// Step 23
		mes "[Pangman]";
		mes "Are you here?";
		mes "Did you have a good rest?";
		next;
		mes "[Pangman]";
		mes "I was planning to contact you.";
		mes "You seem to lack interest.";
		next;
		mes "[Pangman]";
		mes "Listen to it first.";
		mes "Must be interested.";
		next;
		mes "[Pangman]";
		mes "Last time you said someone asked the wizard about the curse, right?";
		mes "I have formed another investigation team to look into this matter.";
		next;
		mes "[Pangman]";
		mes "Have you ever heard of ^0000cd'Rune Midgard Liberation Front'^000000?";
		mes "It may not be clear, because it was eliminated before it could grow in power.";
		next;
		mes "[Pangman]";
		mes "They were dissatisfied with the royal family and nobles, and recruited uninformed people to seek revenge.";
		mes "Their leader was very capable, so he had many followers.";
		next;
		mes "[Pangman]";
		mes "At first, their power was small and not threatening, but later, as their numbers grew, their power could not be underestimated.";
		mes "Later, the kingdom personally formed an elite force and dismantled the organization, and it was the Leaders of the Clans who dismantled them.";
		next;
		mes "[Pangman]";
		mes "Most of them were arrested or released during the raid, but unfortunately the leaders and core members escaped.";
		mes "After being quiet for a while, they are ready to make a move again.";
		next;
		mes "[Pangman]";
		mes "Among them, ^0000cdLouis^000000 is the character you heard from the wizard.";
		mes "He wanted to use the grandson of Comodo Island to seize his family's property and use it as funds for the organization.";
		next;
		mes "[Pangman]";
		mes "I heard that he is very interested in summoning the dead.";
		mes "He also said that living people are unreliable.";
		next;
		mes "[Pangman]";
		mes "He was originally a simple young man, but one day he received a lucky letter.";
		mes "You know, right? That letter came from Morocc.";
		next;
		mes "[Pangman]";
		mes "He actually believed the contents of the letter and spent a week writing 270 letters before mailing them out.";
		mes "But not long after, he collapsed after receiving 56 similar letters.";
		next;
		mes "[Pangman]";
		mes "Later, Heydrich, who met Louis, told him that the letter was all fake.";
		next;
		mes "[Pangman]";
		mes "Louis, who believed the contents of the letter, was very sad and angry.";
		next;
		mes "[Pangman]";
		mes "Heydrich also took the opportunity to tell him about being bullied by the nobles.";
		mes "And that thing is so outrageous that I can't even say it.";
		next;
		mes "[Pangman]";
		mes "Anyway, Heydrich asked Louis to join the organization.";
		mes "Louis, who was deeply disappointed with humans, decided to take revenge on them.";
		next;
		mes "[Pangman]";
		mes "And only believed in Heydrich and himself,";
		mes "That's why I want to manipulate the dead.";
		next;
		mes "[Pangman]";
		mes "If we stand aside and watch, it will cause a commotion like last time when the dead summon the dead everywhere.";
		mes "According to intelligence, they are planning to cause trouble.";
		next;
		mes "[Pangman]";
		mes "Recently strange things have been happening all over the kingdom.";
		mes "And it is related to the 'Rune Midgard Liberation Front'.";
		next;
		mes "[Pangman]";
		mes "We can't leave it alone any longer.";
		mes "Although I wanted to do it myself, the other party knew my face.";
		next;
		mes "[Pangman]";
		mes "So I'd like you to arrest them.";
		mes "The location of the base camp has been determined.";
		next;
		mes "[Pangman]";
		mes "I heard that they built an identical cave in the cave in ^0000cdIzlude Island^000000 to serve as a base camp for training.";
		mes "In the future, it is also possible to establish a base in Prontera to conduct simulated training for terrorist operations.";
		next;
		mes "[Pangman]";
		mes "I have placed my own people at the entrance, you can arrest them.";
		mes "You can carry out base camp cleanup missions with other colleagues.";
		next;
		mes "[Pangman]";
		mes "Thank you for your help.";
		close2;
		setquest 14414;
		end;
	}
	if (isbegin_quest(14413) == 1) {	// Step 22
		mes "[Pangman]";
		mes "You are here!";
		mes "This mission isn't easy, is it?";
		next;
		mes "[Pangman]";
		mes "Did you find out anything by going to the Land of the Dead?";
		next;
		mes "[Tell him about the grandfather who deliberately didn't tell about the will to his grandson and the Morocc girl's home will no longer summon ghosts. ]";
		next;
		mes "[Pangman]";
		mes "Are you deliberately going to find the dead to bind them?";
		mes "And was it someone who was with the other clients?";
		next;
		mes "[Pangman]";
		mes "Hmm.. something is fishy.";
		mes "Additional investigation is needed.";
		next;
		mes "[Pangman]";
		mes "I'll ask other people to investigate.";
		mes "You go and have a rest!";
		next;
		mes "[Pangman]";
		mes "Thank you for your hard work,";
		mes "Sorry to trouble you next time.";
		close2;
		completequest 14413;
		if (BaseLevel < 70)
			getexp 23000,0;
		else if (BaseLevel < 111)
			getexp 1080000,0;
		else
			getexp 2400000,0;
		end;
	}
	if (isbegin_quest(14412) == 1 || isbegin_quest(14411) == 1 || isbegin_quest(14410) == 1 || isbegin_quest(14409) == 1 || isbegin_quest(14408) == 1 || isbegin_quest(14407) == 1) {
		mes "[Pangman]";
		mes "The request task is tiring!";
		mes "You look so tired.";
		next;
		mes "[Pangman]";
		mes "Take care of yourself.";
		close;
	}
	if (isbegin_quest(14406) == 1 || isbegin_quest(14405) == 1 || isbegin_quest(14372) == 1 || isbegin_quest(14371) == 1) {
		mes "[Pangman]";
		mes "Was I worried about you?";
		mes "But you seem to be in good spirits!";
		close;
	}
	if (isbegin_quest(14370) == 1 || isbegin_quest(14369) == 1 || isbegin_quest(14368) == 1 || isbegin_quest(14367) == 1 || isbegin_quest(14366) == 1 || isbegin_quest(14365) == 1 || isbegin_quest(14364) == 1) {
		mes "[Pangman]";
		mes "My clothes and hands were dirty.";
		mes "Is the request too much?";
		next;
		mes "[Pangman]";
		mes "Please take care of yourself.";
		close;
	}
	if (isbegin_quest(14363) == 1 || isbegin_quest(14362) == 1) {
		mes "[Pangman]";
		mes "Have you ever been to Niflheim?";
		mes "You have to prepare well before going.";
		next;
		mes "[Pangman]";
		mes "There are very powerful monsters over there.";
		close;
	}
	if (isbegin_quest(14361) == 1) {	// Step 3
		mes "[Pangman]";
		mes "Are you here?";
		mes "Is the client trembling with fear?";
		next;
		mes "[Pangman]";
		mes "Are there a lot of ghosts?";
		mes "Did it hurt anyone?";
		next;
		mes "[Tell him what you saw and the conversation at the client's house]";
		next;
		mes "[Pangman]";
		mes "There's no reason for ghosts to appear, right?";
		mes "You need to know the cause in order to solve the problem.";
		next;
		mes "[Pangman]";
		mes "Although I don't recommend this method, there is no other way.";
		mes "Sorry to trouble you.";
		next;
		mes "[Pangman]";
		mes "Go to the ^0000cdNiflheim^000000!";
		mes "It is unusual for the dead to appear in the place of the living.";
		next;
		mes "[Pangman]";
		mes "Because it won't appear without a reason,";
		mes "So we'll look for clues there.";
		next;
		mes "[Pangman]";
		mes "By the way, this is also a problem on the way to Niflheim.";
		mes "Comodo Island on the way to Niflheim.";
		next;
		mes "[Pangman]";
		mes "A grandfather passed away there not long ago. I heard that he left a ^0000cdwill^000000 to his only grandson.";
		next;
		mes "[Pangman]";
		mes "The grandson wants to hear his grandfather's last words. Let's go see the grandson first and then go to Niflheim!";
		mes "The address is <NAVI>^4D4DFF[Comodo Island, No. 239-296]^000000<INFO>comodo,239,296,</INFO></NAVI>.";
		next;
		mes "[Pangman]";
		mes "Hope you can handle it properly.";
		next;
		mes "[Pangman]";
		mes "Thank you for your help.";
		close2;
		erasequest 14361;
		setquest 14362;
		end;
	}
	if (isbegin_quest(14360) == 1) {
		mes "[Pangman]";
		mes "How are things handled?";
		mes "Have you ever comforted a trembling client?";
		next;
		mes "[Pangman]";
		mes "We need to know how to comfort people.";
		mes "That is the reason why the Clan exists.";
		close;
	}
	if (isbegin_quest(14360) == 0) {	// Step 1
		mes "[Pangman]";
		mes "We meet again,";
		mes "Hello!";
		next;
		mes "[Pangman]";
		mes "I was waiting for you to come over.";
		mes "It's so nice to see you.";
		next;
		mes "[Pangman]";
		mes "You know that our Golden Hammer Clan belongs to the Kingdom, right?";
		mes "The kingdom hopes that the members of the Clan can help the people solve difficult and complicated problems.";
		next;
		mes "[Pangman]";
		mes "So I want to entrust you with a task. Is that ok?";
		mes "This is a rare opportunity.";
		next;
		if (select( "Sure", "Next time" ) == 2) {
			mes "[Pangman]";
			mes "Right?";
			mes "I'll trouble you next time!";
			next;
			mes "[Pangman]";
			mes "Good luck!";
			close;
		}
		mes "[Pangman]";
		mes "Very good!";
		mes "I'm still worried about how to deal with it!";
		next;
		mes "[Pangman]";
		mes "I see the most urgent request is...";
		mes "It's a bit scary!";
		next;
		mes "[Pangman]";
		mes "A ghost appeared in a house in ^0000cdMorocc^000000's request.";
		mes "Would you please investigate?";
		next;
		mes "[Pangman]";
		mes "Talk to Lily from <NAVI>^4D4DFF[Morocc No. 101-71]^000000<INFO>morocc,101,71,</INFO></NAVI>.";
		mes "Go to Morocc and ask her!";
		next;
		mes "[Pangman]";
		mes "The ghost has been appearing for weeks and is deeply troubled.";
		mes "Really hope that can solve the problem.";
		close2;
		setquest 14360;
		end;
	}
	mes "[Pangman]";
	mes "It hasn't been peaceful lately.";
	mes "The Clan has the responsibility to maintain stability.";
	next;
	mes "[Pangman]";
	mes "We must lead by example.";
	close;

S_Start:
	.@quest_id = getarg(0);
	.@player_name$ = strcharinfo(0);

	if (.@quest_id != 0) {
		mes "[Pangman]";
		mes "You came at the right time.";
		mes "Are you here to accept a request?";
		next;
		mes "[Pangman]";
		mes "The request is the same as before,";
		mes "Research requires the dead...";
	}
	else {
		mes "[Pangman]";
		mes "You came just in time,";
		mes "Are you in good health?";
		next;
		mes "[Pangman]";
		mes "The last time you solved a";
		mes "After reporting this to the church, we were very concerned about this matter.";
		next;
		mes "[Pangman]";
		mes "A research team was immediately formed on summoning.";
		mes "But since we are just starting out, we still need a lot of information.";
		next;
		mes "[Pangman]";
		mes "So I would like to entrust you to " + .@player_name$ + " to collect data,";
		mes "Are you willing to do it?";
		next;
		if (select( "Leave it to me!", "I'm a little tired now" ) == 2) {
			mes "[Pangman]";
			mes "Really? What a pity.";
			mes "You" + .@player_name$ + "are the best person for this.";
			next;
			mes "[Pangman]";
			mes "Come again next time!!";
			close;
		}
		mes "[Pangman]";
		mes "Very good!";
		mes "You" + .@player_name$ + "are the best person for this.";
		next;
		mes "[Pangman]";
		mes "Let me tell you the details!";
		mes "A monster that needs to be studied. .";
	}
	next;
	if (BaseLevel < 120) {
		mes "[Pangman]";
		mes "I'll give you " + getitemname(22718) + " to catch ^0000cd" + getmonsterinfo("LUDE", MOB_NAME) + "^000000.";
		mes "I heard from the summoner that " + getmonsterinfo("LUDE", MOB_NAME) + " is very easy to summon!";
		next;
		mes "[Pangman]";
		mes "It's actually quite easy to summon them.";
		mes "Just capture 70 ^0000cd" + getmonsterinfo("LUDE", MOB_NAME) + "^000000.";
		next;
		mes "[Pangman]";
		mes "By the way, there are other requests,";
		mes "You know ^0000cd" + getmonsterinfo("C4_INJUSTICE", MOB_NAME) + "^000000, right?";
		next;
		mes "[Pangman]";
		mes "And they are the most powerful among the evil messengers,";
		mes "who will be extremely angry and burn the surroundings to scorched earth.";
		next;
		mes "[Pangman]";
		mes "Is it that amazing?";
		mes "You'll know when you go and see it.";
		next;
		mes "[Pangman]";
		mes "Go and kill ^0000cd50 " + getmonsterinfo("C4_INJUSTICE", MOB_NAME) + "^000000,";
		mes "and do the Lude request together with them!";
		next;
		mes "[Pangman]";
		mes "Thank you for your help.";
		close2;
		if (.@quest_id != 0) {
			erasequest 14468;
			setquest 14416;
			getitem 22718,50;	// Ball_Rude
		}
		else {
			setquest 14416;
			getitem 22718,100;	// Ball_Rude
		}
		end;
	}
	mes "[Pangman]";
	mes "I'll give you " + getitemname(22717) + " to catch ^0000cd30 " + getmonsterinfo("WANDER_MAN", MOB_NAME) + "^000000,";
	mes "the hall summoner said that the " + getmonsterinfo("WANDER_MAN", MOB_NAME) + " can never be summoned.";
	next;
	mes "[Pangman]";
	mes "I heard that they don't just conduct experiments on monsters from Niflheim,";
	mes "so please be careful.";
	next;
	mes "[Pangman]";
	mes "Oh, and there are other requests, too.";
	mes "You know ^0000cd" + getmonsterinfo("C1_LOLI_RURI", MOB_NAME) + "^000000, right?";
	next;
	mes "[Pangman]";
	mes "There are monsters with a cat on their heads and bats leading them,";
	mes "and some of them are quite agile.";
	next;
	mes "[Pangman]";
	mes "That agile move will burn the surrounding area to scorched earth.";
	mes "No matter how powerful it is, it can't be that powerful, haha!";
	next;
	mes "[Pangman]";
	mes "Go and kill ^0000cd50 " + getmonsterinfo("C1_LOLI_RURI", MOB_NAME) + "^000000,";
	mes "and do the request for the Wanderers at the same time!";
	next;
	mes "[Pangman]";
	mes "Thank you for your help.";
	close2;
	if (.@quest_id != 0) {
		erasequest 14468;
		setquest 14417;
		getitem 22717,50;	// Ball_Wanderer
	}
	else {
		setquest 14417;
		getitem 22717,60;	// Ball_Wanderer
	}
	end;

S_Completed:
	.@quest_id = getarg(0);
	.@egg = getarg(1);
	.@hunting_ball = getarg(2);
	.@player_name$ = strcharinfo(0);

	mes "[Pangman]";
	mes "Are you back?";
	mes "Have all the requests been completed?";
	next;
	if (checkquest(.@quest_id,HUNTING) != 2 || countitem(.@egg) < 30) {
		if (countitem(.@egg) < 30 && countitem(.@hunting_ball) < 1) {
			mes "[Pangman]";
			mes "Have you run out of " + getitemname(.@hunting_ball) + "?";
			mes "That's not easy to catch, right?";
			next;
			mes "[Pangman]";
			mes "I'll give you some more, please keep going!";
			close2;
			getitem .@hunting_ball,50;
			end;
		}
		mes "[Pangman]";
		mes "Is the work not yet done?";
		mes "Didn't you forget the request?";
		next;
		mes "[Pangman]";
		if (.@quest_id == 14417) {
			mes "After capturing ^0000cd30 " + getmonsterinfo("WANDER_MAN", MOB_NAME) + "^000000,";
			mes "Kill 50^0000cd " + getmonsterinfo("C1_LOLI_RURI", MOB_NAME) + "^000000.";
		}
		else {
			mes "After capturing ^0000cd70^000000 " + getmonsterinfo("LUDE", MOB_NAME) + ",";
			mes "kill ^0000cd50^000000 " + getmonsterinfo("C4_INJUSTICE", MOB_NAME) + ".";
		}
		next;
		mes "[Pangman]";
		mes "Please keep going!";
		close;
	}
	mes "[Pangman]";
	mes "All the requested matters have been completed!";
	mes "Wow! What a neat and efficient job!";
	next;
	mes "[Pangman]";
	mes "Leave it to you " + .@player_name$ + " is the right choice,";
	mes "My vision is definitely correct.";
	next;
	mes "[Pangman]";
	mes "I will entrust you with the task next time.";
	mes "You can take a rest first!";
	next;
	mes "[Pangman]";
	mes "Until next time!";
	close2;
	delitem .@hunting_ball, countitem(.@hunting_ball);
	delitem .@egg, countitem(.@egg);
	erasequest .@quest_id;
	setquest 14468;
	return;
}

// Golden Hammer Clan quest - Step 2
morocc_in,72,167,4	script	Troubled Girl#gmclan01	4_F_02,{
	if (checkweight(1304,3) == 0) {
		mes "[Lilly]";
		mes "You brought too many things!";
		mes "Don't you think it's too heavy?";
		next;
		mes "[Lilly]";
		mes "Please come back after lightening up!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14411) == 1) {	// Step 20
		mes "[Lilly]";
		mes "Has the bouquet been delivered?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Well, he is very happy!";
		mes "And the ghost will not appear again.";
		next;
		mes "[Lilly]";
		mes "Wow! Really?";
		mes "Very good!!!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Only..";
		next;
		mes "[Lilly]";
		mes "Only..?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "There is no way to deal with those who have already been summoned.";
		mes "They can't be sent back.";
		next;
		mes "[Lilly]";
		mes "Uh... so should I live with them?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I'll find a way to drive it away later.";
		next;
		mes "[Lilly]";
		mes "Actually... ";
		mes "It seems that the bouquet I made last time was seen by the villagers.";
		next;
		mes "[Lilly]";
		mes "The bouquets seemed to be welcomed by the villagers.";
		mes "People who used to be afraid also come to visit.";
		next;
		mes "[Lilly]";
		mes "So I want to sell flowers here and don't plan to leave.";
		mes "I also have feelings for this place.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Is it really okay?";
		next;
		mes "[Lilly]";
		mes "Anyway, it never hurt me.";
		mes "It doesn't matter as long as the quantity doesn't increase.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Oh well!";
		mes "If you want to drive them away later, just tell me!";
		next;
		mes "[Lilly]";
		mes "OK, I understand.";
		mes "Thank you very much.";
		next;
		mes "[Lilly]";
		mes "Please walk slowly!";
		close2;
		erasequest 14411;
		setquest 14412;
		end;
	}
	if (isbegin_quest(14372) == 1) {	// Step 14
		mes "[Lilly]";
		mes "Did you bring the bouquet that I asked for?";
		mes "You can smell the flowers. .";
		next;
		if (countitem(748) < 3 || countitem(629) < 1 || countitem(710) < 1 || countitem(608) < 1 || countitem(7194) < 15) {
			mes "[Lilly]";
			mes "Please, where is your bouquet?";
			mes "Have you forgotten what flower is?";
			next;
			mes "[Lilly]";
			mes "Yes ^0000cd^0000cd3 " + getitemname(748) + ", 1 " + getitemname(629) + " and 1 " + getitemname(710) + "^000000,";
			mes "^0000cd1 " + getitemname(608) + " and 15 " + getitemname(7194) + "^000000 for decoration.";
			next;
			mes "[Lilly]";
			mes "Thank you for your help.";
			close;
		}
		mes "[Lilly]";
		mes "Wow! You have all the stuff!";
		mes "Then I can make the bouquet. Sorry, please wait a moment.";
		next;
		mes "[Lilly]";
		mes "This flower should be placed like this...";
		mes "Done!";
		next;
		mes "[Lilly]";
		mes "I haven't made flowers for a long time. I'm so happy...";
		mes "I would like to reopen the flower shop as soon as possible.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I will help you solve the problem. Wait for me.";
		mes "I'll go deliver the bouquet first.";
		next;
		mes "[Lilly]";
		mes "Thank you for the help!";
		close2;
		delitem 748,3;	// Witherless_Rose
		delitem 629,1;	// Singing_Flower
		delitem 710,1;	// Illusion_Flower
		delitem 608,1;	// Seed_Of_Yggdrasil
		delitem 7194,15;	// Soft_Leaf
		erasequest 14372;
		setquest 14405;
		getitem 6853,1;	// Thankful_Flowers
		end;
	}
	if (isbegin_quest(14371) == 1) {	// Step 13
		mes "[" + .@player_name$ + "]";
		mes "Please ask...";
		next;
		mes "[Lilly]";
		mes "Have you found out how to drive away ghosts?";
		mes "I thought there wasn't such a method!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "No!";
		mes "Do you know the lady who sent a bouquet from Morocc to Comodo Island?";
		next;
		mes "[Lilly]";
		mes "Ah.. Comodo Island.. Do you mean to ^0000cdEdward King^000000's?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Yes, do you know him?";
		next;
		mes "[Lilly]";
		mes "Of course, I am the lady.";
		mes "This place was originally a flower shop!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "That's great.";
		mes "Did you know Edward King passed away?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "He left something for you.";
		mes "I'm here to hand it over to you.";
		next;
		mes "[Lilly]";
		mes "Is there anything for me?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "The seven gems.";
		mes "When I went to the Land of the Dead, he told me he wanted to express his gratitude to you.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "He was planning to give it to you, but he didn't have time to give it to you in person.";
		next;
		mes "[Lilly]";
		mes "I can't accept it.";
		mes "I didn't go there to collect things.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "You take it!";
		mes "Edward said that thanks to your comfort, he must thank you.";
		next;
		mes "[Lilly]";
		mes "Okay... I'll take it then!";
		mes "I also want to thank him, but I don't know how to...";
		next;
		mes "[Lilly]";
		mes "By the way, I'll give Edward the flowers he likes.";
		mes "There aren't many flowers left now.";
		next;
		mes "[Lilly]";
		mes "Could you please help me collect the flowers?";
		mes "I'm so sorry.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "No problem,.";
		mes "What kind of flowers do you need?";
		next;
		mes "[Lilly]";
		mes "What I need is";
		mes "^0000cd3 " + getitemname(748) + "^000000.";
		next;
		mes "[Lilly]";
		mes "There are also ^0000cd1 " + getitemname(629) + " and 1 " + getitemname(710) + "^000000,";
		mes "^0000cd1 " + getitemname(608) + " and 15 " + getitemname(7194) + "^000000 for decoration.";
		next;
		mes "[Lilly]";
		mes "Thank you for your help.";
		close2;
		erasequest 14371;
		setquest 14372;
		end;
	}
	if (isbegin_quest(14361) == 1) {
		mes "[Lilly]";
		mes "You are here again!";
		mes "Have you heard any news?";
		next;
		mes "[Lilly]";
		mes "How long will I live like this?";
		close;
	}
	if (isbegin_quest(14360) == 1) {	// Step 2
		mes "[Lilly]";
		mes "Tired of this kind of life!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Hello,";
		mes "I am a member of the Golden Hammer Clan...";
		next;
		mes "[Lilly]";
		mes "Wow!!!";
		mes "A new ghost again!!!!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I am a human being, please rest assured.";
		mes "I am here on behalf of the Golden Hammer Clan.";
		next;
		mes "[Lilly]";
		mes "Golden Hammer.. Clan..?";
		mes "Are you really a human?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Yes, I heard that there was a ghost in the house, so I came to help solve it.";
		next;
		mes "[Lilly]";
		mes "That's great, it's really great!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "When did the ghosts start appearing?";
		next;
		mes "[Lilly]";
		mes "Um.. about 3 weeks ago,";
		mes "One day when I woke up from my sleep, I saw a ghost on the ceiling looking at me.";
		next;
		mes "[Lilly]";
		mes "Since then, the number of ghosts has increased.";
		mes "I can't move out because this house was left to me by my mother.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Didn't you notice anything suspicious that day?";
		mes "Or something ran into the house?";
		next;
		mes "[Lilly]";
		mes "No, just a normal day.";
		mes "Besides the death of my loving neighbor grandpa...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Grandpa? Did you attend the funeral?";
		mes "Sometimes ghosts follow a funeral procession.";
		next;
		mes "[Lilly]";
		mes "I was too busy that day so I didn't go.";
		mes "So I'm deeply sorry.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Did those ghosts hurt you?";
		next;
		mes "[Lilly]";
		mes "No! It just appears and disappears.";
		mes "It's just that I'm scared.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I understand,";
		mes "it seems there are too few clues.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I'll have to investigate further.";
		next;
		mes "[Lilly]";
		mes "OK... thank you for your help.";
		close2;
		erasequest 14360;
		setquest 14361;
		end;
	}
	mes "[Lilly]";
	mes "I counted the ghosts: one, two, three, four... Ah! How many did I count?";
	close;
}

morocc_in,79,168,4	script	#gmclan098	HIDDEN_NPC,{
	end;
OnInit:
	initnpctimer;
	end;
OnTimer1000:
	enablenpc "Soul of a pumpkin#gmclan06";
	enablenpc "Soul of a pumpkin#gmclan07";
	end;
OnTimer5000:
	enablenpc "Little devil#gmclan01";
	enablenpc "Silver Moon Witch#gmclan05";
	end;
OnTimer7000:
	enablenpc "Polly the Ghost#gmclan04";
	disablenpc "Soul of a pumpkin#gmclan06";
	enablenpc "Little devil#gmclan02";
	disablenpc "Little devil#gmclan01";
	end;
OnTimer10000:
	disablenpc "Soul of a pumpkin#gmclan07";
	enablenpc "Polly the Ghost#gmclan03";
	disablenpc "Silver Moon Witch#gmclan05";
	enablenpc "Soul of a pumpkin#gmclan06";
	end;
OnTimer12000:
	enablenpc "Little devil#gmclan01";
	enablenpc "Soul of a pumpkin#gmclan07";
	end;
OnTimer15000:
	disablenpc "Polly the Ghost#gmclan03";
	enablenpc "Silver Moon Witch#gmclan05";
	enablenpc "Soul of a pumpkin#gmclan07";
	disablenpc "Polly the Ghost#gmclan04";
	disablenpc "Little devil#gmclan02";
	end;
OnTimer19000:
	disablenpc "Little devil#gmclan01";
	disablenpc "Soul of a pumpkin#gmclan07";
	enablenpc "Polly the Ghost#gmclan03";
	end;
OnTimer24000:
	disablenpc "Soul of a pumpkin#gmclan06";
	enablenpc "Little devil#gmclan01";
	disablenpc "Silver Moon Witch#gmclan05";
	enablenpc "Little devil#gmclan02";
	end;
OnTimer30000:
	initnpctimer;
	end;
}

morocc_in,76,165,1	duplicate(dummy_disabled_npc)	Little devil#gmclan01	4_DEVIRUCHI
morocc_in,74,163,7	duplicate(dummy_disabled_npc)	Little devil#gmclan02	4_DEVIRUCHI
morocc_in,72,159,5	duplicate(dummy_disabled_npc)	Polly the Ghost#gmclan03	4_GHOSTRING
morocc_in,80,159,7	duplicate(dummy_disabled_npc)	Polly the Ghost#gmclan04	4_GHOSTRING
morocc_in,80,156,1	duplicate(dummy_disabled_npc)	Silver Moon Witch#gmclan05	4_LOLI_RURI
morocc_in,77,162,3	duplicate(dummy_disabled_npc)	Soul of a pumpkin#gmclan06	4_LUDE
morocc_in,78,167,2	duplicate(dummy_disabled_npc)	Soul of a pumpkin#gmclan07	4_LUDE
morocc_in,78,163,2	duplicate(dummy_npc)	Mr. Pumpkin#gmclan08	4_JACK

morocc_in,81,163,2	script	#gmclan099	HIDDEN_NPC,{
	end;
OnInit:
	initnpctimer;
	end;
OnTimer4000:
	specialeffect EF_GHOST;
	end;
OnTimer10000:
	specialeffect EF_BAT;
	end;
OnTimer16000:
	initnpctimer;
	end;
}

// Golden Hammer Clan quest - Step 3
// prontera,226,355,5	script	Pangman#gmclan01	4_M_BIRMAN,{

// Golden Hammer Clan quest - Step 4
cmd_in01,169,86,4	script	Garen#gmclan01	4_M_NOVELIST,{
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14413) == 1) {
		mes "[Garen]";
		mes "Go ahead!";
		mes "I don't need you.";
		close;
	}
	if (isbegin_quest(14412) == 1) {	// Step 21
		mes "[Louis]";
		mes "I'll come back later then.";
		next;
		donpcevent "Louis#gmclan01::OnDisable";
		mes "[Garen]";
		mes "Ah~~ Where do you go all day long?";
		mes "So annoying!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Hello, do you remember me?";
		next;
		mes "[Garen]";
		mes "Nonsense!";
		mes "Of course I recognize it.";
		next;
		mes "[Garen]";
		mes "Have you met grandpa?";
		mes "What did he say?";
		next;
		mes "[Garen]";
		mes "Is there anyone who can tell me where the heritage is hidden?";
		mes "Where is it?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I didn't see grandpa.";
		mes "I searched Niflheim but didn't see your Grandpa.";
		next;
		mes "[Garen]";
		mes "I just knew it.";
		mes "So I said it should be handed over to capable people.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "But where is Louis?";
		next;
		mes "[Garen]";
		mes "Didn't you see it when you went out just now?";
		mes "He said it was urgent.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Um.. Really? Let me know when he comes back.";
		next;
		mes "[Garen]";
		mes "Why?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I have something to confirm.";
		mes "He won't use the dead to do bad things in other places!";
		next;
		mes "[Garen]";
		mes "He's not that kind of person?";
		mes "Why do you pay attention to my affairs?";
		next;
		mes "[Garen]";
		mes "Can I just do it casually because it is voluntary work?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "You've gone too far.";
		mes "Anyway, I have tried my best.";
		next;
		mes "[Garen]";
		mes "Never mind.";
		mes "I'll have someone investigate further.";
		next;
		mes "[Garen]";
		mes "Goodbye!";
		close2;
		erasequest 14412;
		setquest 14413;
		end;
	}
	if (isbegin_quest(14363) == 1) {
		mes "[Garen]";
		mes "Have you met grandpa?";
		mes "What did he say?";
		next;
		mes "[Garen]";
		mes "I really don't have time.";
		mes "Go quickly and come back soon!";
		close;
	}
	if (isbegin_quest(14362) == 1) {	// Step 4
		mes "[Garen]";
		mes "I should have found someone more capable earlier.";
		next;
		mes "[Louis]";
		mes "Wait a moment, there is still time!";
		next;
		mes "[Garen]";
		mes "We must speed up.";
		mes "It shouldn't have been given to them.";
		next;
		mes "[Louis]";
		mes "That is the best choice.";
		mes "They are the best in the mainland.";
		next;
		mes "[Garen]";
		mes "Now money makes the world go round.";
		mes "Just give money to do good things";
		next;
		mes "[Louis]";
		mes "But in the end, you will be killed by money.";
		mes "Just be patient and wait and see.";
		next;
		mes "[Garen]";
		mes "If you don't come today, I will change the client!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Hello,";
		mes "I am a member of the Golden Hammer Clan.";
		next;
		mes "[Garen]";
		mes "You just came now!";
		mes "I've been waiting for you for so long?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Sorry, there is no one to take over.";
		next;
		mes "[Louis]";
		mes "It doesn't matter. Do you know the content of the request?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I probably heard that.";
		mes "You want to hear the will, right?";
		next;
		mes "[Garen]";
		mes "Alas! I know nothing.";
		mes "How was it requested?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Tell me more!";
		next;
		mes "[Louis]";
		mes "Sorry! He is in a bad mood because of the loss of his grandfather.";
		mes "Let me speak for you!";
		next;
		mes "[Louis]";
		mes "This friend's grandfather had been bedridden for a long time and passed away not long ago.";
		next;
		mes "[Louis]";
		mes "He died before he could finish telling where to put his inheritance.";
		next;
		mes "[Garen]";
		mes "But! I need money urgently now!";
		next;
		mes "[Garen]";
		mes "My business is not doing well now and it's annoying that my creditors come to collect debts every now and then.";
		next;
		mes "[Garen]";
		mes "He also threatened to mortgage the house if the money was not repaid.";
		next;
		mes "[Garen]";
		mes "This family has been passed down for generations!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Didn't grandpa usually say anything?";
		next;
		mes "[Garen]";
		mes "How can you find time to visit grandpa when you are busy with your career?";
		mes "I need that inheritance now.";
		next;
		mes "[Garen]";
		mes "Go to ^0000cdNiflheim^000000 to meet my grandfather and find out his last will.";
		mes "My grandfather's full name is ^0000cdEdward King^000000.";
		close2;
		erasequest 14362;
		setquest 14363;
		end;
	}
	mes "[Garen]";
	mes "I've been waiting for this for a long time!!";
	mes "Don't want to wait any longer!!!";
	close;
}

cmd_in01,172,87,2	script	Louis#gmclan01	4_M_MASKMAN,{
	mes "[Louis]";
	mes "I have nothing to say.";
	close;

OnDisable:
	disablenpc();
	initnpctimer;
	end;
OnTimer30000:
	enablenpc();
	stopnpctimer;
	end;
}

// Golden Hammer Clan quest - Step 5
niflheim,125,65,4	script	Kind Grandfather#gmclan01	1_M_JOBTESTER,{
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14411) == 1) {
		mes "[Edward]";
		mes "Are you leaving? Please go slowly!";
		mes "Thank you very much, come and see me if you need any help!";
		close;
	}
	if (isbegin_quest(14407) == 1) {
		mes "[Edward]";
		mes "Been to a cemetery?";
		mes "How can I help?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "After I went there, it seemed that I was summoned by the summoner's curse.";
		mes "Someone needs to be found who will break the spell.";
		next;
		mes "[Edward]";
		mes "Curse expert? Wizard..?";
		mes "I know someone...";
		next;
		mes "[Edward]";
		mes "Is it a bit far? He is in ^0000cd Gingerbread City ^000000, the address is...";
		mes "[Curse Expert Wizard] Gingerbread City 83-222.";
		next;
		mes "[Edward]";
		mes "He is a famous wizard in Gingerbread Town.";
		mes "He is the foremost expert on curses.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "You know him very well?";
		next;
		mes "[Edward]";
		mes "Life! You will know it naturally.";
		mes "I know someone around me who has a shady career.";
		next;
		mes "[Edward]";
		mes "But please remember,";
		mes "I'm different from them.";
		close;
	}
	if (isbegin_quest(14406) == 1) {
		mes "[Edward]";
		mes "Have you ever been to the place that caused a big commotion?";
		mes "I really want to know what happened.";
		next;
		mes "[Edward]";
		mes "Be safe.";
		mes "Everyone here is sleeping peacefully.";
		close;
	}
	if (isbegin_quest(14405) == 1) {	// Step 15
		mes "[Edward]";
		mes "Have you given it to the girl?";
		mes "Does she feel burdened?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "She refused at first, but accepted it after explaining Edward's good intentions.";
		mes "Also sending this as a thank you.";
		next;
		mes "[Edward]";
		mes "What a beautiful flower!";
		mes "This was my favorite flower when I was alive.";
		next;
		mes "[Edward]";
		mes "She is indeed a kind-hearted child.";
		mes "Now it's my turn to express my gratitude to you.";
		next;
		mes "[Edward]";
		mes "If you have any requests, please let me know.";
		mes "I'll try my best to help.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Actually, I came here because of the ghost that appeared in that girl's house.";
		mes "I received a request to exorcise a ghost, but I don't know why the ghost appeared.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I came here to investigate the reason.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I came to see Edward on behalf of your grandson.";
		next;
		mes "[Edward]";
		mes "Who dares to bully her?";
		mes "I will fix that!!!!!!!!!";
		next;
		mes "[Edward]";
		mes "But I don't know the reason.";
		mes "There really isn't much change here.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Really? What a shame.";
		mes "I'll go and check it out myself.";
		next;
		mes "[Edward]";
		mes "Ah! Maybe it has something to do with that.";
		mes "There was a big commotion near the cemetery over there^0000cd not long ago^000000.";
		next;
		mes "[Edward]";
		mes "I suggest you go there and have a look.";
		mes "Maybe we can find some clues.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "It's worth investigating.";
		mes "Thank you for letting me know.";
		next;
		mes "[Edward]";
		mes "I thank you.";
		mes "Good luck!";
		close2;
		if (countitem(6853) > 0)
			delitem 6853,1;	// Thankful_Flowers
		erasequest 14405;
		setquest 14406;
		end;
	}
	if (isbegin_quest(14370) == 1 || isbegin_quest(14369) == 1 || isbegin_quest(14368) == 1 || isbegin_quest(14367) == 1 || isbegin_quest(14366) == 1 || isbegin_quest(14365) == 1 || isbegin_quest(14364) == 1) {
		mes "[Edward]";
		mes "Has the inheritance been dug up?";
		mes "The size is not big and it seems to be there but not there.";
		next;
		mes "[Edward]";
		mes "But the gem is priceless.";
		mes "But if all seven gems are gathered...!";
		next;
		mes "[Edward]";
		mes "It's okay! It's okay...";
		mes "Sorry to trouble you further.";
		close;
	}
	if (isbegin_quest(14363) == 1) {	// Step 5
		mes "[Edward]";
		mes "It's cold and dark here but peaceful.";
		mes "I'm just worried about the kid...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Excuse me.. are you Edward King?";
		next;
		mes "[Edward]";
		mes "That's right.. You are alive, right?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I am a member of the Golden Hammer Clan, and I am here at the request of your grandson Garen.";
		next;
		mes "[Edward]";
		mes "Huh? Garen?";
		mes "Did he ask you to come?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "He said you passed away before you could finish telling where the inheritance was.";
		next;
		mes "[Edward]";
		mes "It's all for money, he's really persistent!";
		mes "That perseverance was used in the wrong place.";
		next;
		mes "[Edward]";
		mes "I didn't finish the will on purpose.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Huh? Did you leave it unfinished on purpose?";
		mes "Why is that?";
		next;
		mes "[Edward]";
		mes "Have you met Garen?";
		mes "You know he is a good-for-nothing kid.";
		next;
		mes "[Edward]";
		mes "I raised him after his parents passed away.";
		mes "Because she was a child from a wealthy family, her neighbors doted on her.";
		next;
		mes "[Edward]";
		mes "I feel ashamed when I see it.";
		mes "He used career as an excuse to eat, drink and have fun everywhere, and spent all the savings left by his parents. Later, he just hoped that I would die so that he could inherit the family property.";
		next;
		mes "[Edward]";
		mes "I'm usually nice to him.";
		mes "Deeply disappointed with his unwillingness to improve.";
		next;
		mes "[Edward]";
		mes "They didn't come to visit me when I was sick in bed, they only came when he was short of money.";
		mes "When I was dying, he coveted my property, so I deliberately didn't tell him!";
		next;
		mes "[Edward]";
		mes "I gave away almost all my inheritance to the poor during my lifetime.";
		mes "He had been given too much.";
		next;
		mes "[Edward]";
		mes "The money I gave was enough for him to spend for a lifetime, but he just squandered it.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Do you still miss your grandson?";
		mes "You didn't finish your will because you wanted your grandson to come and see you, right?";
		next;
		mes "[Edward]";
		mes ".......";
		mes "Everyone else understands, only he doesn't, ah!!!";
		next;
		mes "[Edward]";
		mes "He is beyond help.";
		mes "A good-for-nothing guy.";
		next;
		mes "[Edward]";
		mes "Actually, I left something for him when he came.";
		mes "But now it seems there is no cure!";
		next;
		mes "[Edward]";
		mes "Can you tell Garen you didn't see me?";
		next;
		mes "[" + .@player_name$ + "]";
		mes "OK, got it.";
		mes "I'll tell him so.";
		next;
		mes "[Edward]";
		mes "I have another favor to ask of you.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Please tell me, I'm willing to help.";
		next;
		mes "[Edward]";
		mes "When I was sick in bed, a young girl took good care of me.";
		mes "She is a girl who delivers bouquets of flowers on behalf of people she knows in Morocc.";
		next;
		mes "[Edward]";
		mes "Maybe they felt sorry for me, so they often came to take care of me and talk to me.";
		mes "I had originally planned to leave her an inheritance, but I died before I could say anything.";
		next;
		mes "[Edward]";
		mes "She is a kind-hearted little girl.";
		mes "If Garen is a bit more promising, she'd like to be my granddaughter-in-law!";
		next;
		mes "[Edward]";
		mes "I'll tell you where the inheritance is buried. Find it and give it to the girl!";
		mes "I heard she runs a flower shop in Morocc.";
		next;
		mes "[Edward]";
		mes "^0000cdMy legacy is buried on the seashore of Comodo Island^000000,";
		mes "There are seven places of burial.";
		next;
		mes "[Edward]";
		mes "Thank you for your help.";
		close2;
		erasequest 14363;
		setquest 14364;
		end;
	}
	mes "[Edward]";
	mes "It's cold and dark here but peaceful.";
	close;
}

// Golden Hammer Clan quest - Step 6
comodo,184,258,4	script	Traces of Digging#gmclan01	4_SOIL,{
	.@num = atoi( charat( strnpcinfo(2), 7 ) );
	callsub( S_Talk, .@num );

S_Talk:
	.@player_name$ = strcharinfo(0);

	if (checkweight(1304,3) == 0) {
		mes "[" + .@player_name$ + "]";
		mes "The backpack is too heavy and it's not very convenient.";
		mes "I'll clean it up first.";
		close;
	}

	.@num = getarg(0) - 1;
	setarray .@quest_id[0],
		14364,14365,14366,14367,14368,14369,14370,
		14371;	// final
	setarray .@item_name$[0], "Red","Orange","Yellow","Green","Transparent","Blue","Purple";
	.@size = getarraysize(.@quest_id);


	if (isbegin_quest(.@quest_id[.@num]) == 1) {
		switch( rand(1,3) ) {
		case 1:
			mes "[" + .@player_name$ + "]";
			mes "My finger seems to have touched something.";
			mes "Keep digging!";
			close;
		case 2:
			mes "[" + .@player_name$ + "]";
			mes "^0000cd" + .@item_name$[.@num] + " gem^000000 dug out.";
			if (.@quest_id[.@num] == 14370)
				mes "All the colorful gems have been dug out, go give them to the girl!";
			else
				mes "Look somewhere else!";
			close2;
			erasequest .@quest_id[.@num];
			setquest .@quest_id[.@num] + 1;
			end;
		default:
			mes "[" + .@player_name$ + "]";
			mes "I continue to dig sand but nothing is found.";
			mes "Should I give up?";
			close;
		}
	}
	for ( .@i = 0; .@i < .@num; ++.@i ) {
		if (isbegin_quest(.@quest_id[.@i]) == 1) {
			mes "[" + .@player_name$ + "]";
			mes "Just check elsewhere first.";
			close;
		}
	}
	for ( .@i = .@num + 1; .@i < .@size; ++.@i ) {
		if (isbegin_quest(.@quest_id[.@i]) == 1) {
			mes "[" + .@player_name$ + "]";
			mes "There's nothing here anymore.";
			close;
		}
	}
	end;
}

// Golden Hammer Clan quest - Step 7
comodo,208,195,4	duplicate(Traces of Digging#gmclan01)	Traces of Digging#gmclan02	4_SOIL

// Golden Hammer Clan quest - Step 8
comodo,47,161,4	duplicate(Traces of Digging#gmclan01)	Traces of Digging#gmclan03	4_SOIL

// Golden Hammer Clan quest - Step 9
comodo,331,192,4	duplicate(Traces of Digging#gmclan01)	Traces of Digging#gmclan04	4_SOIL

// Golden Hammer Clan quest - Step 10
comodo,77,260,4	duplicate(Traces of Digging#gmclan01)	Traces of Digging#gmclan05	4_SOIL

// Golden Hammer Clan quest - Step 11
comodo,103,293,4	duplicate(Traces of Digging#gmclan01)	Traces of Digging#gmclan06	4_SOIL

// Golden Hammer Clan quest - Step 12
comodo,118,323,4	duplicate(Traces of Digging#gmclan01)	Traces of Digging#gmclan07	4_SOIL

// Golden Hammer Clan quest - Step 13
// morocc_in,72,167,4	script	Troubled Girl#gmclan01	4_F_02,{

// Golden Hammer Clan quest - Step 14
// morocc_in,72,167,4	script	Troubled Girl#gmclan01	4_F_02,{

// Golden Hammer Clan quest - Step 15
// niflheim,125,65,4	script	Kind Grandfather#gmclan01	1_M_JOBTESTER,{

// Golden Hammer Clan quest - Step 16
niflheim,245,102,5	script	Moaning boy#gmclan01	4_M_NFDEADMAN,{
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14411) == 1) {
		mes "[Cursed Wizard]";
		mes "Here it comes! Here it comes!!";
		mes "Oh! You're still alive?";
		next;
		mes "[Cursed Wizard]";
		mes "I thought I had a companion.";
		mes "No living people needed, go away.";
		close;
	}
	if (isbegin_quest(14410) == 1) {	// Step 19
		mes "[Cursed Wizard]";
		mes "Here it comes! Here it comes!";
		mes "The great benefactor of my life, even though I am dead.";
		next;
		mes "[Cursed Wizard]";
		mes "The spell that bound me was lifted shortly before you came!!";
		mes "I am free and can rest in peace again!";
		next;
		mes "[Cursed Wizard]";
		mes "Thank you very much!";
		mes "Although I can't repay you now, I will take good care of you after you die.";
		next;
		mes "[Cursed Wizard]";
		mes "I will find a piece of precious land for you!";
		mes "Very happy, right?";
		next;
		mes "[Cursed Wizard]";
		mes "I hope you can find some time to accompany me.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Are you cursing me to die early?";
		next;
		mes "[Cursed Wizard]";
		mes "There's nothing wrong with that! Haha!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Will you call back the dead into the world of the living?";
		next;
		mes "[Cursed Wizard]";
		mes "Certainly!!!";
		mes "But...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "But..?";
		next;
		mes "[Cursed Wizard]";
		mes "I am free from the curse...";
		mes "Um.. it's ok!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Come on!";
		next;
		mes "[Cursed Wizard]";
		mes "A ghost that has been summoned cannot be called back.";
		mes "What to do??";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Is the summoned ghost helpless?";
		emotion ET_HUK, playerattached();
		next;
		mes "[Cursed Wizard]";
		mes "Yes, this is beyond my ability.";
		mes "Although it won't cause any harm to anyone...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Is there no other way?";
		next;
		mes "[Cursed Wizard]";
		mes "No!";
		mes "If there is, I would have said it earlier!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "There is nothing we can do.";
		mes "Okay! I'll tell the client.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Do you know the people who hold you captive?";
		mes "I worry that they might hurt other people.";
		next;
		mes "[Cursed Wizard]";
		mes "I am not familiar with them.";
		mes "One day, he suddenly came and bound me.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "No clues?";
		next;
		mes "[Cursed Wizard]";
		mes "I don't know their appearance or the units they belong to, but if you talk to them...";
		mes "I heard that recently people have been asking around about ^0000cdthe grandson of a rich grandfather on Comodo Island^000000.";
		next;
		mes "[Cursed Wizard]";
		mes "Intends to defraud money and then use it as funds for other places.";
		mes "It's not like they're acting out of self-interest.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "The grandson of Comodo Island..? Sounds familiar?";
		mes "No other clues?";
		next;
		mes "[Cursed Wizard]";
		mes "No!";
		mes "It was also in my sleep...";
		next;
		mes "[Cursed Wizard]";
		mes "When I woke up I was in so much pain I couldn't hear clearly.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "OK, thanks!";
		mes "I'll take my leave first.";
		next;
		mes "[Cursed Wizard]";
		mes "Are you leaving?";
		mes "I'll help you find a treasure land!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Thank you.. thank you!";
		next;
		mes "[Cursed Wizard]";
		mes "See you later!";
		close2;
		erasequest 14410;
		setquest 14411;
		end;
	}
	if (isbegin_quest(14407) == 1) {
		mes "[Cursed Wizard]";
		mes "Woohoo.. Woohoo..";
		mes "Coming back so soon!";
		next;
		mes "[Cursed Wizard]";
		mes "Ha!";
		mes "Haven't you done it yet? Hurry up! I'm in so much pain!!!";
		close;
	}
	if (isbegin_quest(14406) == 1) {	// Step 16
		mes "[Cursed Wizard]";
		mes "Woohoo.. Woohoo..";
		mes "No one...can...";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Who are you?";
		mes "What's going on?";
		next;
		mes "[Cursed Wizard]";
		mes "Why must I be tortured till death, why??";
		next;
		mes "[" + .@player_name$ + "]";
		mes "What happened?";
		next;
		mes "[Cursed Wizard]";
		mes "You damned fellows, I will repay you double when you come here!!!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Please tell me...";
		next;
		mes "[Cursed Wizard]";
		mes "My condition is very bad now, please keep it short.";
		mes "It seems that you are not in the same group with them, your magnetic field is different.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Who are you?";
		next;
		mes "[Cursed Wizard]";
		mes "Didn't I tell you to keep it short?!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Not long ago, ghosts started appearing in a house in Morocc!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I hear there was a great commotion here not long ago.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "So I wanted to ask you what happened, but it seems that you are not in good condition.";
		next;
		mes "[Cursed Wizard]";
		mes "Of course, the situation is not good. I am suffering when I want to rest.";
		mes "Are there ghosts in Morocc? I summoned them.";
		next;
		mes "[Cursed Wizard]";
		mes "But I was forced to do that, you know?";
		mes "I was an ordinary summoner in my previous life.";
		next;
		mes "[Cursed Wizard]";
		mes "Later, when facing death, I welcomed rest.";
		mes "But not long ago a living person disturbed my sleep and pulled me up.";
		next;
		mes "[Cursed Wizard]";
		mes "Then I don't know what they did to me, and from then on I was controlled by them.";
		mes "I can only be forced to summon the dead!";
		next;
		mes "[Cursed Wizard]";
		mes "You will suffer forever from now on!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Calm down first.";
		mes "Can't I stop the summoning? Is there no way at all?";
		next;
		mes "[Cursed Wizard]";
		mes "Stop the summoning? I want to know how, too.";
		mes "I was completely passive in my summoning.";
		next;
		mes "[Cursed Wizard]";
		mes "If I could break the spell that binds me, maybe I could escape from the sea of suffering!";
		mes "Then maybe it'll stop the summoning!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "A spell?";
		next;
		mes "[Cursed Wizard]";
		mes "A spell that controls the dead at its mercy.";
		mes "I guess the other party should be an expert.";
		next;
		mes "[Cursed Wizard]";
		mes "Our meeting should not be accidental.";
		mes "Please, free me from this torture!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "How can I help you?";
		next;
		mes "[Cursed Wizard]";
		mes "Well... How can you help?";
		next;
		mes "[Cursed Wizard]";
		mes "Will it be effective if I chant the mantra backwards?";
		mes "Apart from summoning, my knowledge is shallow.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I'll ask to an ^0000cdexpert^000000.";
		next;
		mes "[Cursed Wizard]";
		mes "That's a good idea! There are many highly educated people here, go and ask them.";
		mes "I've heard about Santa City and what it's like. Go ask around. I'll be waiting for you here.";
		next;
		mes "[Cursed Wizard]";
		mes "In fact, I couldn't leave.";
		mes "Woohoo!!! Go quickly and come back quickly.";
		next;
		mes "[Cursed Wizard]";
		mes "Then I'll continue to moan!";
		mes "Woohoo.. Woohoo.. Woohoo..";
		close2;
		erasequest 14406;
		setquest 14407;
		end;
	}
	mes "[Cursed Wizard]";
	mes "Woohoo.. Woohoo..";
	mes "Please help me....";
	close;
}

// Golden Hammer Clan quest - Step 17, 18
xmas,83,222,4	script	Spell Wizard#gmclan01	4_M_FROZEN1,{
	if (checkweight(1304,3) == 0) {
		mes "[Xiao Xun]";
		mes "You carry so many things!?";
		mes "Don't you think it's too heavy?";
		next;
		mes "[Xiao Xun]";
		mes "Please come back after lightening up!";
		close;
	}
	.@player_name$ = strcharinfo(0);

	if (isbegin_quest(14410) == 1) {
		mes "[Xiao Xun]";
		mes "Are things going well?";
		close;
	}
	if (isbegin_quest(14409) == 1 || isbegin_quest(14408) == 1) {	// Step 18
		mes "[Xiao Xun]";
		mes "Coming back so soon!";
		mes "Looks very anxious!";
		next;
		mes "[Xiao Xun]";
		mes "Let me check what you brought..?";
		next;
		if (isbegin_quest(14409) == 1)
			.@extra_check = (countitem(7208) < 1 || countitem(7097) < 13);
		else
			.@extra_check = (countitem(7561) < 13);

		if (countitem(523) < 14 || countitem(724) < 3 || countitem(7099) < 13 || .@extra_check) {
			mes "[Xiao Xun]";
			mes "Ah..?";
			mes "No materials?";
			next;
			mes "[Xiao Xun]";
			mes "Are you kidding me?";
			mes "There's nothing in there?";
			next;
			mes "[Xiao Xun]";
			mes "I'll give you one more chance.";
			next;
			if (isbegin_quest(14409) == 1) {
				mes "[Xiao Xun]";
				mes "^0000cd14 " + getitemname(523) + ", 3 " + getitemname(724) + ", 13 " + getitemname(7099) + ", 1 " + getitemname(7208) + ".^000000.";
				next;
				mes "[Xiao Xun]";
				// mes "I also need ^0000cd" + getitemname(7097) + "^000000,";	// Debug : description doesn't match the requirements
				// mes "I need " + getitemname(7097) + " that never goes out.";
				mes "I also need ^0000cd13 " + getitemname(7097) + "^000000,";
				mes "I need " + getitemname(7097) + " that never goes out.";
			}
			else {
				// Debug : description doesn't match the requirements
				// mes "[Xiao Xun]";
				// mes "^0000cd14 " + getitemname(523) + ", 3 " + getitemname(724) + ", 13 " + getitemname(7099) + ", 1 " + getitemname(7208) + ".^000000.";
				// next;
				// mes "[Xiao Xun]";
				// mes "I also need ^0000cd" + getitemname(7097) + "^000000,";
				// mes "I need " + getitemname(7097) + " that never goes out.";
				mes "[Xiao Xun]";
				mes "^0000cd14 " + getitemname(523) + ", 3 " + getitemname(724) + ", 13 " + getitemname(7099) + ".^000000.";
				next;
				mes "[Xiao Xun]";
				mes "I also need ^0000cd13 " + getitemname(7561) + "^000000,";
				mes "I need " + getitemname(7561) + " that never goes out.";
			}
			next;
			mes "[Xiao Xun]";
			mes "I want it even if it melts me.";
			next;
			mes "[Xiao Xun]";
			mes "Isn't it hard to find these things?";
			mes "You're joking again...";
			close;
		}
		mes "[Xiao Xun]";
		mes "It's perfect,";
		mes "Thank you so much.";
		next;
		mes "[Xiao Xun]";
		mes "I'm waiting for someone as warm and perfect as you.";
		mes "Can you give me your soul?";
		next;
		mes "[Xiao Xun]";
		mes "I can destroy all your enemies";
		mes "and fulfill all your wishes.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah! I am all on my own,";
		mes "my soul is precious.";
		next;
		mes "[Xiao Xun]";
		mes "I knew you would say that,";
		mes "but I can't take it away by force.";
		next;
		mes "[Xiao Xun]";
		mes "Since you have given me the items,";
		mes "I will remove the binding spell as agreed!";
		next;
		mes "[Xiao Xun]";
		mes "All is well.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah... no magic circle or anything like that?";
		mes "Too.. simple, right?";
		next;
		mes "[Xiao Xun]";
		mes "I'm an expert and don't need that at all.";
		mes "All I need are sacrifices and my talent.";
		next;
		mes "[Xiao Xun]";
		mes "It's all low-level wizards who ruined the image.";
		mes "Your wish has been granted, go and make it come true!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah! Thank you!";
		next;
		mes "[Xiao Xun]";
		mes "If you are willing to accept my advice, come back!";
		close2;
		delitem 523,14;	// Holy_Water
		delitem 724,3;	// Cardinal_Jewel_
		delitem 7099,13;	// Old_Magic_Circle
		if (isbegin_quest(14409) == 1) {
			delitem 7208,1;	// Rusty_Cleaver
			delitem 7097,13;	// Burning_Heart
			erasequest 14409;
		}
		else {
			delitem 7561,13;	// Ice_Heart
			erasequest 14408;
		}
		setquest 14410;
		end;
	}
	if (isbegin_quest(14407) == 1) {	// Step 17
		mes "[Xiao Xun]";
		mes "The warm wind blows...";
		mes "I'm melting.";
		next;
		mes "[Xiao Xun]";
		mes "A warm person came over.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I heard you are very good at spells.";
		mes "Want to know how to remove a binding spell.";
		next;
		mes "[Xiao Xun]";
		mes "Why should I tell you?";
		mes "Stay away from me, I'm melting.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "There was a man who was afflicted by a curse.";
		mes "He keeps passively summoning the dead, and the summoned dead tortures another person.";
		next;
		mes "[Xiao Xun]";
		mes "Other people's suffering is none of my business.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ignoring the pain of others is despicable!!!";
		next;
		mes "[Xiao Xun]";
		mes "Then I'll give you pain, okay?";
		mes "Let you experience the pain of others.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "No..";
		mes "Excuse me, bye!";
		next;
		mes "[Xiao Xun]";
		mes "Wait, there is warmth coming from you,";
		mes "It's really a rare feeling!";
		next;
		mes "[Xiao Xun]";
		mes "That's why you care about other people's suffering.";
		mes "You are never indifferent to the suffering of others.";
		next;
		mes "[Xiao Xun]";
		mes "This is your destiny.";
		mes "Same as me.";
		next;
		mes "[Xiao Xun]";
		mes "I changed my mind.";
		mes "I'm willing to help you.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Many thanks!";
		next;
		mes "[Xiao Xun]";
		mes "You just have to help me.";
		mes "That's fair!";
		next;
		mes "[" + .@player_name$ + "]";
		mes "I will do my best.";
		next;
		mes "[Xiao Xun]";
		mes "You are such a heroic person,";
		mes "What kind of binding spell is casted first?";
		next;
		mes "[Details the story of the cursed summoner of Niflheim.] ]";
		next;
		mes "[Xiao Xun]";
		mes "That was a spell I was asked to cast not long ago.";
		mes "This time I have to lift it...it doesn't matter to me.";
		next;
		mes "[Xiao Xun]";
		mes "And that person gave me a piece of soul.";
		next;
		mes "[" + .@player_name$ + "]";
		mes "Ah! So should I too..?";
		next;
		mes "[Xiao Xun]";
		mes "Don't worry, I'll ask you for something else.";
		mes "Some offerings need to be prepared before the spell can be broken.";
		next;
		mes "[Xiao Xun]";
		mes "^0000cdHoly Water 14, Cursed Ruby 3, Old Magic Map 13^000000.";
		next;
		if (BaseLevel < 120) {
			mes "[Xiao Xun]";
			mes "Still need ^0000cd Ice Heart^000000,";
			mes "Even if I have a heart, it should be cold, right?";
			next;
			mes "[Xiao Xun]";
			mes "It should be a heart that matches mine.";
			mes "Go bring me some!";
		}
		else {
			mes "[Xiao Xun]";
			mes "Rusty Kitchen Knife 1 and ^0000cd Burning Heart ^000000,";
			mes "I need 1 burning heart that never goes out.";
			next;
			mes "[Xiao Xun]";
			mes "I want it even if it melts me.";
		}
		next;
		mes "[Xiao Xun]";
		mes "Isn't it easy to bring these things?";
		mes "Show your sincerity!";
		close2;
		erasequest 14407;
		if (BaseLevel < 120)
			setquest 14408;
		else
			setquest 14409;
		end;
	}
	mes "[Xiao Xun]";
	mes "Even colder.";
	mes "Colder and colder!!!";
	close;

OnTouch:
	mes "[Xiao Xun]";
	mes "Don't come over here!";
	close;
}

// Golden Hammer Clan quest - Step 19
// niflheim,245,102,5	script	Moaning boy#gmclan01	4_M_NFDEADMAN,{

// Golden Hammer Clan quest - Step 20
// morocc_in,72,167,4	script	Troubled Girl#gmclan01	4_F_02,{

// Golden Hammer Clan quest - Step 21
// cmd_in01,169,86,4	script	Garen#gmclan01	4_M_NOVELIST,{

// Golden Hammer Clan quest - Step 22
// prontera,226,355,5	script	Pangman#gmclan01	4_M_BIRMAN,{

// Golden Hammer Clan quest - Step 23
// prontera,226,355,5	script	Pangman#gmclan01	4_M_BIRMAN,{

// Sword Clan quest - Step 24 - instance : Remnant's Base Camp
// iz_dun03,30,170,6	script	Goalkeeper#dunclan02	4_M_RASWORD,{

// Golden Hammer Clan quest - Step 25
// prontera,226,355,5	script	Pangman#gmclan01	4_M_BIRMAN,{


prontera,34,324,5	script	Sword Clan#sdclan01	4_BOARD3,{
	.@visible_name$ = strnpcinfo(1);

	mes "[" + .@visible_name$ + "]";
	mes "Request or certificate accepted.";
	mes "The " + .@visible_name$ + " wishes you a nice day!";
	close;
}

prontera,34,326,5	script	Sword Clan Collector#sdclan01	4_M_02,{
	.@hidden_name$ = strnpcinfo(2);

	if (.@hidden_name$ == "sdclan01")
		callsub( S_Clan, SWORDCLAN, "Sword", $13_sd_clan_q );
	else if (.@hidden_name$ == "awclan01")
		callsub( S_Clan, ARCWANDCLAN, "Arch Wand", $13_aw_clan_q );
	else if (.@hidden_name$ == "gmclan01")
		callsub( S_Clan, GOLDENMACECLAN, "Golden Mace", $13_gm_clan_q );
	else if (.@hidden_name$ == "cbclan01")
		callsub( S_Clan, CROSSBOWCLAN, "Crossbow", $13_cb_clan_q );
	end;

S_Clan:
	if (getcharid(5) != getarg(0)) {
		mes "[Collector]";
		mes "I'm busy!";
		close;
	}
	.@time = gettimetick(1);
	.@clan_day = gettime(DT_DAYOFMONTH);

	if (.@time >= 1 && .@time <= 35) {
		if (.@clan_day == 1 || .@clan_day == 16) {
			mes "[Collector]";
			mes "Sorry, please wait,";
			mes "we are in the process of checking out.";
			next;
			mes "[Collector]";
			mes "This is the busiest time of the year,";
			mes "so we can't afford to make a mistake...";
			close;
		}
		end;
	}
	mes "[Collector]";
	mes "How are you?";
	mes "I am the collector of the certificates for the " + getarg(1) + " Clan.";
	next;
	mes "[Collector]";
	mes "How can we help you?";
	next;
	switch( select( "What do you collect?", "I want to participate", "Cancel" ) ) {
	case 1:
		mes "[Collector]";
		mes "If you complete the weekly request given by the Leader, you will be given a completion certificate.";
		mes "Do you want to know its use?";
		next;
		mes "[Collector]";
		mes "The Kingdom has established a system that accepts completion certificates in order to confirm whether each Clan is operating smoothly.";
		next;
		mes "[Collector]";
		mes "When a request is completed, a certificate will be handed over to the member, and then the Clans will collect the certificate.";
		next;
		mes "[Collector]";
		mes "The more certificates are collected, the more active the Clan is, which means it will enjoy more benefits.";
		next;
		mes "[Collector]";
		mes "The number of certificates that can be rewarded increases, and the experience points also increase.";
		next;
		mes "[Collector]";
		mes "After completing the weekly request, just give me the certificate.";
		mes "Easy, right?";
		next;
		mes "[Collector]";
		mes "The benefits will be reset on the 1st and 16th of each month,";
		mes "so please work hard to collect the certificates!";
		close;
	case 2:
		mes "[Collector]";
		mes "Did you bring the certificates?";
		mes "How many do you want to give? We accept up to 30 at a time!";
		next;
		switch( input(.@num, 1, 30) ) {
		case -1:
			mes "[Collector]";
			mes "Aren't you here to deliver the certificate?";
			mes "Did you change your mind?";
			mes "See you next time~";
			close;
		case 1:
			mes "[Collector]";
			mes "^0000cdWe can accept up to 30 certificates^000000 at a time!!";
			close;
		default:
			break;
		}
		if (countitem(6849) < .@num) {
			mes "[Collector]";
			mes "Hmm... the quantity does not match?";
			mes "Please enter the quantity you hold!";
			close;
		}
		mes "[Collector]";
		mes "The receipt has been completed,";
		mes "thank you~";
		close2;
		delitem 6849, .@num;
		set getarg(2), getarg(2) + .@num;
		end;
	case 3:
		mes "[Collector]";
		mes "Okay,";
		mes "If you still need service feel free to come by.";
		close;
	}
	end;
}

prontera,48,110,6	duplicate(Sword Clan#sdclan01)	Arch Wand Clan#awclan01	4_BOARD3
prontera,46,109,6	duplicate(Sword Clan Collector#sdclan01)	Arch Wand Clan Collector#awclan01	4_M_02

prontera,228,355,5	duplicate(Sword Clan#sdclan01)	Golden Mace Clan#gmclan01	4_BOARD3
prontera,228,357,5	duplicate(Sword Clan Collector#sdclan01)	Golden Mace Clan Collector#gmclan01	4_M_02

prontera,202,258,4	duplicate(Sword Clan#sdclan01)	Crossbow Clan#cbclan01	4_BOARD3
prontera,201,261,4	duplicate(Sword Clan Collector#sdclan01)	Crossbow Clan Collector#cbclan01	4_M_02


sec_in02,12,17,5	script	Acceptance test#sdclan101	4_M_KID1,{
	switch( callfunc("F_GM_NPC",404,0, 0,999999) ) {
	case -2:
		end;
	case -1:
		mes "Cancel.";
		close;
	case 0:
		mes "Wrong password.";
		close;
	case 1:
		mes "[Collector]";
		mes "Did you bring the voucher?";
		mes "How many do you want to deliver? Maximum 100 each time!";
		next;
		switch( input(.@num, 1, 100) ) {
		case -1:
			mes "[Collector]";
			mes "Aren't you here to deliver the certificate?";
			mes "Did you change your mind?";
			mes "See you next time~";
			close;
		case 1:
			mes "[Collector]";
			mes "^0000cdMaximum 100^000000 each time!";
			mes "I can only count to 100...";
			mes "Excuse me!";
			close;
		default:
			break;
		}
		if (countitem(6849) < .@num) {
			mes "[Collector]";
			mes "Hmm... the quantity does not match?";
			mes "Please enter the quantity you hold!";
			close;
		}
		mes "[Collector]";
		mes "The receipt has been completed,";
		mes "thank you~";
		close2;
		delitem 6849, .@num;
		$13_sd_clan_q += .@num;
		$13_aw_clan_q += .@num;
		$13_cb_clan_q += .@num;
		$13_gm_clan_q += .@num;
		end;
	}
	end;
}

sec_in02,10,29,4	script	Clan Reset#conclan01	2_POSTBOX,{
	switch( callfunc("F_GM_NPC",1854,0, 0,999999) ) {
	case -2:
		end;
	case -1:
		mes "Cancel.";
		close;
	case 0:
		mes "Wrong password.";
		close;
	case 1:
		mes "The password is correct,";
		mes "What do you need?";
		next;
		switch( select( "Current variable of each Clan", "Reset variable", "Cancel" ) ) {
		case 1:
			mes "Sword Clan " + $13_sd_clan_q + "";
			mes "Arch Wand Clan " + $13_aw_clan_q + "";
			mes "Golden Mace Clan " + $13_gm_clan_q + "";
			mes "Crossbow Clan " + $13_cb_clan_q + "";
			close;
		case 2:
			switch( select( "Reset Sword Clan variable", "Reset Arch Wand Clan variable", "Reset Golden Mace Clan variable", "Reset Crossbow Clan variable", "Reset all", "Cancel" ) ) {
			case 1:
				mes "Sword Clan variable will be reset.";
				close2;
				$13_sd_clan_q = 0;
				end;
			case 2:
				mes "Arch Wand Clan variable will be reset.";
				close2;
				$13_aw_clan_q = 0;
				end;
			case 3:
				mes "Golden Mace Clan variable will be reset.";
				close2;
				$13_gm_clan_q = 0;
				end;
			case 4:
				mes "Crossbow Clan variable will be reset.";
				close2;
				$13_cb_clan_q = 0;
				end;
			case 5:
				mes "All Clan variable will be reset.";
				close2;
				$13_sd_clan_q = 0;
				$13_aw_clan_q = 0;
				$13_gm_clan_q = 0;
				$13_cb_clan_q = 0;
				end;
			case 6:
				mes "Bye!";
				close;
			}
			break;
		case 3:
			mes "Bye!";
			close;
		}
		end;
	}
	end;

OnInit:
OnTimer30000:
	.@time = gettimetick(1);
	.@clan_day = gettime(DT_DAYOFMONTH);

	if (.@time >= 1 && .@time <= 35 && (.@clan_day == 1 || .@clan_day == 16)) {
		$13_sd_clan_q = 0;
		$13_aw_clan_q = 0;
		$13_gm_clan_q = 0;
		$13_cb_clan_q = 0;
	}
	initnpctimer;
	end;
}
